{"version":3,"file":"vue-file-agent.umd.min.js","mappings":"CAAA,SAA2CA,EAAMC,GAC1B,kBAAZC,SAA0C,kBAAXC,OACxCA,OAAOD,QAAUD,EAAQG,QAAQ,QACR,oBAAXC,QAAyBA,OAAOC,IAC9CD,OAAO,GAAIJ,GACe,kBAAZC,QACdA,QAAQ,kBAAoBD,EAAQG,QAAQ,QAE5CJ,EAAK,kBAAoBC,EAAQD,EAAK,OACvC,EATD,CASoB,qBAATO,KAAuBA,KAAOC,MAAO,SAASC,GACzD,O,oCCVA,WAMC,SAAUT,EAAMC,GAEb,EAAO,GAAI,EAAF,EAAS,gEAMtB,EARA,CAQkB,qBAATM,MAAuBA,MAAa,WAC3C,SAASG,IACP,IAAIC,EAAaC,OAAOC,yBAAyBC,SAAU,iBAE3D,IAAKH,GAAc,kBAAmBG,UAAYA,SAASC,cACzD,OAAOD,SAASC,cAIlB,GAAIJ,GAAcA,EAAWK,MAAQN,GAAoBI,SAASC,cAChE,OAAOD,SAASC,cAKlB,IACE,MAAM,IAAIE,KA4CZ,CA1CA,MAAOC,GAEL,IAMEC,EACAC,EACAC,EAREC,EAAgB,kCAClBC,EAAgB,6BAChBC,EAAeF,EAAcG,KAAKP,EAAIQ,QAAUH,EAAcE,KAAKP,EAAIQ,OACvEC,EAAkBH,GAAgBA,EAAa,KAAO,EACtDI,EAAQJ,GAAgBA,EAAa,KAAO,EAC5CK,EAAkBf,SAASgB,SAASC,KAAKC,QAAQlB,SAASgB,SAASG,KAAM,IAIzEC,EAAUpB,SAASqB,qBAAqB,UAEtCR,IAAmBE,IACrBV,EAAaL,SAASsB,gBAAgBC,UACtCjB,EAA2B,IAAIkB,OAAO,sBAAwBV,EAAO,GAAK,iDAAkD,KAC5HP,EAAqBF,EAAWa,QAAQZ,EAA0B,MAAMmB,QAG1E,IAAK,IAAIC,EAAI,EAAGA,EAAIN,EAAQO,OAAQD,IAAK,CAEvC,GAA8B,gBAA1BN,EAAQM,GAAGE,WACb,OAAOR,EAAQM,GAIjB,GAAIN,EAAQM,GAAGG,MAAQhB,EACrB,OAAOO,EAAQM,GAIjB,GACEb,IAAmBE,GACnBK,EAAQM,GAAGI,WACXV,EAAQM,GAAGI,UAAUL,SAAWlB,EAEhC,OAAOa,EAAQM,EAEnB,CAGA,OAAO,IACT,CACF,CAEA,OAAO9B,CACT,G,+BC9EAP,EAAOD,QAAUO,C,GCCboC,EAA2B,CAAC,EAGhC,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,QAAqBE,IAAjBD,EACH,OAAOA,EAAa9C,QAGrB,IAAIC,EAAS0C,EAAyBE,GAAY,CAGjD7C,QAAS,CAAC,GAOX,OAHAgD,EAAoBH,GAAUI,KAAKhD,EAAOD,QAASC,EAAQA,EAAOD,QAAS4C,GAGpE3C,EAAOD,OACf,E,WCrBA4C,EAAoBM,EAAI,SAASjD,GAChC,IAAIkD,EAASlD,GAAUA,EAAOmD,WAC7B,WAAa,OAAOnD,EAAO,UAAY,EACvC,WAAa,OAAOA,CAAQ,EAE7B,OADA2C,EAAoBS,EAAEF,EAAQ,CAAEG,EAAGH,IAC5BA,CACR,C,eCNAP,EAAoBS,EAAI,SAASrD,EAASuD,GACzC,IAAI,IAAIC,KAAOD,EACXX,EAAoBa,EAAEF,EAAYC,KAASZ,EAAoBa,EAAEzD,EAASwD,IAC5E9C,OAAOgD,eAAe1D,EAASwD,EAAK,CAAEG,YAAY,EAAM7C,IAAKyC,EAAWC,IAG3E,C,eCPAZ,EAAoBa,EAAI,SAASG,EAAKC,GAAQ,OAAOnD,OAAOoD,UAAUC,eAAed,KAAKW,EAAKC,EAAO,C,eCCtGjB,EAAoBoB,EAAI,SAAShE,GACX,qBAAXiE,QAA0BA,OAAOC,aAC1CxD,OAAOgD,eAAe1D,EAASiE,OAAOC,YAAa,CAAEC,MAAO,WAE7DzD,OAAOgD,eAAe1D,EAAS,aAAc,CAAEmE,OAAO,GACvD,C,eCNAvB,EAAoBwB,EAAI,E,4CCGxB,G,4TAAsB,qBAAXC,OAAwB,CACjC,IAAIxD,EAAgBwD,OAAOzD,SAASC,cAE9BL,EAAmB,EAAQ,KAC/BK,EAAgBL,IAGV,kBAAmBI,UACvBF,OAAOgD,eAAe9C,SAAU,gBAAiB,CAAEE,IAAKN,IAI5D,IAAIiC,EAAM5B,GAAiBA,EAAc4B,IAAI6B,MAAM,2BAC/C7B,IACF,IAA0BA,EAAI,GAElC,CAGA,ICtBI8B,EAAS,WAAkB,IAAIC,EAAIlE,KAAKmE,EAAGD,EAAIE,MAAMD,GAAUD,EAAIE,MAAMC,YAAY,OAAOF,EAAG,MAAM,CAACG,MAAM,CAAC,QAAUJ,EAAIK,kBAAkB,CAACL,EAAIM,GAAIN,EAAIO,KAAU,OAAE,SAAS1B,EAAE2B,GAAO,MAAO,CAAC,EAAIP,EAAG,OAAO,CAACjB,IAAIwB,EAAMJ,MAAM,CAAC,EAAIvB,KAAKmB,EAAIS,KAAK,KAAI,EAC1P,EACIC,EAAkB,GCyGOxE,OAAOyE,OAgB7B,SAASC,EAAS3B,GACrB,IAAI4B,EAAsB,oBAAXpB,QAAyBA,OAAOqB,SAAUC,EAAIF,GAAK5B,EAAE4B,GAAI/C,EAAI,EAC5E,GAAIiD,EAAG,OAAOA,EAAEtC,KAAKQ,GACrB,GAAIA,GAAyB,kBAAbA,EAAElB,OAAqB,MAAO,CAC1CiD,KAAM,WAEF,OADI/B,GAAKnB,GAAKmB,EAAElB,SAAQkB,OAAI,GACrB,CAAEU,MAAOV,GAAKA,EAAEnB,KAAMmD,MAAOhC,EACxC,GAEJ,MAAM,IAAIiC,UAAUL,EAAI,0BAA4B,kCACxD,CAEO,SAASM,EAAOlC,EAAGP,GACtB,IAAIqC,EAAsB,oBAAXtB,QAAyBR,EAAEQ,OAAOqB,UACjD,IAAKC,EAAG,OAAO9B,EACf,IAAmBO,EAAY4B,EAA3BtD,EAAIiD,EAAEtC,KAAKQ,GAAOoC,EAAK,GAC3B,IACI,YAAc,IAAN3C,GAAgBA,KAAM,MAAQc,EAAI1B,EAAEkD,QAAQC,KAAMI,EAAGC,KAAK9B,EAAEG,MAQxE,CANA,MAAO4B,GAASH,EAAI,CAAEG,MAAOA,EAAS,CACtC,QACI,IACQ/B,IAAMA,EAAEyB,OAASF,EAAIjD,EAAE,YAAYiD,EAAEtC,KAAKX,EAElB,CAAhC,QAAU,GAAIsD,EAAG,MAAMA,EAAEG,KAAO,CACpC,CACA,OAAOF,CACX,CAkBO,SAASG,EAAcC,EAAIC,EAAMC,GACpC,GAAIA,GAA6B,IAArBC,UAAU7D,OAAc,IAAK,IAA4BsD,EAAxBvD,EAAI,EAAG+D,EAAIH,EAAK3D,OAAYD,EAAI+D,EAAG/D,KACxEuD,GAAQvD,KAAK4D,IACRL,IAAIA,EAAKS,MAAMxC,UAAUyC,MAAMtD,KAAKiD,EAAM,EAAG5D,IAClDuD,EAAGvD,GAAK4D,EAAK5D,IAGrB,OAAO2D,EAAGO,OAAOX,GAAMS,MAAMxC,UAAUyC,MAAMtD,KAAKiD,GACtD,CAqCyBxF,OAAOyE,OCrNhC,I,IAAA,GACE,MAAS,CACP,MACA,MACA,MACA,OAEA,MAGA,MACA,OAEF,iBAAkB,CAAC,MAAO,MAAO,OACjC,QAAW,CAAC,KAAM,MAAO,MAAO,MAAO,MAAO,MAAO,SAAU,IAAK,OACpE,KAAQ,CAEN,MACA,MACA,QACA,OAEF,SAAY,CACV,MACA,MACA,KACA,MACA,MACA,MACA,MACA,MACA,OAGF,WAAc,CAAC,MAAO,MAAO,MAAO,MAAO,KAAM,MAAO,MAAO,SAAU,MAAO,KAAM,MAAO,OAC7F,KAAQ,CAAC,MAAO,MAAO,MAAO,OAC9B,MAAS,CAAC,KAAM,MAAO,MAAO,MAAO,OAAQ,MAAO,MAAO,KAAM,MAAO,MAAO,MAAO,QACtF,OAAU,CACR,MACA,OACA,MACA,MACA,MACA,KACA,MACA,OACA,MACA,OACA,MAEA,OACA,MACA,KACA,MACA,MACA,SAEF,aAAgB,CAAC,MAAO,MAAO,MAAO,MAAO,QAC7C,OAAU,CAAC,IAAK,QAAS,MAAO,KAAM,IAAK,OAAQ,KAAM,OAAQ,KAAM,QAAS,MAChF,MAAS,CAAC,MAAO,MAAO,MAAO,QAC/B,OAAU,CACR,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,OAEA,MACA,MACA,MACA,MACA,OAEF,MAAS,CACP,MACA,MACA,MACA,MACA,OAEA,MAGA,MACA,OACA,KACA,MACA,MAEA,OAEF,iBAAkB,CAAC,MAAO,OAAQ,OAClC,IAAO,CAAC,OACR,IAAO,CACL,MACA,OACA,MACA,MACA,MAEA,MACA,MACA,OAEF,KAAQ,CAAC,OACT,MAAS,CAAC,QACV,IAAO,CAAC,OACR,OAAU,CAAC,UACX,KAAQ,CAAC,SC9GX,aAEE,WAAmBsB,EAAwBC,EAAuBC,GAA/C,KAAAF,MAAAA,EAAwB,KAAAC,MAAAA,EAAuB,KAAAC,QAAAA,EAD3D,KAAAC,SAAmB,EAC2D,CACvF,SAHA,GAKMC,EAAgB,CAAC,4FAEjBC,EAAQ,CACZ,OAAU,IAAIC,EACZ,CACE,yEACA,oGAEF,WAEF,MAAS,IAAIA,EACX,CACE,wKAEA,sHAEF,QAEF,MAAS,IAAIA,EACX,CACE,gRAEF,WAEF,iBAAkB,IAAIA,EAAQF,EAAe,OAAQ,aACrD,iBAAkB,IAAIE,EAAQF,EAAe,UAAW,aACxD,QAAW,IAAIE,EACb,CACE,+dAEF,WAEF,OAAU,IAAIA,EACZ,CACE,w7BAEF,QAEF,MAAS,IAAIA,EACX,CACE,iFACA,yDAEF,WAEF,IAAO,IAAIA,EACT,CACE,sQACA,qHAEF,WAEF,WAAc,IAAIA,EAChB,CAAC,mFACD,QAEF,MAAS,IAAIA,EACX,CACE,kzBAEF,QAEF,OAAU,IAAIA,EACZ,CACE,4JAGJ,OAAU,IAAIA,EACZ,CACE,gYAGJ,KAAQ,IAAIA,EACV,CACE,gJACA,udAEF,QAEF,KAAQ,IAAIA,EACV,CAAC,mGACD,WAEF,SAAY,IAAIA,EACd,CACE,8TACA,mXACA,+QAEF,WAEF,IAAO,IAAIA,EACT,CACE,sxBAEF,WAEF,MAAS,IAAIA,EACX,CACE,6MAEF,WAEF,aAAgB,IAAIA,EAClB,CACE,inBACA,6bAEF,WAEF,KAAQ,IAAIA,EACV,CACE,0TACA,smBAEF,WAEF,IAAO,IAAIA,EACT,CACE,oPAEF,WAEF,MAAS,IAAIA,EACX,CACE,wNAIJ,eAAgB,IAAIA,EAClB,CAAC,8GACDhE,EACA,aAEF,0BAA2B,IAAIgE,EAC7B,CACE,0eAEFhE,EACA,iBAGF,yBAA0B,IAAIgE,EAAQ,CAAC,sDAAkDhE,EAAW,aACpG,sBAAuB,IAAIgE,EACzB,CAAC,iGACDhE,EACA,aAGF,wBAAyB,IAAIgE,EAC3B,CACE,8JAEFhE,EACA,cAIJ,IAAK,IAAM6D,KAAYE,EACjBA,EAAM/C,eAAe6C,KACtBE,EAAcF,GAAUA,SAAWA,GAIxC,IAEaI,EAAqB,CAAC,EAEnC,IAAK,IAAMC,KAAOC,EAChB,GAAIA,EAAWnD,eAAekD,G,IAC5B,IAAkB,kBAACC,EAAmBD,KAAI,8BAAE,CAAvC,IAAME,EAAG,QACZH,EAAcG,GAAOF,C,qGAKpB,SAASG,EAAcC,GAC5B,IAAMC,EAAWR,EAAcO,IAASP,EAAMS,MAC9C,OAAOD,CACT,CAEO,SAASE,EAAeL,GAC7BA,EAAMA,EAAIM,cACV,IAAMR,EAAMD,EAAcG,GAC1B,OAAOC,EAAcH,EACvB,C,sBC5LA,EAAe,WAAW,CACxBS,MAAO,CAAC,MAAO,OAAQ,WACvBC,SAAU,CACR9C,gBAAA,WACE,OAAKvE,KAAKqG,SAAWrG,KAAKyE,MAAQzE,KAAKyE,KAAK4B,QACnCrG,KAAKyE,KAAK4B,QAEZrG,KAAKqG,QAAUrG,KAAKqG,QAAU,aACvC,EACA5B,KAAA,WACE,GAAIzE,KAAK+G,KACP,OAAOD,EAAc9G,KAAK+G,MAE5B,IAAMC,EAAUE,EAAelH,KAAK6G,KACpC,OAAOG,CACT,KCnBsM,ICM3L,SAASM,EACtBC,EACAtD,EACAW,EACA4C,EACAC,EACAC,EACAC,EACAC,GAGA,IAoBIC,EApBAC,EACuB,oBAAlBP,EAA+BA,EAAcO,QAAUP,EAuDhE,GApDItD,IACF6D,EAAQ7D,OAASA,EACjB6D,EAAQlD,gBAAkBA,EAC1BkD,EAAQC,WAAY,GAIlBP,IACFM,EAAQE,YAAa,GAInBN,IACFI,EAAQG,SAAW,UAAYP,GAI7BC,GAEFE,EAAO,SAAUK,GAEfA,EACEA,GACClI,KAAKmI,QAAUnI,KAAKmI,OAAOC,YAC3BpI,KAAKqI,QAAUrI,KAAKqI,OAAOF,QAAUnI,KAAKqI,OAAOF,OAAOC,WAEtDF,GAA0C,qBAAxBI,sBACrBJ,EAAUI,qBAGRb,GACFA,EAAa9E,KAAK3C,KAAMkI,GAGtBA,GAAWA,EAAQK,uBACrBL,EAAQK,sBAAsBC,IAAIb,EAEtC,EAGAG,EAAQW,aAAeZ,GACdJ,IACTI,EAAOD,EACH,WACEH,EAAa9E,KACX3C,MACC8H,EAAQE,WAAahI,KAAKqI,OAASrI,MAAM0I,MAAMC,SAASC,WAE7D,EACAnB,GAGFI,EACF,GAAIC,EAAQE,WAAY,CAGtBF,EAAQe,cAAgBhB,EAExB,IAAIiB,EAAiBhB,EAAQ7D,OAC7B6D,EAAQ7D,OAAS,SAAkC8E,EAAGb,GAEpD,OADAL,EAAKlF,KAAKuF,GACHY,EAAeC,EAAGb,EAC3B,CACF,KAAO,CAEL,IAAIc,EAAWlB,EAAQmB,aACvBnB,EAAQmB,aAAeD,EAAW,GAAG9C,OAAO8C,EAAUnB,GAAQ,CAACA,EACjE,CAGF,MAAO,CACLnI,QAAS6H,EACTO,QAASA,EAEb,CCxFA,ICQKoB,EDRDC,EAAY,EACd,EACAlF,EACAW,GACA,EACA,KACA,KACA,MAIF,EAAeuE,EAAiB,QElB5B,EAAS,WAAkB,IAAIjF,EAAIlE,KAAKmE,EAAGD,EAAIE,MAAMD,GAAUD,EAAIE,MAAMC,YAAY,OAAOF,EAAG,MAAM,CAACiF,MAAM,CAC5G,wBAA0BlF,EAAImF,WAAWxC,MACzC3C,EAAImF,WAAWC,UAAY,6BAA+B,6BAC1D,iBAAmBpF,EAAImF,WAAW5E,OAAO6B,SACzC,CAAE,qBAAsBpC,EAAImF,WAAWE,aACvC,CAAE,gBAAkC,IAAlBrF,EAAIsF,WACtB,CAAE,eAAgC,IAAjBtF,EAAIuF,UACrB,CAAE,wBAAyBvF,EAAIwF,oBAC/B,CAAE,YAAaxF,EAAImF,WAAW5D,SAC7B,CAAEvB,EAAImF,WAAWM,mBAAqBzF,EAAImF,WAAWO,kBAAmBzF,EAAG,MAAM,CAAC0F,IAAI,UAAUC,YAAY,mBAAmB,CAAC3F,EAAG,MAAM,CAAC2F,YAAY,iBAAiBC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAO9F,EAAI+F,OAAO/F,EAAImF,WAAW,IAAI,CAAClF,EAAG,OAAO,CAAC2F,YAAY,gBAAgB,CAAC3F,EAAG,cAAc,CAACG,MAAM,CAAC,KAAO,mBAAmB,GAAGH,EAAG,OAAO,CAAC2F,YAAY,gBAAgB,CAAC3F,EAAG,cAAc,CAACG,MAAM,CAAC,KAAO,0BAA0B,OAAOJ,EAAIS,KAAKR,EAAG,OAAO,CAAC2F,YAAY,eAAeV,MAAM,CACre,gBAAiBlF,EAAImF,WAAWC,UAChC,iBAAkBpF,EAAImF,WAAWC,UACjC,eAAgBpF,EAAImF,WAAWC,WAAapF,EAAImF,WAAWa,eAC3DC,MAAM,CACN,mBAAoBjG,EAAImF,WAAWjD,UACjC,CAAElC,EAAImF,WAAgB,MAAElF,EAAG,OAAO,CAAC2F,YAAY,qBAAqBC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAO9F,EAAIkG,cAAc,IAAI,CAACjG,EAAG,OAAO,CAAC2F,YAAY,gDAAgD,CAAC5F,EAAImG,GAAG,IAAInG,EAAIoG,GAAGpG,EAAImF,WAAWkB,gBAAgBrG,EAAIsG,YAAY,SAAStG,EAAIS,KAAKR,EAAG,OAAO,CAAC2F,YAAY,yBAA0B5F,EAAImF,WAAWC,WAAapF,EAAImF,WAAWO,kBAAmBzF,EAAG,OAAO,CAAC2F,YAAY,YAAYW,YAAY,CAAC,SAAW,WAAW,IAAM,IAAI,MAAQ,IAAI,OAAS,IAAI,KAAO,IAAI,SAAW,WAAW,CAAEvG,EAAkB,eAAEC,EAAG,IAAI,CAACG,MAAM,CAAC,KAAOJ,EAAImF,WAAWqB,MAAM,OAAS,SAAS,MAAQxG,EAAImF,WAAWtC,SAAS,CAAC5C,EAAG,MAAM,CAAC2F,YAAY,mBAAmBxF,MAAM,CAAC,IAAMJ,EAAImF,WAAWlH,WAAWgC,EAAG,MAAM,CAAC2F,YAAY,mBAAmBxF,MAAM,CAAC,IAAMJ,EAAImF,WAAWlH,WAAW+B,EAAIS,KAAKR,EAAG,OAAO,CAAC2F,YAAY,YAAY,CAAC5F,EAAImG,GAAGnG,EAAIoG,GAAGpG,EAAImF,WAAWxC,UAAU1C,EAAG,OAAO,CAAC2F,YAAY,aAAa,CAAC5F,EAAImG,GAAGnG,EAAIoG,GAAGpG,EAAImF,WAAWsB,WAAYzG,EAAa,UAAEC,EAAG,OAAO,CAAC2F,YAAY,cAAcC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAO9F,EAAI0G,iBAAiB1G,EAAImF,WAAW,EAAE,WAAa,SAASW,GAAQ,OAAO9F,EAAI2G,sBAAsB,EAAE,UAAY,SAASb,GAAQ,OAAO9F,EAAI2G,sBAAsB,IAAI,CAAC1G,EAAG,cAAc,CAACG,MAAM,CAAC,KAAO,mBAAmB,GAAGJ,EAAIS,KAAKR,EAAG,OAAO,CAAC2F,YAAY,YAAYC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAO9F,EAAI4G,cAAc,IAAI,EAAmB,IAAjB5G,EAAIuF,SAAmBtF,EAAG,QAAQ,CAAC0F,IAAI,QAAQC,YAAY,kBAAkBxF,MAAM,CAAC,UAA4B,IAAjBJ,EAAI6G,SAAkB,KAAO,QAAQC,SAAS,CAAC,MAAQ9G,EAAImF,WAAWtC,MAAK,IAAOgD,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAO9F,EAAI+G,kBAAkB,EAAE,KAAO,SAASjB,GAAQ,OAAO9F,EAAIgH,iBAAiB,EAAE,OAAS,SAASlB,GAAQ,OAAO9F,EAAIiH,iBAAiB,EAAE,MAAQ,SAASnB,GAAQ,OAAO9F,EAAIiH,iBAAiB,EAAE,MAAQ,CAAC,SAASnB,GAAQ,OAAIA,EAAOoB,KAAKC,QAAQ,QAAQnH,EAAIoH,GAAGtB,EAAOuB,QAAQ,QAAQ,GAAGvB,EAAO9G,IAAI,SAAgB,KAAYgB,EAAIiH,iBAAgB,EAAK,EAAE,SAASnB,GAAQ,OAAIA,EAAOoB,KAAKC,QAAQ,QAAQnH,EAAIoH,GAAGtB,EAAOuB,QAAQ,MAAM,GAAGvB,EAAO9G,IAAI,CAAC,MAAM,WAAkB,KAAYgB,EAAIiH,iBAAgB,EAAM,MAAMjH,EAAIS,MAAuB,IAAjBT,EAAIuF,SAAmBtF,EAAG,OAAO,CAAC2F,YAAY,uBAAuB,CAAC3F,EAAG,cAAc,CAACG,MAAM,CAAC,KAAO,4BAA4B,GAAGJ,EAAIS,KAAKR,EAAG,OAAO,CAAC2F,YAAY,kBAAkB,CAAC5F,EAAImG,GAAGnG,EAAIoG,GAAGpG,EAAImF,WAAWtC,MAAK,SAAa7C,EAAImF,WAAWmC,WAAWC,OAASvH,EAAImF,WAAWmC,WAAWE,OAAQvH,EAAG,OAAO,CAAC2F,YAAY,mBAAmB,CAAC3F,EAAG,OAAO,CAAC2F,YAAY,yBAAyB,CAAC5F,EAAImG,GAAGnG,EAAIoG,GAAGpG,EAAImF,WAAWmC,WAAWC,UAAUtH,EAAG,OAAO,CAAC2F,YAAY,0BAA0B,CAAC5F,EAAImG,GAAGnG,EAAIoG,GAAGpG,EAAImF,WAAWmC,WAAWE,aAAaxH,EAAIS,KAAMT,EAAImF,WAAWsC,cAAexH,EAAG,OAAO,CAAC2F,YAAY,gBAAgBV,MAAM,CACxrF,qBAAsBlF,EAAImF,WAAWuC,YAAc,QACnD,qBAAsB1H,EAAImF,WAAWuC,YAAc,IACnD,oBAAqB1H,EAAImF,WAAWuC,WAAa,IAChD,CAACzH,EAAG,OAAO,CAAC2F,YAAY,oBAAoBK,MAAM,CAAGsB,MAAOvH,EAAImF,WAAWuC,WAAa,SAAW1H,EAAIS,KAAKR,EAAG,OAAO,CAAC2F,YAAY,aAAa,CAAE5F,EAAkB,eAAEC,EAAG,IAAI,CAACG,MAAM,CAAC,KAAOJ,EAAImF,WAAWqB,MAAM,OAAS,SAAS,MAAQxG,EAAImF,WAAWtC,SAAS,CAAC5C,EAAG,cAAc,CAACG,MAAM,CAAC,IAAMJ,EAAImF,WAAWxC,UAAU,GAAG1C,EAAG,cAAc,CAACG,MAAM,CAAC,IAAMJ,EAAImF,WAAWxC,UAAU,MAChY,EACI,EAAkB,GCrBf,SAASgF,EAAyBC,GACvC,OAAO,IAAIC,SAAQ,SAACC,GAClB,IAAKC,EAAeH,GAClB,OAAOE,EAAQF,EAAaI,OAK9B,IAHA,IAAMA,EAAgB,GAChBC,EAAkB,GAEfnK,EAAI,EAAGA,EAAI8J,EAAaM,MAAMnK,OAAQD,IAAK,CAClD,IAAMqK,EAAOP,EAAaM,MAAMpK,GAChC,GAAkB,SAAdqK,EAAKC,KAAT,CAGA,IAAMC,EAAoBC,EAAWH,GACrC,GAAIE,EACFJ,EAAgB3G,KAAK+G,OAChB,CACL,IAAME,EAAOJ,EAAKK,YACdD,GACFP,EAAM1G,KAAKiH,E,GAIjBV,QAAQY,IAAIR,GAAiBS,MAAK,SAACC,GACjCb,EAAQE,EAAMhG,OAAM,MAAZgG,EAAK,OAAWW,IAAc,IACxC,GACF,GACF,CAEA,SAASL,EAAWM,GAElB,OAAIA,EAAMC,WACDP,EAAWM,EAAMC,cAEtBD,EAAME,iBACDR,EAAWM,EAAME,oBAGtBF,EAAMJ,eAAV,EAKO,IAAIX,SAAQ,SAACC,GAClB,GAAIc,EAAMG,OACRH,EAAML,MAAK,SAACA,GAAe,OAAAT,EAAQ,CAACS,GAAT,QAD7B,CAIA,GAAIK,EAAMI,YAAa,CACrB,IAAM,EAAgB,GAChB,EAAcJ,EAAMK,eACpB,EAAc,WAClB,EAAYC,aAAY,SAACC,GACvB,IAAMC,EAAe,SAACtL,GACpB,OAAKqL,EAAQrL,IAAY,IAANA,EAGdqL,EAAQrL,QAGZwK,EAAWa,EAAQrL,IAAwB4K,MAAK,SAACW,GAChD,EAAM/H,KAAI,MAAV,EAAK,OAAS+H,IAAU,IACxBD,EAAatL,EAAI,EACnB,IALS,IAHAgK,EAAQ,EASnB,EACAsB,EAAa,EACf,GACF,EACA,G,CAEGR,EAAMG,QAAWH,EAAMI,aAC1BlB,EAAQ,G,CAEZ,GACF,CAEA,SAASC,EAAeuB,G,QACtB,IAAKA,EAAStB,MAAMjK,OAClB,OAAO,E,IAIT,IAAmB,QAAAuL,EAASpB,OAAK,8BAAE,CAA9B,IAAMC,EAAI,QACb,GAA6B,MAAzBA,EAAKW,iBAA0B,CACjC,IAAMF,EAAQT,EAAKW,mBAEnB,GAAIF,GAASA,EAAMI,YACjB,OAAO,C,sGAQb,IAHA,IAAMhB,EAAkBsB,EAAStB,MAGxBlK,EAAI,EAAGA,EAAIkK,EAAMjK,OAAQD,IAEhC,IAAKkK,EAAMlK,GAAGoJ,MAAQc,EAAMlK,GAAG2I,KAAO,OAAS,EAC7C,OAAO,EAGX,OAAO,CACT,EFvFA,SAAKzB,GACH,0BACA,mCACD,EAHD,CAAKA,IAAAA,EAAgB,KAKrB,8BAqcA,QApcS,YAAAuE,UAAP,SAAiBC,EAAYC,EAAuBC,GAElD,IAAMC,EAAQH,EAAIzH,MAAM,GACxB,GAAI2H,GAAYC,EAAM5L,OAAQ,CAC5B,IAAI6L,EAAIF,EAAWC,EAAM5L,OACzB,MAAa,EAAN6L,IACLD,EAAMrI,UAAK/C,E,CAIf,OADAoL,EAAME,OAAOH,EAAU,EAAGC,EAAME,OAAOJ,EAAe,GAAG,IAClDE,CACT,EAEO,YAAAG,gBAAP,SAAuBN,GACrB,IAAMO,EAAgB,EAChBC,EAAYR,EAAIzL,OACtB,KAAIiM,EAAYD,GAAhB,CAaA,IAVA,IAAME,EAAO,EACPC,EAAMF,EAAaA,EAAYD,EAC/BI,GAAgBF,GAAQ,GAAKF,EAE/BK,EAAW,EACXC,EAAa,EACbC,EAAY,EACZC,EAAa,EACbC,EAAQ,EAEH1M,EAAI,EAAGA,EAAIoM,EAAKpM,GAAKqM,EAAc,CAC1C,IAAMM,EAAQjB,EAAI1L,EAAI,GAChB4M,EAAMlB,EAAI1L,GAAK2M,EACfE,EAAQnB,EAAI1L,EAAI,GAAK2M,EACrBG,EAAOpB,EAAI1L,EAAI,GAAK2M,EAE1BL,GAAYM,EACZL,GAAcM,EACdL,GAAaM,EACbL,GAAcE,EACdD,G,CAGF,OAAOD,EACH,CACEM,KAAKC,MAAMV,EAAWG,GACtBM,KAAKC,MAAMT,EAAaE,GACxBM,KAAKC,MAAMR,EAAYC,GACvBM,KAAKC,MAAMP,EAAaC,IAE1B,CAAC,EAAG,EAAG,EAAG,E,CAChB,EAEO,YAAAO,qBAAP,SACEC,EACAC,EACAC,EACAC,EACAC,GALF,WAUE,OADAJ,EAAMK,aAAa,cAAeD,EAAkB,kBAAoB,aACjE,IAAIvD,SAAQ,SAACC,EAASwD,GAC3B,IAAIC,GAAiB,EACjBC,GAAa,EACXC,EAAkB,WACtB,GAAMF,GAAkBC,EAAxB,CAGA,IAEItJ,EAFE8B,EAAUiH,EAAOS,WAAW,MAGlC,GAFA1H,EAAQ2H,UAAUX,EAAO,EAAG,EAAGC,EAAO1D,MAAO0D,EAAOzD,QAEhD2D,EAAuB,CACzB,IAAMS,EAAY5H,EAAQ6H,aAAa,EAAG,EAAGZ,EAAO1D,MAAO0D,EAAOzD,QAClEtF,EAAQ,EAAK4H,gBAAgB8B,EAAUE,K,CAEzC,IAAMtF,EAAMyE,EAAOc,YACnBjE,EAAQ,CACNtB,IAAG,EACHtE,MAAK,EACLqF,MAAOyD,EAAMgB,WACbxE,OAAQwD,EAAMiB,a,CAElB,EAEAjB,EAAMkB,iBAAiB,kBAAkB,WAEvCjB,EAAO1D,MAAQ2D,EACfD,EAAOzD,OAAUyD,EAAO1D,MAAQyD,EAAMgB,WAAchB,EAAMiB,YAC1DjB,EAAMmB,YAAc,EACpBZ,GAAiB,EACjBE,GACF,IAEAT,EAAMkB,iBAAiB,cAAc,WACnCV,GAAa,EACbC,GACF,GACF,GACF,EAEO,YAAAW,WAAP,SAAkB7D,GAChB,OAAO,IAAIV,SAAQ,SAACC,EAASwD,GAC3B,IAAMe,EAAS,IAAIC,WACnBD,EAAOE,OAAS,SAACC,GACf,IAAMA,EAAMC,SAAUD,EAAMC,OAAOC,OACjC,OAAO5E,EAAQ,IAEjBA,EAAQ0E,EAAMC,OAAOC,OACvB,EACAL,EAAOM,cAAcpE,EACvB,GACF,EAEO,YAAAqE,mCAAP,SAA0CC,GAGxC,IAAMC,EAAO,IAAIC,SAASF,GAC1B,GAAiC,QAA7BC,EAAKE,UAAU,GAAG,GACpB,OAAQ,EAEV,IAAMjP,EAAS+O,EAAKG,WAChBC,EAAS,EACb,MAAOA,EAASnP,EAAQ,CACtB,GAAI+O,EAAKE,UAAUE,EAAS,GAAG,IAAU,EACvC,OAAQ,EAEV,IAAMC,EAASL,EAAKE,UAAUE,GAAQ,GAEtC,GADAA,GAAU,EACK,QAAXC,EAAmB,CACrB,GAA6C,aAAzCL,EAAKM,UAAWF,GAAU,GAAI,GAChC,OAAQ,EAEV,IAAMG,EAAkD,QAAzCP,EAAKE,UAAWE,GAAU,GAAI,GAC7CA,GAAUJ,EAAKM,UAAUF,EAAS,EAAGG,GACrC,IAAMC,EAAOR,EAAKE,UAAUE,EAAQG,GACpCH,GAAU,EACV,IAAK,IAAIpP,EAAI,EAAGA,EAAIwP,EAAMxP,IACxB,GAAgD,MAA5CgP,EAAKE,UAAUE,EAAa,GAAJpP,EAAQuP,GAClC,OAAOP,EAAKE,UAAUE,EAAa,GAAJpP,EAAS,EAAGuP,E,KAI1C,IAA0B,SAAZ,MAATF,GACV,MAEAD,GAAUJ,EAAKE,UAAUE,GAAQ,E,EAGrC,OAAQ,CACV,EAEO,YAAAK,oBAAP,SAA2BhF,GAA3B,WACE,OAAO,IAAIV,SAAQ,SAACC,EAASwD,GAC3B,IAAMe,EAAS,IAAIC,WACnB,IAAKD,EAAOmB,kBACV,OAAO1F,GAAS,GAElBuE,EAAOE,OAAS,SAACC,GACf,IAAMA,EAAMC,SAAUD,EAAMC,OAAOC,OACjC,OAAO5E,GAAS,GAElBA,EAAQ,EAAK8E,mCAAmCJ,EAAMC,OAAOC,QAC/D,EAIAL,EAAOmB,kBAAkBjF,EAAKxG,MAAM,EAAG,OACzC,GACF,EAEO,YAAA0L,aAAP,SACEC,EACAzC,EACA0C,EACApG,EACAC,GAYA,OATI,EAAIkG,GAAkBA,EAAiB,GACzCzC,EAAO1D,MAAQC,EACfyD,EAAOzD,OAASD,IAEhB0D,EAAO1D,MAAQA,EACf0D,EAAOzD,OAASA,GAIVkG,GACN,KAAK,EACHC,EAAIC,WAAW,EAAG,EAAG,EAAG,EAAGrG,EAAO,GAClC,MACF,KAAK,EACHoG,EAAIC,WAAW,EAAG,EAAG,GAAI,EAAGrG,EAAOC,GACnC,MACF,KAAK,EACHmG,EAAIC,UAAU,EAAG,EAAG,GAAI,EAAG,EAAGpG,GAC9B,MACF,KAAK,EACHmG,EAAIC,UAAU,EAAG,EAAG,EAAG,EAAG,EAAG,GAC7B,MACF,KAAK,EACHD,EAAIC,UAAU,EAAG,GAAI,EAAG,EAAGpG,EAAQ,GACnC,MACF,KAAK,EACHmG,EAAIC,UAAU,GAAI,GAAI,EAAG,EAAGpG,EAAQD,GACpC,MACF,KAAK,EACHoG,EAAIC,UAAU,GAAI,EAAG,EAAG,EAAG,EAAGrG,GAC9B,MACF,QACE,MAEN,EAEO,YAAAsG,gBAAP,SACEC,EACAC,EACAC,EACAC,EACA9C,GAEA,IAAI5D,EAAQuG,EAAMvG,MACdC,EAASsG,EAAMtG,OACb0D,EAAgB6C,EAClBA,GAAcC,GAChBzG,EAAQwG,EACRvG,EAASwG,GAELzG,EAAQC,EACND,EAAQ2D,IACV1D,GAAU0D,EAAgB3D,EAC1BA,EAAQ2D,GAGN1D,EAAS0D,IACX3D,GAAS2D,EAAgB1D,EACzBA,EAAS0D,GAKf3D,EAAQsD,KAAKqD,MAAM3G,GACnBC,EAASqD,KAAKqD,MAAM1G,GAEpB,IAAMyD,EAAS7O,SAAS+R,cAAc,UAChCnK,EAAUiH,EAAOS,WAAW,MAClC,IAAK1H,EACH,OAAO,KAGTiH,EAAO1D,MAAQA,EACf0D,EAAOzD,OAASA,OAEIjJ,IAAhB0P,GACFnS,KAAK2R,aAAaQ,EAAahD,EAAQjH,EAASuD,EAAOC,GAGzDxD,EAAQ2H,UAAUmC,EAAO,EAAG,EAAGvG,EAAOC,GACtC,IAAI4G,EAAW,KACf,IACE,IAAIC,OAAI,EACR,GAAIlD,EAAuB,CACzB,IAAMS,EAAY5H,EAAQ6H,aAAa,EAAG,EAAGtE,EAAOC,GACpD6G,EAAOvS,KAAKgO,gBAAgB8B,EAAUE,K,CAEpCuC,IACFD,EAAWC,E,CAEb,MAAOjN,G,CAGT,MAAO,CACL0M,MAAK,EACLtH,IAAKyE,EAAOc,UAAU,aACtB7J,MAAOkM,EAEX,EAEO,YAAAE,eAAP,SACER,EACAtH,EACA0E,EACAC,GAJF,WAME,OAAO,IAAItD,SAAQ,SAACC,EAASwD,GAC3BwC,EAAMvB,OAAS,WACb,GAAKpB,EAAL,CAQA,IAAMoD,EAAU,EAAKV,gBAAgBC,EAAO5C,OAAe3M,OAAWA,EAAW4M,GAC7EoD,IACFA,EAAQ/H,IAAMA,GAEhBsB,EAAQyG,E,MAXNzG,EAAQ,CACNgG,MAAK,EACLtH,IAAG,EACHtE,WAAO3D,GASb,EACAuP,EAAMU,QAAU,WACdlD,EAAO,yBAA2B9E,EACpC,EACAsH,EAAM7P,IAAMuI,CACd,GACF,EAEO,YAAAiI,gBAAP,SACEX,EACAvF,EACA2C,EACAC,GAJF,WAME,OAAO,IAAItD,SAAQ,SAACC,EAASwD,GAC3B,IAAoC,IAAhC/C,EAAKrB,KAAKC,QAAQ,SAAtB,CAIA,IAAMuH,GAAmB7O,OAAO8O,KAAO9O,OAAO+O,WAAa,CAAC,GAAGF,gBACzDG,GAAmBhP,OAAO8O,KAAO9O,OAAO+O,WAAa,CAAC,GAAGC,gBAC3DC,GAAe,EACbC,EAAqB,EAAKxB,oBAAoBhF,GAUpD,OATAuF,EAAMvB,OAAS,WACbwC,EAAmBrG,MAAK,SAACuF,GACvB,IAAMM,EAAU,EAAKV,gBAAgBC,EAAO5C,OAAe3M,EAAW0P,EAAa9C,GAC/E2D,GACFD,EAAgBf,EAAM7P,KAExB6J,EAAQyG,EACV,GACF,EACMhG,aAAgByG,KAIlBN,GAAmBG,GACrBC,GAAe,OACfhB,EAAM7P,IAAMyQ,EAAgBnG,UAG9B,EAAK6D,WAAW7D,GAAMG,MAAK,SAACuG,GAC1BnB,EAAM7P,IAAMgR,CACd,IAVS3D,EAAO,iE,CAjBdA,EAAO,IAAI/O,MAAM,gBA4BrB,GACF,EAEO,YAAA2S,YAAP,SACEhE,EACA3C,EACA/B,EACA2E,EACAC,GAEA,IAAM0C,EAAQ,IAAIqB,MAElB,OADArB,EAAMzC,aAAa,cAAeD,EAAkB,kBAAoB,aACjE5E,EACH1K,KAAKwS,eAAeR,EAAOtH,EAAK0E,EAAeC,GAC/CrP,KAAK2S,gBAAgBX,EAAOvF,EAAc2C,EAAeC,EAC/D,EAEO,YAAAiE,iBAAP,SAAwBC,GACtB,IAAMC,EAAQ,CAAC,IAAK,KAAM,KAAM,KAAM,MACtC,GAAc,IAAVD,EACF,MAAO,MAET,IAAIvR,EAAI+M,KAAKqD,MAAMrD,KAAK0E,IAAIF,GAASxE,KAAK0E,IAAI,OAE9C,OADAzR,EAAI0R,SAAS,GAAK1R,EAAG,IACd+M,KAAKC,MAAMuE,EAAQxE,KAAK4E,IAAI,KAAM3R,IAAM,IAAMwR,EAAMxR,EAC7D,EAEO,YAAA4R,cAAP,SAAqBjJ,GACnBA,GAAQ,GAAKA,GAAMkJ,cACnB,IAAMC,EAAUnJ,EAAK3G,MAAM,0BACrBwP,EAAQ,CAAC,IAAK,KAAM,KAAM,KAAM,MACtC,IAAKM,EACH,OAAOC,WAAWpJ,GAEpB,IAAM3I,EAAIwR,EAAMnI,QAAQyI,EAAQ,IAChC,OAAW,IAAP9R,EACK+R,WAAWpJ,GAEboJ,WAAWD,EAAQ,IAAM/E,KAAK4E,IAAI,KAAM3R,EACjD,EAEO,YAAAgS,gBAAP,SAAuBC,GACrB,IAAMC,EAAc,SAACrQ,GACnB,IAAIpC,EAAO,EACX,GAAqB,IAAjBoC,EAAM5B,OACR,OAAOR,EAET,IAAK,IAAIO,EAAI,EAAGA,EAAI6B,EAAM5B,OAAQD,IAEhCP,EAAOoC,EAAMsQ,WAAWnS,KAAOP,GAAQ,GAAKA,GAE5CA,GAAcA,EAEhB,OAAOA,CACT,EACM2S,EAAW,SAACvQ,GAChB,IAAMkF,EAAIlF,EAAQ,IACZkB,EAAIlB,EAAQ,IACZkC,EAAI,GACV,MAAO,OAASgD,EAAI,IAAMhE,EAAI,KAAOgB,EAAI,UAC3C,EACA,OAAOqO,EAASF,EAAYD,EAAK9M,eACnC,EAEO,YAAAkN,aAAP,SAAoB5H,EAAY6H,G,QAG9B,IAAKA,EACH,OAAO,EAET,IAAMC,EAAgBD,EAAOE,MAAM,KAE7BC,EAAWhI,EAAKrB,KAChBsJ,EAAeD,EAASjT,QAAQ,QAAS,I,IAE/C,IAAsB,QAAA+S,GAAa,8BAAE,CAAhC,IAAII,EAAS,QAEhB,GADAA,EAAYA,EAAU5S,OACM,MAAxB4S,EAAUC,OAAO,IAEnB,IAAuG,IAAnGnI,EAAK1F,KAAKI,cAAckE,QAAQsJ,EAAUxN,cAAesF,EAAK1F,KAAK9E,OAAS0S,EAAU1S,QACxF,OAAO,OAEJ,GAAI,QAAQ4S,KAAKF,IAEtB,GAAID,IAAiBC,EAAUnT,QAAQ,QAAS,IAC9C,OAAO,OAGT,GAAIiT,IAAaE,EACf,OAAO,C,qGAKb,OAAO,CACT,EAEO,YAAAG,aAAP,SAAoBrI,EAAYsI,GAC9B,IAAKA,EACH,OAAO,EAET,IAAMxB,EAAQvT,KAAK4T,cAAcmB,GACjC,OAAOtI,EAAK9B,MAAQ4I,CACtB,EAEO,YAAA1H,yBAAP,SAAgCC,GAC9B,OAAOD,EAAyBC,EAClC,EACF,EArcA,GAucA,MAAmBkJ,EGvZnB,aAwGE,WAAmBhF,EAAqBlI,GAhCjC,KAAAmN,SAA0B,KAC1B,KAAAC,WAA4B,KAC5B,KAAAlD,MAA+B,CAAC,EAChC,KAAAzI,aAAuB,EAEvB,KAAA4L,YAA6B,KAC7B,KAAAC,cAA+B,KAC/B,KAAAC,OAAqB,CAAErF,KAAM,KAAMvK,OAAO,GA0B/CzF,KAAKiV,SAAW,KAChBjV,KAAKkV,WAAa,KAClBlV,KAAKsV,aAAe,KACpBtV,KAAKgS,MAAQ,CAAC,EACdhS,KAAKuJ,aAAc,EACnBvJ,KAAKmV,YAAc,KACnBnV,KAAKoV,cAAgB,KAErBpV,KAAKuV,IAAMvF,EACXhQ,KAAKyM,KAAOuD,EAAKvD,gBAAgByG,KAAOlD,EAAKvD,KAAQzM,KAAKwV,gBAAgBxF,GAC1EhQ,KAAKyV,iBAAoBC,MAAM1F,EAAKpE,UAAkD,EAA3BoE,EAAKpE,SAGhE5L,KAAKoP,cAAgBtH,EAAQsH,eAAiB,IAC9CpP,KAAK2V,OAAS7N,EAAQ6N,KACtB3V,KAAKwL,WAAawE,EAAKxE,YAAc,CAAEC,MAAO,EAAGC,OAAQ,GACzD1L,KAAKwL,WAAWC,MAAQzL,KAAKwL,WAAWC,OAAS,EACjDzL,KAAKwL,WAAWE,OAAS1L,KAAKwL,WAAWE,QAAU,EACnD1L,KAAKyF,MAAQuK,EAAKvK,QAAS,EAC3BzF,KAAK8H,QAAUA,EACf9H,KAAK+U,QAAUjN,EAAQiN,QACvB/U,KAAKsU,OAASxM,EAAQwM,OACtBtU,KAAK4V,GAAK7G,KAAK8G,SAAW,KAAM,IAAIC,MAAOC,UAC3C/V,KAAKgW,eAAiBhG,EAAKgG,eAC3BhW,KAAKiW,WAAajG,EAAKiG,WACvBjW,KAAKkW,WAAalG,EAAKkG,WACvBlW,KAAKqP,2BAAiD5M,IAAzBqF,EAAQqO,cAA6BrO,EAAQqO,aAC1EnW,KAAKoW,UACP,CA4OF,OAhXgB,EAAAC,WAAd,SACEC,EACAxO,EACAyO,QAAA,IAAAA,IAAAA,GAAA,GAEA,IAAMlN,EAAa,IAAImN,EAAWF,EAAexO,GAC3C2O,EAAUpN,EAAWqN,OAAOJ,EAAc5L,KAKhD,OADAiM,QAAQlD,IAAI,QACR8C,EACKlN,EAEFoN,CACT,EAEc,EAAAG,QAAd,SAAsBN,EAA8BxO,GAClD,OAAO0O,EAAWH,WAAWC,EAAexO,GAAS,EACvD,EAEc,EAAA+O,YAAd,SAA0BP,EAA8BxO,GACtD,OAAO0O,EAAWH,WAAWC,EAAexO,GAAS,EACvD,EAEc,EAAAgP,aAAd,SAA2BC,EAAiCjP,G,QACpDkP,EAAuC,G,IAC7C,IAA4B,QAAAD,GAAc,8BAAE,CAAvC,IAAMT,EAAa,QACtBU,EAASxR,KAAKgR,EAAWI,QAAQN,EAAexO,G,qGAElD,OAAOiE,QAAQY,IAAIqK,EACrB,EAEc,EAAAC,WAAd,SAAyBC,G,QACjBH,EAAkC,G,IACxC,IAAyB,QAAAG,GAAW,8BAAE,CAAjC,IAAM7N,EAAU,QACnB0N,EAAevR,KAAK6D,EAAW8N,Q,mGAEjC,OAAOJ,CACT,EAEc,EAAAK,SAAd,SAAuB/N,GACrB,OAAO,IAAI0C,SAAQ,SAACC,EAASwD,GACtBnG,EAAWsM,KAYhB0B,EAAM/G,WAAWjH,EAAWoD,MAAMG,MAAK,SAACuG,GACtC9J,EAAWqN,OAAOvD,GAASvG,MAAK,WAC9BZ,EAAQ3C,EACV,GAAGmG,EACL,GAAGA,GAfDnG,EAAWqN,OAAO,MAAM9J,MACtB,WACEZ,EAAQ3C,EACV,IACA,SAAC3I,GAECsL,EAAQ3C,EACV,GASN,GACF,EAEc,EAAAiO,UAAd,SAAwBJ,G,QAChBF,EAAuC,G,IAC7C,IAAyB,QAAAE,GAAW,8BAAE,CAAjC,IAAM7N,EAAU,QACnB2N,EAASxR,KAAKgR,EAAWY,SAAS/N,G,mGAEpC,OAAO0C,QAAQY,IAAIqK,EACrB,EAmEO,YAAAxB,gBAAP,SAAuBxF,GACrB,IAAMvD,EAAkB,CAAC,EACzBA,EAAK8K,aAAevH,EAAKuH,aACzB,IAAMxU,EAAI,IAAI+S,KAQd,OAPIrJ,EAAK8K,cACPxU,EAAEyU,QAAQ/K,EAAK8K,cAEjB9K,EAAKgL,iBAAmB1U,EACxB0J,EAAK1F,KAA4B,oBAAdiJ,EAAKjJ,KAAsBiJ,EAAKjJ,OAASiJ,EAAKjJ,KACjE0F,EAAK9B,KAAOqF,EAAKrF,KACjB8B,EAAKrB,KAAO4E,EAAK5E,KACVqB,CACT,EAEO,YAAAd,YAAP,WACE,OAAQ+J,MAAM1V,KAAKyV,iBACrB,EAEO,YAAA7J,SAAP,SAAgB/H,GACd,QAAcpB,IAAVoB,EAIJ,OAAO7D,KAAKyV,kBAAoB,EAH9BzV,KAAKyV,iBAAmB5R,CAI5B,EAEO,YAAA6G,IAAP,SAAW7G,GACT,YAAcpB,IAAVoB,EACK7D,KAAK0W,OAAO7S,GAEd7D,KAAKiV,eAAYxS,CAC1B,EAEO,YAAAN,IAAP,WACE,OAAInC,KAAKsJ,UACAtJ,KAAKkV,YAAclV,KAAKiV,UAAajV,KAAKyM,KAAa/B,IAE5D1K,KAAK4J,mBACA5J,KAAKgW,gBAEP,EACT,EAEO,YAAArL,KAAP,WACE,OAAK3K,KAAKyM,KAGH4K,EAAM/D,iBAAiBtT,KAAKyM,KAAK9B,MAF/B,EAGX,EAEO,YAAA9D,IAAP,WACE,OAAI7G,KAAKyM,OAAyC,IAAjCzM,KAAKyM,KAAK1F,KAAKsE,QAAQ,KAC9BrL,KAAKyM,KAAK1F,KAAayN,MAAM,KAAKkD,MAErC,GAET,EAEO,YAAA3Q,KAAP,SAAY4Q,GACV,IAAM9Q,EAAM7G,KAAK6G,MACjB,GAAI7G,KAAKkW,WACP,OAAOlW,KAAKkW,YAAcyB,EAAa,GAAa,MAAR9Q,EAAc,IAAMA,EAAM,IAExE,IAAME,EAAO/G,KAAKyM,MAAQzM,KAAKyM,KAAK1F,KACpC,OAAI4Q,GACU,MAAR9Q,EACKE,EAAK6Q,OAAO,EAAG7Q,EAAK9E,QAAU4E,EAAI5E,OAAS,IAG/C8E,CACT,EAEO,YAAAmD,YAAP,WACE,GAAIlK,KAAKiW,WAAY,CACnB,IAAM4B,EAAM7X,KAAKiW,WACX6B,EAAY,GAClB,OAAOD,EAAI,IAAMC,GAAaD,EAAI,IAAMC,GAAaD,EAAI,IAAMC,C,CAEjE,OAAO,CACT,EAEO,YAAA1R,MAAP,WACE,GAAIpG,KAAKiW,WAAY,CACnB,IAAM4B,EAAM7X,KAAKiW,WACjB,MAAO,OAAS4B,EAAI,GAAK,KAAOA,EAAI,GAAK,KAAOA,EAAI,GAAK,G,CAE3D,GAAI7X,KAAKsJ,UACP,MAAO,cAET,IAAMzC,EAAM7G,KAAK6G,MACXG,EAAUhH,KAAKyE,OAErB,OAAIuC,EAAQZ,MACHY,EAAQZ,MAEViR,EAAMrD,gBAAgBnN,EAC/B,EAEO,YAAAyC,QAAP,WACE,OAAOtJ,KAAKyM,QAAUzM,KAAKyM,KAAKrB,KAAKpH,MAAM,qBAC7C,EAEO,YAAA+T,QAAP,WACE,OAAO/X,KAAKyM,OAA6C,IAArCzM,KAAKyM,KAAKrB,KAAKC,QAAQ,QAC7C,EAEO,YAAAzB,gBAAP,WACE,MAAgC,mBAAzB5J,KAAKyE,OAAO6B,QACrB,EAEO,YAAA0R,QAAP,WACE,OAAOhY,KAAKyM,OAA6C,IAArCzM,KAAKyM,KAAKrB,KAAKC,QAAQ,QAC7C,EAEO,YAAA1B,gBAAP,WACE,MAAgC,mBAAzB3J,KAAKyE,OAAO6B,QACrB,EAEO,YAAA2R,OAAP,WACE,OAAOjY,KAAKyM,OAA4C,IAApCzM,KAAKyM,KAAKrB,KAAKC,QAAQ,OAC7C,EAEO,YAAAqL,OAAP,SAAchM,GAAd,WAEE,OADA1K,KAAKiV,SAAWvK,EACT,IAAIqB,SAAQ,SAACC,EAASwD,GACvB,EAAKlG,UACP,EAAK8J,cAAcxG,MACjB,WACEZ,EAAQ,EACV,IACA,SAACtL,GACCsL,EAAQ,EACV,IAIJA,EAAQ,EACV,GACF,EAEO,YAAAkM,aAAP,SAAoBzF,GACbA,IAGLzS,KAAKkV,WAAazC,EAAQ/H,IAC1B1K,KAAKgS,MAAQS,EAAQT,MACjBS,EAAQT,OAASS,EAAQT,MAAMvG,OAASgH,EAAQT,MAAMtG,SACxD1L,KAAKwL,WAAWC,MAAQgH,EAAQT,MAAMvG,MACtCzL,KAAKwL,WAAWE,OAAS+G,EAAQT,MAAMtG,QAEzC1L,KAAKsV,aAAetV,KAAKkV,WACzBlV,KAAKiW,WAAaxD,EAAQrM,MAC5B,EAEO,YAAAgN,YAAP,sBACE,OAAO,IAAIrH,SAAQ,SAACC,EAASwD,GAC3B6H,EAAA,YACe,EAAKjI,cAAe,EAAK3C,KAAM,EAAKwI,SAAoB,EAAK5F,uBACzEzC,MAAK,SAAC6F,GACL,EAAKyF,aAAazF,GAClBzG,EAAQ,EACV,IACCmM,MAAM3I,EACX,GACF,EAEO,YAAA/K,KAAP,WACE,IAAMoC,EAAM7G,KAAK6G,MACXG,EAAUE,EAAeL,GAC/B,OAAOG,CACT,EAEO,YAAAuD,gBAAP,SAAuBC,GACrB,IAAM/E,EAAQzF,KAAKyF,MACnB,OAAKA,GAGL+E,EAAYA,GAAa,CAAC,EAC1BA,EAAY,CACV4N,OAAQ5N,EAAU4N,QAAU,gBAC5BhN,KAAMZ,EAAUY,MAAQ,qBACxBT,KAAMH,EAAUG,MAAQ,2BAA6B3K,KAAK+U,QAAU,YAElEtP,EAAM2F,KACDZ,EAAUY,KACR3F,EAAMkF,KACRH,EAAUG,KACRlF,EAAM4P,OACRrV,KAAKqV,OAAO5P,MAAQzF,KAAKqV,OAAO5P,MAAQA,EAAM4P,OAEhD7K,EAAU4N,QAfR,EAgBX,EAEO,YAAAjB,MAAP,sBACQ5B,EAAMvV,KAAKuV,KAAQ,CAAC,EAuB1B,OArBAA,EAAI7K,IAAM1K,KAAK0K,IAAI2N,KAAKrY,MACxBuV,EAAIL,WAAalV,KAAKkV,WACtBK,EAAIpT,IAAMnC,KAAKmC,IAAIkW,KAAKrY,MACxBuV,EAAIxO,KAAO/G,KAAK+G,KAAKsR,KAAKrY,MAC1BuV,EAAIgC,aAAevX,KAAKyM,KAAK8K,aAC7BhC,EAAI+C,SAAWtY,KAAK2K,OACpB4K,EAAI5K,KAAO3K,KAAKyM,KAAK9B,KACrB4K,EAAInK,KAAOpL,KAAKyM,KAAKrB,KACrBmK,EAAI1O,IAAM7G,KAAK6G,MACf0O,EAAInP,MAAQpG,KAAKoG,QACjBmP,EAAI9I,KAAOzM,KAAKyM,KAChB8I,EAAI3J,SAAW5L,KAAK4L,SAASyM,KAAKrY,MAClCuV,EAAIF,OAASrV,KAAKqV,OACZ,UAAWE,GACfnV,OAAOgD,eAAemS,EAAK,QAAS,CAClC/U,IAAK,WACH,OAAO,EAAKiF,KACd,IAGJ8P,EAAI/J,WAAaxL,KAAKwL,WACf+J,CACT,EAEO,YAAAa,SAAP,WACE,IAAMzB,EAAY0C,EAAMhD,aAAarU,KAAKyM,KAAMzM,KAAKsU,QAC/CiE,EAAYlB,EAAMvC,aAAa9U,KAAKyM,KAAMzM,KAAK+U,SAOnD/U,KAAKyF,QANFkP,IAAc4D,IACJ,CACXnN,MAAOuJ,EACPhK,MAAO4N,EAKb,EACF,EAjXA,GAmXA,IClbA,EAAe,WAAW,CACxBnR,MAAO,CACL,QACA,YACA,WACA,WACA,YACA,WACA,gBACA,eACA,mBAEFoR,WAAY,CACVC,YAAW,GAEbzI,KAAA,WACE,MAAO,CACLtG,oBAAoB,EACpBgP,kBAAkB,EAClBrP,WAAY,CAAC,EAEjB,EACAhC,SAAU,CACRsR,eAAA,WACE,QAAK3Y,KAAK4Y,aAGD5Y,KAAKqJ,WAAWqB,QAAU1K,KAAKqJ,WAAWO,oBAAsB5J,KAAKqJ,WAAWM,kBAC3F,GAEFkP,QAAS,CACPC,iBAAA,sBACM9Y,KAAK6D,iBAAiB,EACxB7D,KAAKqJ,WAAarJ,KAAK6D,OAGzB,UAAmB7D,KAAK6D,MAAO,CAC7BuL,cAAepP,KAAKoP,cACpB+G,aAAcnW,KAAKmW,aACnB7G,gBAAiBtP,KAAKsP,kBACV1C,MAAK,SAACvD,GAClB,EAAKA,WAAaA,CACpB,IACArJ,KAAKqJ,WAAa,cAAuBrJ,KAAK6D,MAAO,CACnDuL,cAAepP,KAAKoP,cACpB+G,aAAcnW,KAAKmW,aACnB7G,gBAAiBtP,KAAKsP,kBAE1B,EACAyJ,gBAAA,SAAgB1P,EAAwB6F,GACtC,GAAI7F,EAAW2M,eACb9G,EAAM8J,OAAS3P,EAAWlH,UAD5B,CAIA,IAAMgN,EAAS7O,SAAS+R,cAAc,UACtCgF,EAAA,qBAEInI,EACAC,EACAnP,KAAKqJ,WAAW+F,eACM,IAAtBpP,KAAKmW,cACoB,IAAzBnW,KAAKsP,iBAEN1C,MAAK,SAACqM,GACL5P,EAAW4M,WAAagD,EAAU7S,MAClCiD,EAAW2M,eAAiBiD,EAAUvO,IACtCrB,EAAWmC,WAAWC,MAAQwN,EAAUxN,MACxCpC,EAAWmC,WAAWE,OAASuN,EAAUvN,OACzCwD,EAAM8J,OAAS3P,EAAWlH,KAC5B,G,CACJ,EAEA8H,OAAA,SAAOZ,GACL,GAAIA,EAAW6P,OACb7P,EAAW6P,aADb,CAIA,IAAMtG,GAAmB7O,OAAO8O,KAAO9O,OAAO+O,WAAa,CAAC,GAAGF,gBACzDG,GAAmBhP,OAAO8O,KAAO9O,OAAO+O,WAAa,CAAC,GAAGC,gBAEzDoG,EAAUnZ,KAAKoZ,MAAMD,QACrBE,EAAS/Y,SAAS+R,cAAchJ,EAAW2O,UAAY,QAAU,SACnEqB,aAAkBC,kBAAoBjQ,EAAWO,mBACnD5J,KAAK+Y,gBAAgB1P,EAAYgQ,GAEnCA,EAAOE,UAAW,EAElBJ,EAAQK,YAAYH,GACpB,IAAM3O,EAAOrB,EAAWqB,OAAoBkI,EAAgBvJ,EAAWoD,MACvE4M,EAAOlX,IAAMuI,EACb2O,EAAOI,OACPpQ,EAAWE,aAAc,EACzBF,EAAW6P,OAAS,WAElBG,EAAOlX,IAAM,GACbgX,EAAQO,YAAYL,GACpBtG,EAAgBrI,GAChBrB,EAAWE,aAAc,EACzBF,EAAW6P,OAAS,IACtB,C,CACF,EAEAtO,iBAAA,SAAiBvB,GACXrJ,KAAK2Z,kBAGa,IAAlB3Z,KAAK+K,UAGT/K,KAAK4Z,MAAM,SAAUvQ,EACvB,EAEAyB,aAAA,YACwB,IAAlB9K,KAAKyJ,UAGJzJ,KAAKoZ,MAAMS,OAGf7Z,KAAKoZ,MAAMS,MAA2BC,OACzC,EAEA7O,iBAAgB,WACdjL,KAAK0J,oBAAqB,EAC1B1J,KAAK0Y,kBAAmB,CAC1B,EAEAxN,gBAAA,sBACElL,KAAKqJ,WAAW8L,YAAcnV,KAAKqJ,WAAWtC,OAC9C,IAAMgT,EAAW/Z,KAAKqJ,WAAWtC,MAAK,GAChClD,EAAS7D,KAAKoZ,MAAMS,MAA2BhW,MACrD7D,KAAKqJ,WAAW6M,WAAarS,EAC7B,IAAMmW,EAAWha,KAAKqJ,WAAWtC,MAAK,GAClCiT,IAAaD,IACf/Z,KAAKqJ,WAAW+L,cAAgB2E,EAChC/Z,KAAK4Z,MAAM,SAAU5Z,KAAKqJ,aAE5B,IAAM4Q,EAAU,IAChBC,YAAW,WACT,EAAKC,WAAU,WACR,EAAKzB,mBAGV,EAAKhP,oBAAqB,EAC5B,GACF,GAAGuQ,EACL,EAEA9O,gBAAA,SAAgBiP,GACVA,GACDpa,KAAKoZ,MAAMS,MAA2BQ,QAEvB,IAAdD,GACFpa,KAAK2Z,eAET,EAEA9O,qBAAoB,YACM,IAAlB7K,KAAKyJ,UAAqBzJ,KAAK0J,qBAGrC1J,KAAK0Y,kBAAmB,EAC1B,EAEAiB,cAAA,WACE,SAAwB,IAAlB3Z,KAAKyJ,WAAqBzJ,KAAK0J,sBAGpC1J,KAAKoZ,MAAMS,MAA2BhW,MAAQ,GAC/C7D,KAAK0Y,kBAAmB,EACxB1Y,KAAKkL,mBACE,EACT,EAEAd,aAAY,WACNpK,KAAKqJ,WAAW5D,QAAUzF,KAAKqJ,WAAW5D,MAAMkF,MAAQ3K,KAAKqJ,WAAW5D,MAAM2F,QAGlFpL,KAAKqJ,WAAW5D,OAAQ,EAC1B,GAEF6U,QAAO,WACLta,KAAK8Y,kBACP,EACAyB,MAAO,CACL1W,MAAK,WACH7D,KAAK8Y,kBACP,KC5LJ,EAAe,WAAW,CACxB0B,OAAQ,CAAC,KCLkM,ICOzM,EAAY,EACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIF,EAAe,EAAiB,QClB5B,EAAS,WAAkB,IAAItW,EAAIlE,KAAKmE,EAAGD,EAAIE,MAAMD,GAAUD,EAAIE,MAAMC,YAAY,OAAOF,EAAG,MAAM,CAACD,EAAIuW,GAAG,YAAY,EAC7H,EACI,EAAkB,GCCtB,EAAe,WAAW,CACxBrT,MAAO,CAAC,QAAS,OAAQ,cCJ+K,ICOtM,EAAY,EACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIF,EAAe,EAAiB,QClB5B,EAAS,WAAkB,IAAIlD,EAAIlE,KAAKmE,EAAGD,EAAIE,MAAMD,GAAUD,EAAIE,MAAMC,YAAY,OAAOF,EAAG,MAAM,CAACD,EAAIuW,GAAG,YAAY,EAC7H,EACI,EAAkB,GCCtB,GAAe,WAAW,CACxBrT,MAAO,CAAC,WCJqM,MCO3M,GAAY,EACd,GACA,EACA,GACA,EACA,KACA,KACA,MAIF,GAAe,GAAiB,QClB5B,GAAS,WAAkB,IAAIlD,EAAIlE,KAAKmE,EAAGD,EAAIE,MAAMD,GAAUD,EAAIE,MAAMC,YAAY,OAAOF,EAAG,MAAM,CAACiF,MAAM,CAC5G,gBAAkBlF,EAAIwW,WAAa,UAAY,YAC/C,CACE,mBAAqC,SAAjBxW,EAAIyW,SACxB,qBAAuC,WAAjBzW,EAAIyW,SAC1B,2BAA4C,IAAjBzW,EAAIyW,SAC/B,aAAczW,EAAI0W,UAClB,oBAAqB1W,EAAI2W,gBACzB,eAAgB3W,EAAI4W,WACpB,eAAgC,IAAjB5W,EAAI6G,SACnB,eAAgC,IAAjB7G,EAAI6W,SACnB,mBAAoC,IAAjB7W,EAAI6G,WAAsC,IAAjB7G,EAAI6W,UAAsB7W,EAAI8W,cAAgB9W,EAAI+W,aAEhG,SAAW/W,EAAIgX,OACf5W,MAAM,CAAC,GAAK,OAASJ,EAAIiX,UAAUpR,GAAG,CAAC,SAAW7F,EAAIkX,SAAS,UAAYlX,EAAImX,UAAU,UAAYnX,EAAIoX,UAAU,KAAOpX,EAAIqX,OAAO,CAACrX,EAAIuW,GAAG,gBAAgBtW,EAAG,MAAM,CAAC2F,YAAY,uDAAuDV,MAAM,CAC9O,eAAgBlF,EAAIsX,QACpB,aAActX,EAAI8W,YAClB,eAAgB9W,EAAI8W,YACpB,WAAwB,IAAb9W,EAAIuX,OACd,CAACvX,EAAIuW,GAAG,gBAAgBtW,EAAG,SAAS,CAAC0F,IAAI,kBAAkBY,YAAY,CAAC,SAAW,QAAQ,WAAa,SAAS,UAAU,QAASvG,EAAmB,gBAAEC,EAAG,MAAM,CAAC2F,YAAY,mBAAmBV,MAAM,CAAE,wBAAyBlF,EAAIwX,iBAAmB,MAAO,CAACvX,EAAG,MAAM,CAAC2F,YAAY,uBAAuBK,MAAM,CAAGsB,MAAOvH,EAAIwX,gBAAkB,OAASvX,EAAG,MAAM,CAAC2F,YAAY,wBAAwBK,MAAM,CAAGsB,MAAO,IAAMvH,EAAIwX,gBAAkB,SAAWxX,EAAIS,KAAKR,EAAGD,EAAIwW,WAAa,oBAAsB,cAAc,CAACiB,IAAI,YAAYrX,MAAM,CAAC,KAAoB,QAAbJ,EAAIgX,MAAkB,IAAM,KAAK,SAAW,QAAUhX,EAAIiX,SAAW,mBAAmB,mBAAqBjX,EAAI0X,mBAAmB,WAA8B,SAAjB1X,EAAIyW,SAAsB,IAAM,EAAE,cAAiC,WAAjBzW,EAAIyW,SAAsB,YAAc,uBAAuB5Q,GAAG,CAAC,aAAa,SAASC,GAAQ,OAAO9F,EAAI2X,WAAW,EAAE,WAAW,SAAS7R,GAAQ,OAAO9F,EAAI4X,QAAQ9R,EAAO,GAAG+R,MAAM,CAAClY,MAAOK,EAAe,YAAE8X,SAAS,SAAUC,GAAM/X,EAAIgT,YAAY+E,CAAG,EAAEC,WAAW,gBAAgB,CAAC/X,EAAG,mBAAmB,CAACG,MAAM,CAAC,KAAO,WAAW,IAAM,QAAQ,CAACJ,EAAIM,GAAIN,EAAe,aAAE,SAASmF,EAAW3E,GAAO,OAAOP,EAAGD,EAAIwW,WAAa,oBAAsB,kBAAkB,CAACxX,IAAImG,EAAWuM,GAAG+F,IAAI,YAAY7R,YAAY,gDAAgDxF,MAAM,CAAC,MAAQI,IAAQ,CAAmB,WAAjBR,EAAIyW,SAAuBxW,EAAG,OAAO,CAACgY,WAAW,CAAC,CAACpV,KAAK,sBAAsBqV,QAAQ,0BAA0BtS,YAAY,wBAAwB,CAAC5F,EAAIuW,GAAG,mBAAkB,WAAW,MAAO,CAACtW,EAAG,cAAc,CAACG,MAAM,CAAC,KAAO,4BAA4B,KAAI,GAAGJ,EAAIS,KAAKT,EAAIuW,GAAG,sBAAsB,KAAK,CAAC,WAAapR,EAAW,SAAWA,EAAW,MAAQ3E,IAAQR,EAAIuW,GAAG,gBAAe,WAAW,MAAO,CAACtW,EAAG,iBAAiB,CAACG,MAAM,CAAC,aAAeJ,EAAIiS,aAAa,MAAQ9M,EAAW,UAAYnF,EAAImY,YAAY,UAA4B,IAAjBnY,EAAIuF,SAAkB,UAA4B,IAAjBvF,EAAI0U,SAAkB,UAAY1U,EAAIsG,UAAU,SAAWtG,EAAI6G,SAAS,cAAgB7G,EAAIkL,cAAc,gBAAkBlL,EAAIoL,iBAAiBvF,GAAG,CAAC,OAAS,SAASC,GAAQ,OAAO9F,EAAI0G,iBAAiBZ,EAAO,EAAE,OAAS,SAASA,GAAQ,OAAO9F,EAAIiH,gBAAgBnB,EAAO,KAAK,GAAE,CAAC,WAAaX,EAAW,SAAWA,EAAW,MAAQ3E,IAAQR,EAAIuW,GAAG,qBAAqB,KAAK,CAAC,WAAapR,EAAW,SAAWA,EAAW,MAAQ3E,KAAS,EAAE,IAAIR,EAAI+W,aAA+B,IAAjB/W,EAAI6W,SAAmB,CAAC7W,EAAIuW,GAAG,oBAAmB,WAAW,MAAO,CAACtW,EAAG,MAAM,CAACjB,IAAI,MAAM4G,YAAY,kEAAkE,CAAC3F,EAAG,OAAO,CAAC2F,YAAY,gBAAgB,CAAC3F,EAAG,OAAO,CAACsG,YAAY,CAAC,SAAW,WAAW,IAAM,IAAI,MAAQ,IAAI,OAAS,IAAI,KAAO,MAAM,CAACtG,EAAG,cAAc,CAACG,MAAM,CAAC,KAAO,6BAA6BH,EAAG,OAAO,CAAC2F,YAAY,aAAa,CAAC5F,EAAImG,GAAGnG,EAAIoG,GAAGpG,EAAIoY,sBAAsB,OAAO,KAAIpY,EAAIS,MAAM,IAAI,IAAqB,IAAjBT,EAAI6W,SAAmB5W,EAAG,QAAQ,CAAC0F,IAAI,YAAYC,YAAY,aAAaxF,MAAM,CAAC,MAAQ,GAAG,UAA4B,IAAjBJ,EAAI6G,UAAsB7G,EAAI8W,cAAgB9W,EAAI+W,WAAY,KAAO,OAAO,SAAW/W,EAAI8W,YAAY,OAAS9W,EAAIoQ,QAAU,IAAI,QAAUpQ,EAAIqY,cAAW9Z,GAAWsH,GAAG,CAAC,OAAS7F,EAAIsY,gBAAgBtY,EAAIS,KAAKT,EAAIuW,GAAG,gBAAgB,GAAGvW,EAAIuW,GAAG,gBAAgB,EACnnG,EACI,GAAkB,GCJtB,2BA+IA,QA9IS,YAAAgC,YAAP,SACEC,EACAC,EACAC,EACAC,GAEA,IAAMpX,EAAmB,IAAIhF,MAAMic,GAOnC,OANAjX,EAAMA,OAAQ,EACVkX,IACFlX,EAAMkX,KAAOA,GAEflX,EAAMmX,QAAUA,EAChBnX,EAAMoX,SAAWA,EACVpX,CACT,EAEO,YAAAqX,OAAP,SAAc9Q,EAAcwD,EAAaqN,GACvC,IAAME,EAAiB,SAACC,GACtB,OAAOA,GAAU,KAAOA,EAAS,GACnC,EAEKH,EAASG,QAAWD,IAAkBA,EAAeF,EAASG,QAGjExN,EAAOxP,KAAKyc,YAAY,mCAAqCI,EAASG,OAAQ,KAAMH,EAASD,QAASC,IAFtG7Q,EAAQ6Q,EAIZ,EAEO,YAAAD,QAAP,SACEK,EACAvS,EACAwS,EACAC,GAJF,WAME,YAHA,IAAAD,IAAAA,EAAA,MAGO,IAAInR,SAAQ,SAACC,EAASwD,GAE3B,IAAIoN,EAAU,IAAIQ,eACZC,EAAY,qBAElBT,EAAQU,KAAKL,EAAQvS,GAAK,GAG1BkS,EAAQS,GAAa,WACnB,GAAKT,GAAkC,IAAvBA,EAAQ1a,aAQD,IAAnB0a,EAAQI,QAAkBJ,EAAQW,aAAwD,IAAzCX,EAAQW,YAAYlS,QAAQ,UAAjF,CAKA,IAAMmS,EAAkBZ,EAAQa,wBAC5BC,EAAoBd,EAAQe,aAC1BC,EAAchB,EAAQiB,kBAAkB,gBAC9C,GAAID,IAA4D,IAA7CA,EAAYvS,QAAQ,oBACrCqS,EAAeI,KAAKC,MAAML,QAE1B,IACEA,EAAeI,KAAKC,MAAML,E,CAC1B,MAAOpY,G,CAIX,IAAMuX,EAAyB,CAC7B7M,KAAM0N,EAENV,OAA2B,OAAnBJ,EAAQI,OAAkB,IAAMJ,EAAQI,OAChDgB,WAA+B,OAAnBpB,EAAQI,OAAkB,aAAeJ,EAAQoB,WAC7DC,QAAST,EACTZ,QAAO,GAGT,EAAKE,OAAO9Q,EAASwD,EAAQqN,GAG5BD,EAAkB,I,CACrB,EAGAA,EAAQsB,QAAU,WACXtB,IAILpN,EAAO,EAAKiN,YAAY,kBAAmB,eAAgBG,IAG1DA,EAAkB,KACrB,EAGAA,EAAQlK,QAAU,WAGhBlD,EAAO,EAAKiN,YAAY,gBAAiB,KAAMG,IAG9CA,EAAkB,IACrB,EAGAA,EAAQuB,UAAY,WAClB3O,EAAO,EAAKiN,YAAY,mBAAoB,eAAgBG,IAG3DA,EAAkB,IACrB,EAY2B,oBAAhBO,GACTA,EAAYP,GAGdA,EAAQwB,KAAKlB,EACf,GACF,EAEO,YAAAmB,KAAP,SAAY3T,EAAawS,EAA2BC,GAClD,OAAOnd,KAAK4c,QAAQ,OAAQlS,EAAKwS,EAAUC,EAC7C,EAEO,YAAAmB,OAAP,SAAc5T,EAAawS,EAA2BC,GACpD,OAAOnd,KAAK4c,QAAQ,SAAUlS,EAAKwS,EAAUC,EAC/C,EAEO,YAAAoB,IAAP,SAAW7T,EAAawS,EAA2BC,GACjD,OAAOnd,KAAK4c,QAAQ,MAAOlS,EAAKwS,EAAUC,EAC5C,EACF,EA/IA,GAiJA,OAAmBqB,GCpJnB,2BA4YA,QAvYS,YAAAC,WAAP,SAAkBC,EAAqBT,GAErC,GADAS,EAAIC,iBAAiB,SAAU,oBAC3BV,EACF,IAAK,IAAM/a,KAAO+a,EACZA,EAAQxa,eAAeP,IACzBwb,EAAIC,iBAAiBzb,EAAM+a,EAAgB/a,IAIjD,OAAOwb,CACT,EAEO,YAAAE,SAAP,SACElU,EACAuT,EACAf,EACA2B,EACA1B,GALF,WAOE,OAAO,QAAUzS,EAAKwS,GAAU,SAACwB,GAC/B,EAAKD,WAAWC,EAAKT,GACrBS,EAAIrJ,OAAOjF,iBAAiB,WAAYyO,GAAkB,GAC/B,oBAAhB1B,GACTA,EAAYuB,EAEhB,GACF,EAEO,YAAAI,eAAP,SACEpU,EACAuT,EACAc,EACA5B,GAJF,WASE,MAH0B,kBAAf4B,IACTA,EAAajB,KAAKkB,UAAUD,IAEvB,aAAYrU,EAAKqU,GAAY,SAACL,GACnCA,EAAIC,iBAAiB,eAAgB,oBACrC,EAAKF,WAAWC,EAAKT,GACM,oBAAhBd,GACTA,EAAYuB,EAEhB,GACF,EAEO,YAAAO,eAAP,SACEvU,EACAuT,EACAc,EACA5B,GAJF,WASE,MAH0B,kBAAf4B,IACTA,EAAajB,KAAKkB,UAAUD,IAEvB,OAASrU,EAAKqU,GAAY,SAACL,GAChCA,EAAIC,iBAAiB,eAAgB,oBACrC,EAAKF,WAAWC,EAAKT,GACM,oBAAhBd,GACTA,EAAYuB,EAEhB,GACF,EAaO,YAAAQ,mBAAP,SAA0B7V,EAAwB3I,EAAgBuZ,GAChE,IAAIzP,EAAY9J,EAAIgc,QACpB,GAAIhc,EAAImc,UAAYnc,EAAImc,SAAS7M,KAC/B,IACE,IAAMmP,EAAWze,EAAImc,SAAS7M,KAAKvK,OAASqY,KAAKC,MAAMrd,EAAImc,SAAS7M,MAAMvK,MAC1E+E,EAAY2U,C,CACZ,MAAO7Z,G,CAIN+D,EAAW5D,QACd4D,EAAW5D,MAAQ,CAAC,GAEtB4D,EAAW5D,MAAM4P,OAAS7K,EAC1BnB,EAAWgM,OAAOrF,UAAOvN,EACzB4G,EAAWgM,OAAO5P,MAAQ+E,EACtByP,GACFC,YAAW,WACJ7Q,EAAW5D,QACd4D,EAAW5D,MAAQ,CAAC,GAEtB4D,EAAW5D,MAAM4P,QAAS,EACrBhM,EAAW5D,MAAMkF,MAAStB,EAAW5D,MAAM2F,OAC9C/B,EAAW5D,OAAQ,EAEvB,GAAGwU,EAEP,EAEO,YAAA5E,OAAP,SACE3K,EACAuT,EACA/G,EACAkI,EACAC,EACAlC,G,QANF,OAQMmC,EAAwB,WAE5B,EACID,IACFC,EAAwB,W,QAClBC,EAAW,E,IACf,IAAyB,QAAArI,GAAW,8BAAE,CAAjC,IAAM7N,EAAU,QACnBkW,GAAYlW,EAAWuC,U,mGAEzByT,EAAWE,EAAWrI,EAAYjV,OACpC,GAEF,IAAM+U,EAAqD,GACvDwI,EAAqB,E,WACdnW,GACT,IAAI6T,OAAQ,EACkB,oBAAnBkC,EACTlC,EAAWkC,EAAe/V,IAE1B6T,EAAW,IAAIuC,SACfvC,EAASwC,OAAO,OAAQrW,EAAWoD,MACnCyQ,EAASwC,OAAO,WAAYrW,EAAWtC,SAGzC,IAAM0P,EAAU,EAAKmI,SACnBlU,EACAuT,EACAf,GACA,SAACyC,GACC,IAAMC,EAA2C,IAAvBD,EAAcE,OAAgBF,EAAcG,MAEtEzW,EAAWuC,SAASgU,GAAoB,IAAM,QAAUA,GACxDN,GACF,IACA,SAACZ,GACCrV,EAAWqV,IAAMA,EACU,oBAAhBvB,GACTA,EAAYuB,EAEhB,IAEF1H,EAASxR,KACP,IAAIuG,SAAQ,SAACC,EAASwD,GACpBiH,EAAQ7J,MACN,SAACiQ,UACQxT,EAAWqV,IAClBrV,EAAWgM,OAAOrF,KAAO6M,EAAS7M,KAClC3G,EAAWgM,OAAO5P,OAAQ,EAC1B4D,EAAWuC,SAAS,KAChBvC,EAAW0W,WACb1W,EAAW0W,kBACJ1W,EAAW0W,UAEpB/T,EAAQ6Q,EACV,IACA,SAACnc,GACC,EAAKwe,mBAAmB7V,EAAY3I,GACpCsL,EAAQtL,GACR8e,GACF,GAEJ,I,aA/CJ,IAAyB,QAAAtI,GAAW,+BAA/B,IAAM7N,EAAU,Q,EAAVA,E,qGAqDX,OAAO,IAAI0C,SAAQ,SAACC,EAASwD,GAC3BzD,QAAQY,IAAIqK,GAAUpK,MAAK,SAACoT,GACtBR,IAAuBxI,EAAS/U,OAKpC+J,EAAQgU,GAHNxQ,EAAOwQ,EAIX,GAAGxQ,EACL,GACF,EAEO,YAAAyQ,aAAP,SACEvV,EACAuT,EACA5U,EACA0V,EACA5B,GALF,WAOE,OAAO,IAAIpR,SAAQ,SAACC,EAASwD,GACvBnG,EAAWqV,KACbrV,EAAWqV,IAAIwB,aAEEzd,IAAfsc,IACFA,EAAa1V,EAAWgM,OAAOrF,MAE7B+O,GACF,EAAKD,eAAepU,EAAKuT,EAASc,GAAY,SAACL,GAClB,oBAAhBvB,GACTA,EAAYuB,EAEhB,IAAG9R,MACD,SAACgE,GACC5E,EAAQ4E,EACV,IACA,SAAClQ,GACC,EAAKwe,mBAAmB7V,EAAY3I,GACpC8O,EAAO9O,EACT,GAGN,GACF,EAEO,YAAAyf,aAAP,SACEzV,EACAuT,EACA5U,EACA0V,EACA5B,GALF,WAOE,OAAO,IAAIpR,SAAQ,SAACC,EAASwD,GAC3B,GAAInG,EAAWqV,IAKb,OAHArV,EAAW0W,SAAW,WACpB,EAAKI,aAAazV,EAAKuT,EAAS5U,EAAY0V,EAC9C,EACO/S,GAAQ,QAEEvJ,IAAfsc,IACFA,EAAa1V,EAAWgM,OAAOrF,MAAQ,CAAC,EACxC+O,EAAWqB,aAAe/W,EAAW8L,YACrC4J,EAAWsB,SAAWhX,EAAWtC,QAE/BgY,GACF,EAAKE,eAAevU,EAAKuT,EAASc,GAAY,SAACL,GAClB,oBAAhBvB,GACTA,EAAYuB,EAEhB,IAAG9R,MACD,SAACiQ,GACCxT,EAAWgM,OAAOrF,KAAO6M,EAAS7M,KAClC3G,EAAWgM,OAAO5P,OAAQ,EAC1BuG,EAAQ6Q,EACV,IACA,SAACnc,GACC,EAAKwe,mBAAmB7V,EAAY3I,GACpC8O,EAAO9O,EACT,GAGN,GACF,EAEO,YAAA4f,YAAP,SACEC,EACA7V,EACArB,EACA4U,EACAY,EACA2B,EACAC,GAEA,IAAMC,EAAyBF,EAAeA,EAAanX,GAAc,CAAC,EAC1E,OAAO,IAAI0C,SAAQ,SAACC,EAASwD,GAC3B,IAAK+Q,EACH,OAAO/Q,EAAO,IAAI/O,MAAM,+CAI1B,IAAMgM,EAAOpD,EAAWoD,KAClB4I,EAAS,IAAIkL,EAAII,OAAOlU,EAAM,CAClCmU,SAAUlW,EACVuT,QAAO,EACP4C,YAAaH,EAAWG,YAAcH,EAAWG,YAAc,CAAC,EAAG,IAAM,IAAM,IAAO,KACtFC,SAAUJ,EAAWI,SACjBJ,EAAWI,SACX,CACET,SAAU5T,EAAK1F,KACfga,SAAUtU,EAAKrB,MAErB4V,QAAA,SAAQvb,GACN+J,EAAO/J,EAET,EACAwb,WAAA,SAAWC,EAAuBC,GAChC,IAAMzQ,EAAQ,CAAEmP,OAAQqB,EAAepB,MAAOqB,GAC9CtC,EAAiBnO,EACnB,EACA0Q,UAAS,WACPpV,EAAQqJ,EACV,EACAgM,gBAAiB,SAAUC,GACzB,IAAM5C,EAAsB4C,EAAIC,sBAChC7C,EAAIpP,iBAA4C,IAA1BmR,CACxB,IAEFpX,EAAWmY,UAAYnM,EAEvBA,EAAOoM,OACT,GACF,EAEO,YAAAD,UAAP,SACEjB,EACA7V,EACAuT,EACA/G,EACAmI,EACAmB,EACAC,G,QAPF,OASMnB,EAAwB,WAE5B,EACID,IACFC,EAAwB,W,QAClBC,EAAW,E,IACf,IAAyB,QAAArI,GAAW,8BAAE,CAAjC,IAAM7N,EAAU,QACnBkW,GAAYlW,EAAWuC,U,mGAEzByT,EAAWE,EAAWrI,EAAYjV,OACpC,GAEF,IAAM+U,EAAW,G,WACN3N,GACT,IAAMoN,EAAU,EAAK6J,YACnBC,EACA7V,EACArB,EACA4U,GACA,SAAC0B,GACC,IAAMC,EAA2C,IAAvBD,EAAcE,OAAgBF,EAAcG,MAEtEzW,EAAWuC,SAASgU,GAAoB,IAAM,QAAUA,GACxDN,GACF,GACAkB,EACAC,GAEFhK,EAAQ7J,MACN,SAACiQ,GAECxT,EAAWuC,SAAS,IACtB,IACA,SAAClL,GACC,EAAKwe,mBAAmB7V,EAAY3I,EACtC,IAEFsW,EAASxR,KAAKiR,E,aAxBhB,IAAyB,QAAAS,GAAW,+BAA/B,IAAM7N,EAAU,Q,EAAVA,E,mGA0BX,OAAO0C,QAAQY,IAAIqK,EACrB,EAEO,YAAA0K,gBAAP,SAAuBnB,EAAU7V,EAAauT,EAAiB5U,GAA/D,WACE,OAAO,IAAI0C,SAAQ,SAACC,EAASwD,GAC3B,IAAK+Q,EACH,OAAO/Q,EAAO,gBAEhB,IAAKnG,EAAWmY,UACd,OAAOxV,GAAQ,GAGjB,IAAMkU,EAAQ,SAACyB,GACb,OAAO,IAAI5V,SAAQ,SAAC6V,EAAKC,GACvBxY,EAAWmY,UAAUtB,MAAMyB,GAAiB,SAACjhB,GAC3C,GAAIA,EAGF,OAFA,EAAKwe,mBAAmB7V,EAAY3I,QACpCmhB,EAAInhB,GAGNkhB,GAAI,EACN,GACF,GACF,EACA1B,GAAM,GAAOtT,MAAK,WAChBsN,YAAW,WACTgG,GAAM,GAAMtT,KAAKZ,EAASwD,EAC5B,GAAG,IACL,GACF,GACF,EACF,EA5YA,GA8YA,OAAmBsS,GC5ZnB,IACEvB,IAAK,MCYHwB,GAAc,EAElB,GAAe,WAAW,CACxB3a,MAAO,CACL,SACA,OACA,eACA,UACA,UACA,YACA,WACA,WACA,YACA,WACA,WACA,WACA,UACA,OACA,WACA,WACA,OACA,WACA,YACA,WACA,QACA,gBACA,eACA,gBACA,YACA,wBACA,SAEFoR,WAAY,CACVC,YAAW,EACXuJ,eAAc,EACdC,YAAW,EACXC,gBAAe,IAEjB/F,WAAY,CAEVgG,kBAAmB,CACjB9J,KAAA,SAAK+J,GACFA,EAAWC,gBAAiB,CAC/B,IAGJrS,KAAA,WACE,MAAO,CACLkH,YAAa,GACbH,eAAgB,GAChB+D,YAAY,EACZF,WAAW,EACXC,iBAAiB,EACjBe,mBAAoB,IACpBF,gBAAiB,EACjBP,SAAU,GACVmH,YAAa,EAEjB,EACAjb,SAAU,CACRiI,gBAAA,WACE,OAAOtP,KAAKygB,qBACd,EACAxF,WAAA,WACE,OAAKjb,KAAKgb,aAGLhb,KAAKuiB,UAGHviB,KAAKkX,YAAYjV,OAASjC,KAAKuiB,SALD,IAA5BviB,KAAKkX,YAAYjV,MAM5B,EACAqa,iBAAA,WACE,OAAItc,KAAKwiB,SACAxiB,KAAKwiB,SAEP,WAAaxiB,KAAKgb,YAAc,QAAU,QAAU,sBAC7D,EACAqB,YAAA,WACE,MAA8B,kBAAnBrc,KAAKwJ,UACY,UAAnBxJ,KAAKwJ,YAELxJ,KAAKwJ,SAChB,EACAkR,WAAA,WACE,QAAS1a,KAAK2a,QAChB,EACAK,YAAA,WACE,MAA6B,kBAAlBhb,KAAKyiB,SACW,UAAlBziB,KAAKyiB,cAEQhgB,IAAlBzC,KAAKyiB,SACAzc,MAAM0c,QAAQ1iB,KAAK6D,SAEnB7D,KAAKyiB,QAChB,EACAE,WAAA,WACE,MAAyB,kBAAd3iB,KAAK2V,KACO,SAAd3V,KAAK2V,OAEL3V,KAAK2V,IAChB,GAEFkD,QAAS,CACPE,gBAAA,SAAgB1P,EAAwB6F,GAAxC,WACE,OAAO,IAAInD,SAAQ,SAACC,EAASwD,GAC3B,IAAML,EAAS7O,SAAS+R,cAAc,UACtCgF,EAAA,qBAEInI,EACAC,EACA9F,EAAW+F,eACW,IAAtB,EAAK+G,aACL,EAAK7G,iBAEN1C,MAAK,SAACqM,GACL5P,EAAW4M,WAAagD,EAAU7S,MAClCiD,EAAW2M,eAAiBiD,EAAUvO,IACtCrB,EAAWmC,WAAWC,MAAQwN,EAAUxN,MACxCpC,EAAWmC,WAAWE,OAASuN,EAAUvN,OACzCM,GACF,GAAGwD,EACP,GACF,EACAoT,UAAA,SAAUvZ,GACR,GAAKA,EAAWO,kBAAhB,CAGA,IAAMgJ,GAAmB7O,OAAO8O,KAAO9O,OAAO+O,WAAa,CAAC,GAAGF,gBACzDG,GAAmBhP,OAAO8O,KAAO9O,OAAO+O,WAAa,CAAC,GAAGC,gBACzD7D,EAAQ5O,SAAS+R,cAAc,SACrCnD,EAAM/M,IAAMyQ,EAAgBvJ,EAAWoD,MACvCzM,KAAK+Y,gBAAgB1P,EAAY6F,GAAOtC,MAAK,WAC3CmG,EAAgB7D,EAAM/M,IACxB,IACA+M,EAAM2T,M,CACR,EACAC,2BAAA,SAA2BC,EAA6CxN,GACtE,IAAIvT,EAMJ,OAJEA,EADE+gB,aAA2B,EACzB/iB,KAAKkX,YAAY7L,QAAQ0X,GAEzB/iB,KAAK+W,eAAe1L,QAAQ0X,IAEvB,IAAP/gB,EACK+gB,EAEFxN,EAAMvV,KAAK+W,eAAe/U,GAAKhC,KAAKkX,YAAYlV,EACzD,EACAghB,yBAAA,SAAyBD,GACvB,OAAO/iB,KAAK8iB,2BAA2BC,GAAiB,EAC1D,EACAE,sBAAA,SAAsBF,GACpB,OAAO/iB,KAAK8iB,2BAA2BC,GAAiB,EAC1D,EACAG,mBAAA,SAAmBC,GACjB,IAAM7T,EAAkBtP,KAAKygB,sBAC7B,OAAwB,IAApBnR,IAAgD,IAApBA,EACvB6T,EAEF,SAACvG,GACNA,EAAQtN,gBAAkBA,EACE,oBAAjB6T,GACTA,EAAavG,EAEjB,CACF,EACAvH,OAAA,SACE3K,EACAuT,EACAmF,EACAhE,EACA+D,G,QALF,OAOQE,EAAiC,GACjCC,EAAqC,G,IAC3C,IAA8B,QAAAF,GAAgB,8BAAE,CAA3C,IAAML,EAAe,QAClB1Z,EAAarJ,KAAKijB,sBAAsBF,GACzC1Z,EAAW5D,QACd4d,EAAiB7d,KAAK6D,GACtBia,EAAkB9d,KAAKxF,KAAKgjB,yBAAyB3Z,I,qGAGzD,OAAIrJ,KAAKujB,UACA,aACLC,GAAQjD,IACR7V,EACAuT,EACAoF,GACA,SAAC3H,GACC,EAAKA,gBAAkBA,CACzB,IACmB,IAAnB1b,KAAKujB,eAAqB9gB,EAAYzC,KAAKujB,UAC3CvjB,KAAKygB,uBAGF,IAAI1U,SAAQ,SAACC,EAASwD,GAC3B,GAAA6F,OAEI3K,EACAuT,EACAoF,EACAjE,GACA,SAAC1D,GACC,EAAKA,gBAAkBA,CACzB,GACA,EAAKwH,mBAAmBC,IAEzBvW,MACC,SAACgV,GACC,IAAK,IAAI5f,EAAI,EAAGA,EAAI4f,EAAI3f,OAAQD,IAC9B4f,EAAI5f,GAAGqH,WAAaia,EAAkBthB,GAExC,EAAK4X,MAAM,SAAUgI,GACrB5V,EAAQ4V,EACV,IACA,SAAClhB,GACC,IAAK,IAAIsB,EAAI,EAAGA,EAAItB,EAAIuB,OAAQD,IAC9BtB,EAAIsB,GAAGqH,WAAaia,EAAkBthB,GAExC,EAAK4X,MAAM,eAAgBlZ,GAC3B8O,EAAO9O,EACT,GAEN,GACF,EACAuf,aAAA,SACEvV,EACAuT,EACA8E,EACAhE,EACAoE,GALF,WAOMnjB,KAAKkX,YAAYjV,OAAS,IAC5BjC,KAAK0b,gBAAkB,GAEzB,IAAMrS,EAAarJ,KAAKijB,sBAAsBF,GACxCzM,EAAgBtW,KAAKgjB,yBAAyBD,GACpD,OAAI/iB,KAAKujB,UACA,mBAAyBC,GAAQjD,IAAK7V,EAAKuT,EAAS5U,GAEtD,IAAI0C,SAAQ,SAACC,EAASwD,GAC3B,gBACgB9E,EAAKuT,EAAS5U,EAA0B0V,EAAY,EAAKmE,mBAAmBC,IACzFvW,MACC,SAACgV,GACCA,EAAIvY,WAAaiN,EACjB,EAAKsD,MAAM,gBAAiBgI,GAC5B5V,EAAQ4V,EACV,IACA,SAAClhB,GACCA,EAAI2I,WAAaiN,EACjB,EAAKsD,MAAM,sBAAuBlZ,GAClC8O,EAAO9O,EACT,GAEN,GACF,EACAyf,aAAA,SACEzV,EACAuT,EACA5U,EACA0V,EACAoE,GALF,WAOE9Z,EAAarJ,KAAKijB,sBAAsB5Z,GACxC,IAAMiN,EAAgBtW,KAAKgjB,yBAAyB3Z,GACpD,OAAO,IAAI0C,SAAQ,SAACC,EAASwD,GAC3B,gBACgB9E,EAAKuT,EAAS5U,EAA0B0V,EAAY,EAAKmE,mBAAmBC,IACzFvW,MACC,SAACgV,GACCA,EAAI1K,YAAcZ,EAClB,EAAKsD,MAAM,gBAAiBgI,GAC5B5V,EAAQ4V,EACV,IACA,SAAClhB,GACCA,EAAIwW,YAAcZ,EAClB,EAAKsD,MAAM,sBAAuBlZ,GAClC8O,EAAO9O,EACT,GAEN,GACF,EACA+iB,WAAA,SAAWvM,GACT,OAAKlX,KAAK0jB,YAA2B,IAAd1jB,KAAK2jB,KAGrB3jB,KAAKqV,OAAOrV,KAAK0jB,UAAW1jB,KAAK4jB,cAAe1M,EAAalX,KAAK6jB,cAFhE9X,QAAQC,SAAQ,EAG3B,EACA8X,iBAAA,SAAiBza,GACf,OAAKrJ,KAAK0jB,YAA2B,IAAd1jB,KAAK2jB,KAGrB3jB,KAAKigB,aAAajgB,KAAK0jB,UAAW1jB,KAAK4jB,cAAeva,EAAYrJ,KAAK6jB,cAFrE9X,QAAQC,SAAQ,EAG3B,EACA+X,iBAAA,SAAiB1a,GACf,OAAKrJ,KAAK0jB,YAA2B,IAAd1jB,KAAK2jB,KAGrB3jB,KAAKmgB,aAAangB,KAAK0jB,UAAW1jB,KAAK4jB,cAAeva,EAAYrJ,KAAK6jB,cAFrE9X,QAAQC,SAAQ,EAG3B,EACAgY,WAAA,SAAWC,EAAaC,GACtB,OAEED,EAAMld,OAASmd,EAAMnd,MACrBkd,EAAMtZ,OAASuZ,EAAMvZ,MACrBsZ,EAAM7Y,OAAS8Y,EAAM9Y,MAErB6Y,EAAM1M,eAAiB2M,EAAM3M,YAEjC,EACA4M,mBAAA,SAAmB1X,G,YACjB,IAAyB,QAAAzM,KAAKkX,aAAW,8BAAE,CAAtC,IAAM7N,EAAU,QACnB,GAAIrJ,KAAKgkB,WAAWvX,EAAMpD,EAAWoD,MACnC,OAAO,C,mGAGX,OAAO,CACT,EACA2X,YAAA,SAAYlY,G,cAAZ,OACE,IAAsB,IAAlBlM,KAAK+K,WAAuC,IAAlB/K,KAAK+a,YAG/B/a,KAAKgb,aAAgBhb,KAAKib,YAA9B,CAMA,IAHA,IAAM/D,EAA4B,GAC5BmN,EAAwB,GAErBriB,EAAI,EAAGA,EAAIkK,EAAMjK,OAAQD,IAC5BhC,KAAKgb,aAAehb,KAAKmkB,mBAAmBjY,EAAMlK,KAGtDqiB,EAAc7e,KAAK0G,EAAMlK,IAE3BkK,EAAQmY,EACJrkB,KAAKgb,aAAehb,KAAKuiB,UAAYrW,EAAMjK,OAASjC,KAAKuiB,SAAWviB,KAAKkX,YAAYjV,SACvFiK,EAAQA,EAAMjG,MAAM,EAAGjG,KAAKuiB,SAAWviB,KAAKkX,YAAYjV,S,IAE1D,IAAmB,QAAAiK,GAAK,8BAAE,CAArB,IAAMO,EAAI,QACbyK,EAAY1R,KACV,IAAI,EACF,CACEiH,KAAI,GAEN,CACEkJ,KAAM3V,KAAK2iB,WACX5N,QAAS/U,KAAK+U,QACdT,OAAQtU,KAAKsU,OACblF,cAAepP,KAAKoP,cACpB+G,aAAcnW,KAAKmW,aACnB7G,gBAAiBtP,KAAKsP,kB,uGAM9B,IAAyB,QAAA4H,GAAW,8BAAE,CAAjC,IAAM7N,EAAU,QACfA,EAAWoD,KAAK9B,MAAQ,UAE1B3K,KAAK4iB,UAAUvZ,E,mGAGfrJ,KAAKgb,aAEP,EAAAhb,KAAKkX,aAAYnJ,OAAM,WAAC/N,KAAKkX,YAAYjV,OAAQ,GAAC,EAAKiV,IAAW,IAElElX,KAAKkX,YAAcA,EAGrB,YAAqBA,GAAatK,MAAK,SAAC0X,GACtC,IAAMC,EAAoB,aAAsB,EAAKrN,aACrD,EAAKH,eAAiBwN,EACtB,EAAK3K,MAAM,QAAS5T,MAAM0c,QAAQ,EAAK7e,OAAS0gB,EAAoBA,EAAkB,IACtF,EAAK3K,MAAM,SAAU,aAAsB0K,GAC7C,IACAtkB,KAAKyjB,WAAWvM,E,CAClB,EACAsF,aAAA,SAAa9L,GACX,IAAIxE,EAA4BwE,EAAMC,OAA4BzE,MAClElM,KAAK4Z,MAAM,SAAUlJ,GAChBxE,EAAM,KAGNlM,KAAKgb,cACR9O,EAAQ,CAACA,EAAM,KAEjBlM,KAAKokB,YAAYlY,GACblM,KAAKoZ,MAAMoL,YACZxkB,KAAKoZ,MAAMoL,UAAkB3gB,MAAQ,MAG1C,EACA0X,KAAA,SAAK7K,GAAL,WACEA,EAAM+T,kBACN/T,EAAMgU,iBACN3C,GAAc,EACd/hB,KAAK8a,YAAa,GACI,IAAlB9a,KAAK+K,WAAuC,IAAlB/K,KAAK+a,UAG9BrK,EAAM5E,cAGXuL,EAAMxL,yBAAyB6E,EAAM5E,cAAcc,MAAK,SAACV,GACvD,EAAK0N,MAAM,OAAQlJ,GACdxE,GAAUA,EAAM,KAGhB,EAAK8O,cACR9O,EAAQ,CAACA,EAAM,KAEjB,EAAKkY,YAAYlY,GACnB,GACF,EACAmP,UAAA,SAAU3K,GACHA,EAAM5E,eAGX9L,KAAK8a,YAAa,EAClBpK,EAAM+T,kBACN/T,EAAMgU,iBACN3C,KACArR,EAAM5E,aAAa6Y,WAAa,OAClC,EACAvJ,SAAA,SAAS1K,GACFA,EAAM5E,eAGX9L,KAAK8a,YAAa,EAClBpK,EAAM+T,kBACN/T,EAAMgU,iBACNhU,EAAM5E,aAAa6Y,WAAa,OAClC,EACArJ,UAAA,SAAU5K,GACHA,EAAM5E,eAGXiW,KACoB,IAAhBA,KACF/hB,KAAK8a,YAAa,GAEtB,EACAlQ,iBAAA,SAAiBmY,GACf,IAAMzM,EAAgBtW,KAAKgjB,yBAAyBD,GACpD/iB,KAAK4Z,MAAM,eAAgBtD,GACtBtW,KAAK0jB,YAA2B,IAAd1jB,KAAK2jB,MAG5B3jB,KAAK4kB,iBAAiB7B,EACxB,EACA6B,iBAAA,SAAiB7B,GAAjB,IACM/gB,EADN,OAGIA,EADE+gB,aAA2B,EACzB/iB,KAAKkX,YAAY7L,QAAQ0X,GAEzB/iB,KAAK+W,eAAe1L,QAAQ0X,GAElC,IAAI1Z,EAAarJ,KAAKkX,YAAYlV,GAC9BsU,EAAgBtW,KAAK+W,eAAe/U,GACxChC,KAAK4Z,MAAM,QAAS5Z,KAAK+W,gBACzB/W,KAAK4Z,MAAM,SAAUtD,GACrBjN,EAAarJ,KAAKkX,YAAYnJ,OAAO/L,EAAG,GAAG,GAC3CsU,EAAgBtW,KAAK+W,eAAehJ,OAAO/L,EAAG,GAAG,GACjDhC,KAAK8jB,iBAAiBza,GAAYuD,MAChC,SAACgV,GAED,IACA,SAAClhB,GACC,EAAKwW,YAAYnJ,OAAO/L,EAAG,EAAGqH,GAC9B,EAAK0N,eAAehJ,OAAO/L,EAAG,EAAGsU,EACnC,GAEJ,EACAnL,gBAAA,SAAgB9B,GACdrJ,KAAK4Z,MAAM,SAAU,aAAsB,CAACvQ,IAAa,IACzDrJ,KAAK+jB,iBAAiB1a,GAAYuD,MAChC,SAACgV,GAED,IACA,SAAClhB,GACC2I,EAAW6M,WAAa7M,EAAW+L,aACrC,GAEJ,EACAyP,WAAA,sBACM9N,EAAkC/W,KAAK6D,OAAS,GACpDkT,EAAiB/Q,MAAM0c,QAAQ3L,GAAkBA,EAAiB,CAACA,GAKnE,IAHA,IAAM+N,EAAyC,GACzCC,EAAqC,GAElC/iB,EAAI,EAAGA,EAAI+U,EAAe9U,OAAQD,IAAK,CAC9C,IAAMgjB,EAAgBhlB,KAAK+W,eAAe1L,QAAQ0L,EAAe/U,KAC1C,IAAnBgjB,GACFF,EAAWtf,KAAKuG,QAAQC,QAAQhM,KAAKkX,YAAY8N,KACjDD,EAAkB/iB,GAAKhC,KAAK+W,eAAeiO,KAE3CF,EAAWtf,KACT,UAAmBuR,EAAe/U,GAAI,CACpC2T,KAAM3V,KAAK2iB,WACX5N,QAAS/U,KAAK+U,QACdT,OAAQtU,KAAKsU,OACblF,cAAepP,KAAKoP,cACpB+G,aAAcnW,KAAKmW,aACnB7G,gBAAiBtP,KAAKsP,mBAG1ByV,EAAkBvf,KAAKuR,EAAe/U,I,CAI1ChC,KAAK+W,eAAiBgO,EACtBhZ,QAAQY,IAAImY,GAAYlY,MAAK,SAACsK,GAC5B,EAAKA,YAAcA,CACrB,GACF,EACA2E,UAAA,WACM7b,KAAKsiB,aACP2C,aAAajlB,KAAKsiB,aAEpBtiB,KAAK4a,WAAY,EACjB5a,KAAK6a,iBAAkB,CACzB,EACAiB,QAAA,SAAQoJ,GAAR,WACEllB,KAAK6a,iBAAkB,EACnB7a,KAAKsiB,aACP2C,aAAajlB,KAAKsiB,aAEpBtiB,KAAKsiB,YAAcpI,YAAW,WAC5B,EAAKU,WAAY,CACnB,GAAG5a,KAAK4b,mBAAqB,KACzBsJ,EAASC,WAAaD,EAAStX,WACjC5N,KAAK+W,eAAiBM,EAAM5J,UAAUzN,KAAK+W,eAAgBmO,EAASC,SAAUD,EAAStX,UACvF5N,KAAKma,WAAU,WACb,EAAKP,MAAM,QAAS,EAAK7C,gBACzB,EAAK6C,MAAM,OAAQ,CACjBuL,SAAUD,EAASC,SACnBvX,SAAUsX,EAAStX,UAEvB,IAEJ,GAEF0M,QAAO,WACLta,KAAKmb,UAAW,IAAIrF,MAAOC,UAAUqP,SAAS,IAAMrW,KAAK8G,SAASuP,SAAS,IAAInf,MAAM,GACrFjG,KAAK6kB,YACP,EACAtK,MAAO,CACL1W,MAAK,WACH7D,KAAK6kB,YACP,KCjjBJ,GAAe,WAAW,CACxBrK,OAAQ,CAAC,MCLgM,MCQvM,GAAY,EACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,GAAe,GAAiB,QCNhC,2BACS,KAAA/B,YAAc,EACd,KAAAuJ,eAAiB,EACjB,KAAAqD,aAAe,GACf,KAAAlc,UAAY,GACZ,KAAAmc,MAAQ,GACR,KAAA9B,QAAUA,GAEV,KAAA+B,kBAAoB,GACpB,KAAAC,oBAAsB,EAEtB,KAAAC,QAAmC,SAACC,EAAkB5d,GAC3D4d,EAAIvc,UAAU,cAAe,GAC7Buc,EAAIvc,UAAU,iBAAkB,GAChCuc,EAAIvc,UAAU,cAAe,GAC7Buc,EAAIvc,UAAU,kBAAmB,IACjCuc,EAAIvc,UAAU,eAAgB,IAC9Buc,EAAIliB,UAAUmiB,cAAgB,CAC5BL,MAAO,GAEX,CACF,UArBA,GAuBMM,GAAY,IAAIC,GAGA,qBAAX9hB,QAA0BA,OAAO2hB,MAC1CE,GAAUH,QAAQ1hB,OAAO2hB,IAAK,CAAC,GAC9B3hB,OAAeshB,aAAeO,IAG1B,IAAMN,GAAQ,GAMRQ,GAAW,EAExB,MClDA,K","sources":["webpack://vue-file-agent/webpack/universalModuleDefinition","webpack://vue-file-agent/./node_modules/@soda/get-current-script/index.js","webpack://vue-file-agent/external umd {\"commonjs\":\"vue\",\"commonjs2\":\"vue\",\"root\":\"Vue\"}","webpack://vue-file-agent/webpack/bootstrap","webpack://vue-file-agent/webpack/runtime/compat get default export","webpack://vue-file-agent/webpack/runtime/define property getters","webpack://vue-file-agent/webpack/runtime/hasOwnProperty shorthand","webpack://vue-file-agent/webpack/runtime/make namespace object","webpack://vue-file-agent/webpack/runtime/publicPath","webpack://vue-file-agent/./node_modules/@vue/cli-service/lib/commands/build/setPublicPath.js","webpack://vue-file-agent/./src/components/vue-file-icon.vue?08d2","webpack://vue-file-agent/./node_modules/tslib/tslib.es6.js","webpack://vue-file-agent/./src/lib/extensions.ts","webpack://vue-file-agent/./src/lib/icons.ts","webpack://vue-file-agent/./src/components/vue-file-icon.vue?b73f","webpack://vue-file-agent/./src/components/vue-file-icon.vue?e7ce","webpack://vue-file-agent/./node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js","webpack://vue-file-agent/./src/components/vue-file-icon.vue","webpack://vue-file-agent/./src/lib/utils.ts","webpack://vue-file-agent/./src/components/vue-file-preview.vue?b66b","webpack://vue-file-agent/./src/lib/drop-handler.ts","webpack://vue-file-agent/./src/lib/file-record.ts","webpack://vue-file-agent/./src/components/vue-file-preview-mixin.ts","webpack://vue-file-agent/./src/components/vue-file-preview.vue?4f32","webpack://vue-file-agent/./src/components/vue-file-preview.vue?7f05","webpack://vue-file-agent/./src/components/vue-file-preview.vue","webpack://vue-file-agent/./src/components/vue-file-list.vue?454a","webpack://vue-file-agent/./src/components/vue-file-list.vue?d604","webpack://vue-file-agent/./src/components/vue-file-list.vue?cd17","webpack://vue-file-agent/./src/components/vue-file-list.vue","webpack://vue-file-agent/./src/components/vue-file-list-item.vue?b033","webpack://vue-file-agent/./src/components/vue-file-list-item.vue?a391","webpack://vue-file-agent/./src/components/vue-file-list-item.vue?c1e6","webpack://vue-file-agent/./src/components/vue-file-list-item.vue","webpack://vue-file-agent/./src/components/vue-file-agent.vue?76d2","webpack://vue-file-agent/./src/lib/ajax-request.ts","webpack://vue-file-agent/./src/lib/upload-helper.ts","webpack://vue-file-agent/./src/lib/plugins.ts","webpack://vue-file-agent/./src/components/vue-file-agent-mixin.ts","webpack://vue-file-agent/./src/components/vue-file-agent.vue?1ac4","webpack://vue-file-agent/./src/components/vue-file-agent.vue?3e31","webpack://vue-file-agent/./src/components/vue-file-agent.vue","webpack://vue-file-agent/./src/index.ts","webpack://vue-file-agent/./node_modules/@vue/cli-service/lib/commands/build/entry-lib.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"vue\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"vue-file-agent\"] = factory(require(\"vue\"));\n\telse\n\t\troot[\"vue-file-agent\"] = factory(root[\"Vue\"]);\n})((typeof self !== 'undefined' ? self : this), function(__WEBPACK_EXTERNAL_MODULE__203__) {\nreturn ","// addapted from the document.currentScript polyfill by Adam Miller\n// MIT license\n// source: https://github.com/amiller-gh/currentScript-polyfill\n\n// added support for Firefox https://bugzilla.mozilla.org/show_bug.cgi?id=1620505\n\n(function (root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    define([], factory);\n  } else if (typeof module === 'object' && module.exports) {\n    module.exports = factory();\n  } else {\n    root.getCurrentScript = factory();\n  }\n}(typeof self !== 'undefined' ? self : this, function () {\n  function getCurrentScript () {\n    var descriptor = Object.getOwnPropertyDescriptor(document, 'currentScript')\n    // for chrome\n    if (!descriptor && 'currentScript' in document && document.currentScript) {\n      return document.currentScript\n    }\n\n    // for other browsers with native support for currentScript\n    if (descriptor && descriptor.get !== getCurrentScript && document.currentScript) {\n      return document.currentScript\n    }\n  \n    // IE 8-10 support script readyState\n    // IE 11+ & Firefox support stack trace\n    try {\n      throw new Error();\n    }\n    catch (err) {\n      // Find the second match for the \"at\" string to get file src url from stack.\n      var ieStackRegExp = /.*at [^(]*\\((.*):(.+):(.+)\\)$/ig,\n        ffStackRegExp = /@([^@]*):(\\d+):(\\d+)\\s*$/ig,\n        stackDetails = ieStackRegExp.exec(err.stack) || ffStackRegExp.exec(err.stack),\n        scriptLocation = (stackDetails && stackDetails[1]) || false,\n        line = (stackDetails && stackDetails[2]) || false,\n        currentLocation = document.location.href.replace(document.location.hash, ''),\n        pageSource,\n        inlineScriptSourceRegExp,\n        inlineScriptSource,\n        scripts = document.getElementsByTagName('script'); // Live NodeList collection\n  \n      if (scriptLocation === currentLocation) {\n        pageSource = document.documentElement.outerHTML;\n        inlineScriptSourceRegExp = new RegExp('(?:[^\\\\n]+?\\\\n){0,' + (line - 2) + '}[^<]*<script>([\\\\d\\\\D]*?)<\\\\/script>[\\\\d\\\\D]*', 'i');\n        inlineScriptSource = pageSource.replace(inlineScriptSourceRegExp, '$1').trim();\n      }\n  \n      for (var i = 0; i < scripts.length; i++) {\n        // If ready state is interactive, return the script tag\n        if (scripts[i].readyState === 'interactive') {\n          return scripts[i];\n        }\n  \n        // If src matches, return the script tag\n        if (scripts[i].src === scriptLocation) {\n          return scripts[i];\n        }\n  \n        // If inline source matches, return the script tag\n        if (\n          scriptLocation === currentLocation &&\n          scripts[i].innerHTML &&\n          scripts[i].innerHTML.trim() === inlineScriptSource\n        ) {\n          return scripts[i];\n        }\n      }\n  \n      // If no match, return null\n      return null;\n    }\n  };\n\n  return getCurrentScript\n}));\n","module.exports = __WEBPACK_EXTERNAL_MODULE__203__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"\";","/* eslint-disable no-var */\n// This file is imported into lib/wc client bundles.\n\nif (typeof window !== 'undefined') {\n  var currentScript = window.document.currentScript\n  if (process.env.NEED_CURRENTSCRIPT_POLYFILL) {\n    var getCurrentScript = require('@soda/get-current-script')\n    currentScript = getCurrentScript()\n\n    // for backward compatibility, because previously we directly included the polyfill\n    if (!('currentScript' in document)) {\n      Object.defineProperty(document, 'currentScript', { get: getCurrentScript })\n    }\n  }\n\n  var src = currentScript && currentScript.src.match(/(.+\\/)[^/]+\\.js(\\?.*)?$/)\n  if (src) {\n    __webpack_public_path__ = src[1] // eslint-disable-line\n  }\n}\n\n// Indicate to webpack that this file can be concatenated\nexport default null\n","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('svg',{attrs:{\"viewBox\":_vm.viewBoxComputed}},[_vm._l((_vm.icon.paths),function(d,index){return [(d)?_c('path',{key:index,attrs:{\"d\":d}}):_vm._e()]})],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n        desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\nexport function __classPrivateFieldIn(state, receiver) {\r\n    if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\r\n    return typeof state === \"function\" ? receiver === state : state.has(receiver);\r\n}\r\n","export default {\n  'audio': [\n    'aif',\n    'cda',\n    'mid',\n    'midi',\n    // 'mp3',\n    'mpa',\n    // 'ogg',\n    // 'wav',\n    'wma',\n    'wpl',\n  ],\n  'audio-playable': ['mp3', 'ogg', 'wav'],\n  'archive': ['7z', 'arj', 'deb', 'pkg', 'rar', 'rpm', 'tar.gz', 'z', 'zip'],\n  'disc': [\n    // 'bin',\n    'dmg',\n    'iso',\n    'toast',\n    'vcd',\n  ],\n  'database': [\n    'csv',\n    'dat',\n    'db',\n    'dbf',\n    'log',\n    'mdb',\n    'sav',\n    'sql',\n    'tar',\n    // 'xml'\n  ],\n  'executable': ['apk', 'bat', 'bin', 'cgi', 'pl', 'com', 'exe', 'gadget', 'jar', 'py', 'wsf', 'ipa'],\n  'font': ['fnt', 'fon', 'otf', 'ttf'],\n  'image': ['ai', 'bmp', 'gif', 'ico', 'jpeg', 'jpg', 'png', 'ps', 'psd', 'svg', 'tif', 'tiff'],\n  'markup': [\n    'asp',\n    'aspx',\n    'cer',\n    'cfm',\n    'cgi',\n    'pl',\n    'css',\n    'scss',\n    'htm',\n    'html',\n    'jsp',\n    // 'vue',\n    'part',\n    'php',\n    'py',\n    'rss',\n    'xml',\n    'xhtml',\n  ],\n  'presentation': ['key', 'odp', 'pps', 'ppt', 'pptx'],\n  'script': ['c', 'class', 'cpp', 'cs', 'h', 'java', 'js', 'json', 'sh', 'swift', 'vb'],\n  'sheet': ['ods', 'xlr', 'xls', 'xlsx'],\n  'system': [\n    'bak',\n    'cab',\n    'cfg',\n    'cpl',\n    'cur',\n    'dll',\n    'dmp',\n    'drv',\n    'icns',\n    // 'ico',\n    'ini',\n    'lnk',\n    'msi',\n    'sys',\n    'tmp',\n  ],\n  'video': [\n    '3g2',\n    '3gp',\n    'avi',\n    'flv',\n    'h264',\n    // 'm4v',\n    'mkv',\n    // 'mov',\n    // 'mp4',\n    'mpg',\n    'mpeg',\n    'rm',\n    'swf',\n    'vob',\n    // 'webm',\n    'wmv',\n  ],\n  'video-playable': ['mp4', 'webm', 'mov'],\n  'vue': ['vue'],\n  'doc': [\n    'doc',\n    'docx',\n    'odt',\n    'rtf',\n    'tex',\n    // 'txt',\n    'wks',\n    'wps',\n    'wpd',\n  ],\n  'text': ['txt'],\n  'ebook': ['epub'],\n  'pdf': ['pdf'],\n  'folder': ['folder'],\n  'play': ['play'],\n};\n","import extensions from '../lib/extensions';\n\nexport class SvgIcon {\n  public category: string = '';\n  constructor(public paths: string[], public color?: string, public viewBox?: string) {}\n}\n\nconst playIconPaths = ['M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm-4 29V15l12 9-12 9z'];\n\nconst icons = {\n  'folder': new SvgIcon(\n    [\n      'M96.5 93.7h-93c-2 0-3.5-1.5-3.5-3.5V35.4h100v54.8c0 2-1.5 3.5-3.5 3.5z',\n      'M44.9 20V9.7c0-2-1.5-3.5-3.5-3.5h-38C1.5 6.3 0 7.8 0 9.7v25.7h100V23.5c0-2-1.5-3.5-3.5-3.5H44.9z',\n    ],\n    '#efce4a'\n  ),\n  'audio': new SvgIcon(\n    [\n      'M32.5 37.5h-9v25h9L53.6 77V23L32.5 37.5M71.9 50c0 6.8-3.7 12.7-9.1 15.8l2.8 4.9c7.1-4.1 11.9-11.8 11.9-20.7 0-8.8-4.8-16.6-11.9-20.7l-2.8 4.9c5.4 3.1 9.1 9 9.1 15.8z',\n      // tslint:disable-next-line\n      'M62.1 50c0 3.2-1.7 5.9-4.3 7.4l2.7 4.7c4.2-2.4 7-6.9 7-12.1 0-5.2-2.8-9.7-7-12.1l-2.7 4.7c2.6 1.5 4.3 4.2 4.3 7.4z',\n    ],\n    '#039'\n  ),\n  'video': new SvgIcon(\n    [\n      'M21 26.4v47.1h58V26.4H21zm10.9 43.5h-7.2v-7.2h7.2v7.2zm0-10.8h-7.2v-7.2h7.2v7.2zm0-10.9h-7.2V41h7.2v7.2zm0-10.9h-7.2v-7.2h7.2v7.2zm10.9 25.4V37.3L60.9 50 42.8 62.7zm32.6 7.2h-7.2v-7.2h7.2v7.2zm0-10.8h-7.2v-7.2h7.2v7.2zm0-10.9h-7.2V41h7.2v7.2zm0-10.9h-7.2v-7.2h7.2v7.2z',\n    ],\n    '#ef6f2e'\n  ),\n  'audio-playable': new SvgIcon(playIconPaths, '#039', '0 0 48 48'),\n  'video-playable': new SvgIcon(playIconPaths, '#ef6f2e', '0 0 48 48'),\n  'archive': new SvgIcon(\n    [\n      'M72.4 38.5h-7.9v-7.9l7.9 7.9zm-21.3-7.9v28.8h21.4v-19h-9.9v-9.9H51.1zm3.3-7.6H30.8v5.6h9.3l-5.9 4.5v4.8l8.6-6.6v-2.7h30.1v-2.3L54.4 23zM42.9 35.1l-8.6 6.6v4.8l8.6-6.6v-4.8zm-8.7 20l8.6-6.6v-4.8l-8.6 6.6v4.8zm8.7 2v-4.8l-8.6 6.6v2.6h-3.4v5.6h5.3v3.8H33c-.6-1-1.6-1.6-2.8-1.6-1.8 0-3.2 1.4-3.2 3.2s1.4 3.2 3.2 3.2c1.2 0 2.2-.6 2.8-1.6h3.1V77h4.8v-2.9H44c.6 1 1.6 1.6 2.8 1.6 1.8 0 3.2-1.4 3.2-3.2s-1.4-3.2-3.2-3.2c-1.2 0-2.2.6-2.8 1.6h-3.1v-3.8h13.5l18.5-3.3v-2.3H37.1l5.8-4.4z',\n    ],\n    '#ba8322'\n  ),\n  'system': new SvgIcon(\n    [\n      'M73.6 54.8c-2.1-.7-3.4-2.6-3.4-4.8s1.4-4.1 3.4-4.8c.6-.2 1-.9.8-1.5-.6-2.3-1.5-4.4-2.7-6.5-.3-.6-1.1-.8-1.7-.5-.7.4-1.6.6-2.4.6-2.8 0-5-2.3-5-5 0-.8.2-1.7.6-2.4.3-.6.1-1.3-.5-1.7-2-1.2-4.2-2.1-6.5-2.7-.6-.2-1.3.2-1.5.8-.7 2.1-2.6 3.4-4.8 3.4-2.2 0-4.1-1.4-4.8-3.4-.2-.6-.9-1-1.5-.8-2.3.6-4.4 1.5-6.5 2.7-.6.3-.8 1.1-.5 1.7.4.7.6 1.6.6 2.4 0 2.8-2.3 5-5 5-.8 0-1.7-.2-2.4-.6-.6-.3-1.3-.1-1.7.5-1.2 2-2.1 4.2-2.7 6.5-.2.6.2 1.3.8 1.5 2.1.7 3.4 2.6 3.4 4.8s-1.4 4.1-3.4 4.8c-.6.2-1 .9-.8 1.5.6 2.3 1.5 4.4 2.7 6.5.3.6 1.1.8 1.7.5.7-.4 1.6-.6 2.4-.6 2.8 0 5 2.3 5 5 0 .8-.2 1.7-.6 2.4-.3.6-.1 1.3.5 1.7 2 1.2 4.2 2.1 6.5 2.7h.3c.5 0 1-.3 1.2-.9.7-2.1 2.6-3.4 4.8-3.4 2.2 0 4.1 1.4 4.8 3.4.2.6.9 1 1.5.8 2.3-.6 4.4-1.5 6.5-2.7.6-.3.8-1.1.5-1.7-.4-.7-.6-1.6-.6-2.4 0-2.8 2.3-5 5-5 .8 0 1.7.2 2.4.6.6.3 1.3.1 1.7-.5 1.2-2 2.1-4.2 2.7-6.5.2-.5-.1-1.2-.8-1.4zM50 57.6c-4.2 0-7.6-3.4-7.6-7.6 0-4.2 3.4-7.6 7.6-7.6 4.2 0 7.6 3.4 7.6 7.6 0 4.2-3.4 7.6-7.6 7.6z',\n    ],\n    '#999'\n  ),\n  'image': new SvgIcon(\n    [\n      'm 40.400002,35 a 8,8 0 0 1 -8,8 8,8 0 0 1 -8,-8 8,8 0 0 1 8,-8 8,8 0 0 1 8,8 z',\n      'M78.9 47.3l-9.7-9.6L50 57l-9.6-9.7-19.3 19.3V73h57.8z',\n    ],\n    '#5b2d8d'\n  ),\n  'doc': new SvgIcon(\n    [\n      'M29.6 53l-5.9-18.2c-.2-.7-.4-1-.5-1-.1-.1-.2-.1-.4-.2l-2.1-.6-.1-2.6h11l.2 2.6-2.1.6v.2c0 .2.1.7.4 1.2l2.2 7 3.9-11.7 3-.1 3.6 11.7 2.5-7c.1-.5.4-1 .4-1.2v-.1l-1.8-.5-.1-2.7h8.6l.2 2.6-2.3.7c-.1 0-.2.1-.4.1 0 .1-.2.2-.4.9L43 52.8l-3.1.2-3.3-11.2-3.9 11-3.1.2z',\n      'M57.8 30.2h21.7v3.4H57.8zm0 9.2h21.7v3.4H57.8zm0 9.4h21.7v3.4H57.8zm-36.2 9.6h57.9v3.4H21.6zm0 9.4h57.9v3.4H21.6z',\n    ],\n    '#2372ba'\n  ),\n  'executable': new SvgIcon(\n    ['M33.1 29.8l-6.6 6.6L37.2 47 26.5 57.6l6.6 6.6L50.2 47zm18.8 31.1h22.6v9.2H51.9z'],\n    '#333'\n  ),\n  'ebook': new SvgIcon(\n    [\n      'M75.8 45.7c-.3-.6-.7-1.2-1.3-1.6-.1.5-.3 1-.6 1.5L58.3 69.8c-.6.9-1.9 1.1-2.9.8l-25-7c-1.5-.4-3.3-1.3-3.4-3 0-.6 0-.9.4-1.1.3-.3.8-.2 1.1-.1L52 66c3.4 1 4.4.2 6.9-3.5l14.4-22.2c.7-1.2.9-2.5.5-3.6s-1.4-2-2.7-2.4l-20.6-5.7c-.5-.1-1-.1-1.5-.1v-.1c-3.2-1.9-4.4 1.7-6 3-.6.5-1.4.8-1.7 1.3-.2.5-.1 1-.3 1.4-.6 1.4-2.4 3.6-3.3 4.3-.6.4-1.2.5-1.6 1.1-.3.4-.2 1.1-.4 1.6-.5 1.2-2.1 3.3-3.2 4.4-.4.4-1 .6-1.3 1.1-.3.4-.2 1.1-.4 1.6-.7 1.3-2.2 3.2-3.4 4.3-.6.6-1.3.9-1.6 1.5-.1.3 0 .7-.2 1.1-.2.6-.5 1.1-.7 1.7-.7.9-1 2.1-.9 3.4.2 3.1 2.5 6 5.3 6.8l25 7c2.3.6 5.2-.5 6.6-2.5l14.4-22.2c.7-1.1.9-2.4.5-3.6zm-28.9-7.9l1.1-1.6c.3-.4.9-.7 1.4-.5l16.5 4.6c.5.1.7.6.4 1l-1.1 1.6c-.3.4-.9.7-1.4.5l-16.5-4.6c-.5-.2-.7-.6-.4-1zM42.7 44l1.1-1.6c.3-.4.9-.7 1.4-.5l16.5 4.6c.5.1.7.6.4 1L60.9 49c-.3.4-.9.7-1.4.5L43.1 45c-.5-.1-.7-.6-.4-1z',\n    ],\n    '#963'\n  ),\n  'markup': new SvgIcon(\n    [\n      'M21.5 48.3l16.2-14v7.1l-11 9.2v.1l11 9.2V67L21.5 53v-4.7zm30.6-17.6h4.3L48 71.3h-4.2l8.3-40.6zM62.3 60l11-9.2v-.1l-11-9.2v-7.1l16.2 14v4.9l-16.2 14V60z',\n    ] /* no color? */\n  ),\n  'script': new SvgIcon(\n    [\n      'M42.3 44.2h15.4V48H42.3v-3.8zm0 7.7h15.4v3.8H42.3v-3.8zm0 7.7h15.4v3.8H42.3v-3.8zM69.2 25H38.5c-4.2 0-7.7 3.4-7.7 7.7v34.6h-7.7c0 4.2 3.4 7.7 7.7 7.7h30.8c4.2 0 7.7-3.4 7.7-7.7V36.5H77v-3.8c-.1-4.3-3.5-7.7-7.8-7.7zm-3.8 41.6c0 2.5-2 4.5-4.5 4.5H32.7c1.9-1.3 1.9-3.8 1.9-3.8V32.7c0-2.1 1.7-3.8 3.8-3.8s3.8 1.7 3.8 3.8v3.8h23.1v30.1zM46.2 32.7v-3.8h23.1c3.5 0 3.8 2.2 3.8 3.8H46.2z',\n    ] /* no color? */\n  ),\n  'disc': new SvgIcon(\n    [\n      'M46.9 50c0 .8.3 1.6.9 2.2 1.2 1.2 3.2 1.2 4.4 0 .6-.6.9-1.4.9-2.2 0-.8-.3-1.6-.9-2.2-.6-.6-1.4-.9-2.2-.9-.8 0-1.6.3-2.2.9-.6.6-.9 1.4-.9 2.2z',\n      'M32.3 32.3c-9.8 9.8-9.8 25.6 0 35.4 9.8 9.8 25.6 9.8 35.4 0 9.8-9.8 9.8-25.6 0-35.4-9.8-9.7-25.6-9.7-35.4 0zm37 28.2c-.9 1.7-2.1 3.2-3.5 4.6-1.4 1.4-3 2.6-4.6 3.5l-5.8-11.1s.5-.2 1.6-1.2c1.1-1.1 1.3-1.6 1.3-1.6l11 5.8zM54.4 45.6c1.2 1.2 1.8 2.8 1.8 4.4 0 1.6-.6 3.2-1.8 4.4-2.4 2.4-6.4 2.4-8.8 0-1.2-1.2-1.8-2.8-1.8-4.4 0-1.6.6-3.2 1.8-4.4a6.1 6.1 0 0 1 8.8 0zm-8.5-4.4s-1.2.7-2.2 1.8c-.9 1-1 1.2-1.3 1.7l-11-5.9c.9-1.7 2.1-3.2 3.5-4.6 1.4-1.4 3-2.6 4.6-3.5l6.4 10.5z',\n    ],\n    '#c96'\n  ),\n  'text': new SvgIcon(\n    ['M69.4 28.6v5.5H21.5v-5.5M30.6 41h47.9v5.6H30.6zm-9.1 12.4h47.9V59H21.5zm9.1 12.5h47.9v5.6H30.6z'],\n    '#6b533b'\n  ),\n  'database': new SvgIcon(\n    [\n      'M48.1 75.5c-6.5-.3-12.3-2.3-15.4-5.4-.9-.9-1.8-2.1-2.2-2.9l-.3-.5v-6.1c0-6 0-6.1.1-5.6.3 1.3 1.1 2.7 2.3 3.7.8.7 2.5 1.8 3.8 2.5 2.4 1.2 5.2 2 8.4 2.5 1.9.3 2.6.3 5.3.3s3.4 0 5.3-.3c3.1-.5 6-1.3 8.3-2.5 1.4-.7 3-1.7 3.8-2.5 1.1-1 2-2.5 2.3-3.8.1-.5.1-.4.1 5.5v6l-.3.6c-1 1.9-2.6 3.6-4.7 4.8-4.3 2.7-10.5 4-16.8 3.7z',\n      'M48.1 60.4c-5.7-.3-11-1.9-14.3-4.4-.7-.6-1.8-1.6-2.3-2.2-.4-.6-.8-1.2-1.1-1.8l-.3-.5v-6c0-5.9 0-6 .1-5.5.2.9.7 2 1.5 2.9.4.5 1.1 1.2 1.5 1.4.1.1.5.3.7.5 2.7 1.9 6.5 3.3 10.8 3.9 1.9.3 2.6.3 5.3.3s3.4 0 5.3-.3c3.1-.5 6-1.3 8.4-2.5 1.4-.7 3-1.8 3.9-2.5 1.1-1 2-2.4 2.2-3.7.1-.5.1-.4.1 5.5v5.9l-.4.8c-.7 1.2-1.1 1.8-1.9 2.7-.8.8-1.6 1.5-2.7 2.1-4.3 2.4-10.5 3.7-16.8 3.4z',\n      'M47.7 45.4c-3.8-.3-6.8-.9-9.6-2-3.4-1.3-5.8-3.1-7.1-5.2-.3-.4-.5-1-.7-1.6-.2-.6-.3-2-.1-2.7.9-4.3 6.6-7.9 14.5-9 1.9-.3 2.6-.3 5.3-.3s3.4 0 5.3.3c3.1.5 6 1.3 8.4 2.5 3.5 1.7 5.6 4 6.1 6.5.1.7.1 2.1-.1 2.7-.4 1.3-1 2.2-2 3.2-2.8 2.9-7.9 4.9-14.1 5.6-.9-.1-5.1 0-5.9 0z',\n    ],\n    '#a03537'\n  ),\n  'pdf': new SvgIcon(\n    [\n      'M46.2 21.8c-3.5 0-6.3 2.9-6.3 6.3 0 4.3 2.4 9.6 4.9 14.7-2 6.1-4.1 12.7-7 18.2-5.8 2.3-11 4-14 6.6l-.2.2c-1.1 1.2-1.8 2.7-1.8 4.4 0 3.5 2.9 6.3 6.3 6.3 1.7 0 3.4-.6 4.4-1.8 0 0 .2 0 .2-.2 2.3-2.7 5-7.8 7.5-12.2 5.5-2.1 11.5-4.4 16.9-5.8 4.1 3.4 10.1 5.5 15 5.5 3.5 0 6.3-2.9 6.3-6.3 0-3.5-2.9-6.3-6.3-6.3-4 0-9.6 1.4-13.9 2.9-3.5-3.4-6.7-7.5-9.2-11.9C50.6 37 52.6 32 52.6 28c-.2-3.5-2.9-6.2-6.4-6.2zm0 3.6c1.4 0 2.4 1.1 2.4 2.4 0 1.8-1.1 5.3-2.1 9-1.5-3.7-2.9-7.2-2.9-9 .1-1.2 1.2-2.4 2.6-2.4zm1.1 21.5c1.8 3.1 4.1 5.8 6.6 8.2-3.7 1.1-7.3 2.3-11 3.7 1.8-3.8 3.1-7.9 4.4-11.9zM72 55c1.4 0 2.4 1.1 2.4 2.4 0 1.4-1.1 2.4-2.4 2.4-2.9 0-6.9-1.2-10.1-3.1C65.6 56 69.7 55 72 55zM34.6 66.2c-1.8 3.2-3.5 6.1-4.7 7.6-.5.5-.9.6-1.7.6-1.4 0-2.4-1.1-2.4-2.4 0-.6.3-1.4.6-1.7 1.3-1.2 4.5-2.6 8.2-4.1z',\n    ],\n    '#c11e07'\n  ),\n  'sheet': new SvgIcon(\n    [\n      'M62.1 30.9h14.1v9.4H62.1zm0 14.5h14.1v9.4H62.1zm0 14.3h14.1v9.4H62.1zm-19.2 0H57v9.4H42.9zm-19 0H38v9.4H23.9zm19.2-14.2h14.1v9.4H43.1zm-19.2 0H38v9.4H23.9zm19.2-14.6h14.1v9.4H43.1zm-19.2 0H38v9.4H23.9z',\n    ],\n    '#30723f'\n  ),\n  'presentation': new SvgIcon(\n    [\n      'M 73.319289,26.32707 H 26.61477 c -2.335226,0 -4.258353,1.917194 -4.258353,4.245215 v 29.853446 c 0,2.328021 1.923127,4.245215 4.258353,4.245215 h 19.506006 l -1.923128,7.257947 h -2.197859 c -0.961564,0 -1.648395,0.684712 -1.648395,1.643309 0,0.958597 0.686831,1.643309 1.648395,1.643309 h 15.797117 c 0.961563,0 1.648394,-0.684712 1.648394,-1.643309 0,-0.958597 -0.686831,-1.643309 -1.648394,-1.643309 H 55.46168 l -1.923128,-7.39489 h 19.780737 c 2.335226,0 4.258353,-1.917193 4.258353,-4.245214 V 30.572285 c 0,-2.328021 -1.923127,-4.245215 -4.258353,-4.245215 z m 0.412099,34.372546 H 26.202672 V 30.2984 h 47.39135 z',\n      'm 38.428266,48.511741 h 3.846255 v 7.668775 h -3.846255 z m 6.456214,-2.464963 h 3.846254 V 56.180516 H 44.88448 Z m 6.318846,-2.601906 h 3.846255 v 12.735644 h -3.846255 z m 6.318847,-2.464964 h 3.846255 v 15.200608 h -3.846255 z m -0.274732,-5.614639 -6.730946,3.697445 -4.945184,-1.643308 -8.379341,4.519099 1.236296,1.369424 7.417777,-3.834387 4.945185,1.643309 7.692509,-4.245215 1.236296,1.369424 2.88469,-4.792984 -6.593578,0.410827 z',\n    ],\n    '#c24f32'\n  ),\n  'font': new SvgIcon(\n    [\n      'M40.4 56.2H28.7l-1.4 3.1c-.5 1-.7 1.9-.7 2.6 0 .9.4 1.6 1.1 2 .4.3 1.5.4 3.2.6v.9H20v-.9c1.2-.2 2.2-.6 2.9-1.4.8-.8 1.7-2.4 2.8-4.8l11.8-25.6h.5l12 26.2c1.1 2.5 2.1 4.1 2.8 4.7.6.5 1.3.8 2.3.9v.9h-16v-.9h.7c1.3 0 2.2-.2 2.7-.5.4-.3.5-.6.5-1.1 0-.3 0-.6-.1-.9 0-.1-.3-.7-.7-1.8l-1.8-4zm-.8-1.8l-4.9-11-5.1 11h10z',\n      'M80 44.2l-4.7 15.7-.5 1.9c0 .2-.1.4-.1.5 0 .2.1.4.2.5.1.2.3.2.4.2.3 0 .8-.3 1.4-.8.2-.2.8-.9 1.8-2.2l.9.4c-1.2 2-2.4 3.5-3.7 4.5-1.3.9-2.7 1.4-4.2 1.4-.9 0-1.6-.2-2.1-.7-.5-.5-.7-1-.7-1.8 0-.6.3-1.8.8-3.4l.6-1.9c-1.9 3.1-3.7 5.4-5.4 6.7-1 .8-2.1 1.1-3.2 1.1-1.5 0-2.6-.6-3.2-1.8-.7-1.2-1-2.5-1-4 0-2.2.7-4.8 2.1-7.6 1.4-2.9 3.2-5.2 5.5-6.9 1.9-1.4 3.6-2.2 5.3-2.2.9 0 1.6.3 2.2.8.6.5 1 1.4 1.2 2.8l.9-2.9 5.5-.3zm-7.8 4.5c0-1.3-.2-2.2-.6-2.8-.3-.4-.7-.6-1.2-.6s-1 .2-1.6.7c-1.1 1-2.3 3-3.5 5.9-1.3 3-1.9 5.6-1.9 7.7 0 .8.1 1.4.4 1.8.3.4.6.6.9.6.7 0 1.5-.4 2.2-1.2 1.1-1.2 2-2.6 2.9-4.3 1.6-2.9 2.4-5.5 2.4-7.8z',\n    ],\n    '#7291a1'\n  ),\n  'vue': new SvgIcon(\n    [\n      'M 66.425365,28.281905 H 56.751974 L 49.707631,39.427061 43.669624,28.281905 H 21.530262 L 49.707631,76.54823 77.885006,28.281905 Z m -37.888497,4.025337 h 6.767604 L 49.707631,57.239179 64.098226,32.307242 h 6.767597 L 49.707631,68.560446 Z',\n    ],\n    '#41B883'\n  ),\n  'other': new SvgIcon(\n    [\n      'M71 36.3L57.8 23.1c-.4-.4-.9-.6-1.4-.6h-26c-1.1 0-2 .9-2 2v51.1c0 1.1.9 2 2 2h39.3c1.1 0 2-.9 2-2V37.7c-.1-.5-.3-1-.7-1.4zm-3.9 2.3H55.5V27l11.6 11.6zm.1 34.5H32.8V26.9h18.5v13.3c0 1.4 1.2 2.6 2.6 2.6h13.3v30.3z',\n    ] /* no color? */\n  ),\n  // system icons\n  'system-close': new SvgIcon(\n    ['M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z'],\n    undefined,\n    '0 0 24 24'\n  ),\n  'system-file-preview-new': new SvgIcon(\n    [\n      'M745,353c-5.6,0-11.3,0.2-17.2,0.7C687.4,237.3,577.8,157,451,157c-162.1,0-294,131.9-294,294c0,2.1,0,4.1,0,6.2C72.6,479,10,555.8,10,647c0,108.1,87.9,196,196,196h245V618.3l-63.4,63.4c-9.6,9.6-22.1,14.4-34.6,14.4s-25.1-4.8-34.6-14.4c-19.2-19.2-19.2-50.1,0-69.3l147-147c4.6-4.6,9.9-8.1,16-10.6c12-4.9,25.5-4.9,37.4,0c6,2.5,11.4,6.1,16,10.6l147,147c19.2,19.2,19.2,50.1,0,69.3c-9.6,9.6-22.1,14.4-34.6,14.4s-25.1-4.8-34.6-14.4L549,618.3V843h196c135.1,0,245-109.9,245-245S880.1,353,745,353z',\n    ],\n    undefined,\n    '0 0 1000 1000'\n  ),\n  // system icons\n  'system-sortable-handle': new SvgIcon(['M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z'], undefined, '0 0 24 24'),\n  'system-file-av-play': new SvgIcon(\n    ['M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm-4 29V15l12 9-12 9z'],\n    undefined,\n    '0 0 48 48'\n  ),\n  // M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm-4 29V15l12 9-12 9z\n  'system-file-name-edit': new SvgIcon(\n    [\n      'M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z',\n    ],\n    undefined,\n    '0 0 24 24'\n  ),\n};\n\nfor (const category in icons) {\n  if (icons.hasOwnProperty(category)) {\n    (icons as any)[category].category = category;\n  }\n}\n\nexport default icons;\n\nexport const extensionsMap: any = {};\n\nfor (const cat in extensions) {\n  if (extensions.hasOwnProperty(cat)) {\n    for (const ext of (extensions as any)[cat]) {\n      extensionsMap[ext] = cat;\n    }\n  }\n}\n\nexport function getIconByName(name: string): SvgIcon {\n  const svgIcon = (icons as any)[name] || icons.other;\n  return svgIcon;\n}\n\nexport function getIconFromExt(ext: string): SvgIcon {\n  ext = ext.toLowerCase();\n  const cat = extensionsMap[ext];\n  return getIconByName(cat);\n}\n","\nimport { getIconFromExt, getIconByName, SvgIcon } from '../lib/icons';\nimport Vue from 'vue';\n\nexport default Vue.extend({\n  props: ['ext', 'name', 'viewBox'],\n  computed: {\n    viewBoxComputed(): string {\n      if (!this.viewBox && this.icon && this.icon.viewBox) {\n        return this.icon.viewBox;\n      }\n      return this.viewBox ? this.viewBox : '0 0 100 100';\n    },\n    icon(): SvgIcon {\n      if (this.name) {\n        return getIconByName(this.name);\n      }\n      const svgIcon = getIconFromExt(this.ext);\n      return svgIcon;\n    },\n  },\n});\n","import mod from \"-!../../node_modules/ts-loader/index.js??clonedRuleSet-126.use[0]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./vue-file-icon.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/ts-loader/index.js??clonedRuleSet-126.use[0]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./vue-file-icon.vue?vue&type=script&lang=ts&\"","/* globals __VUE_SSR_CONTEXT__ */\n\n// IMPORTANT: Do NOT use ES2015 features in this file (except for modules).\n// This module is a runtime utility for cleaner component module output and will\n// be included in the final webpack user bundle.\n\nexport default function normalizeComponent(\n  scriptExports,\n  render,\n  staticRenderFns,\n  functionalTemplate,\n  injectStyles,\n  scopeId,\n  moduleIdentifier /* server only */,\n  shadowMode /* vue-cli only */\n) {\n  // Vue.extend constructor export interop\n  var options =\n    typeof scriptExports === 'function' ? scriptExports.options : scriptExports\n\n  // render functions\n  if (render) {\n    options.render = render\n    options.staticRenderFns = staticRenderFns\n    options._compiled = true\n  }\n\n  // functional template\n  if (functionalTemplate) {\n    options.functional = true\n  }\n\n  // scopedId\n  if (scopeId) {\n    options._scopeId = 'data-v-' + scopeId\n  }\n\n  var hook\n  if (moduleIdentifier) {\n    // server build\n    hook = function (context) {\n      // 2.3 injection\n      context =\n        context || // cached call\n        (this.$vnode && this.$vnode.ssrContext) || // stateful\n        (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n      // 2.2 with runInNewContext: true\n      if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n        context = __VUE_SSR_CONTEXT__\n      }\n      // inject component styles\n      if (injectStyles) {\n        injectStyles.call(this, context)\n      }\n      // register component module identifier for async chunk inferrence\n      if (context && context._registeredComponents) {\n        context._registeredComponents.add(moduleIdentifier)\n      }\n    }\n    // used by ssr in case component is cached and beforeCreate\n    // never gets called\n    options._ssrRegister = hook\n  } else if (injectStyles) {\n    hook = shadowMode\n      ? function () {\n          injectStyles.call(\n            this,\n            (options.functional ? this.parent : this).$root.$options.shadowRoot\n          )\n        }\n      : injectStyles\n  }\n\n  if (hook) {\n    if (options.functional) {\n      // for template-only hot-reload because in that case the render fn doesn't\n      // go through the normalizer\n      options._injectStyles = hook\n      // register for functional component in vue file\n      var originalRender = options.render\n      options.render = function renderWithStyleInjection(h, context) {\n        hook.call(context)\n        return originalRender(h, context)\n      }\n    } else {\n      // inject component registration as beforeCreate hook\n      var existing = options.beforeCreate\n      options.beforeCreate = existing ? [].concat(existing, hook) : [hook]\n    }\n  }\n\n  return {\n    exports: scriptExports,\n    options: options\n  }\n}\n","import { render, staticRenderFns } from \"./vue-file-icon.vue?vue&type=template&id=2aa77553&\"\nimport script from \"./vue-file-icon.vue?vue&type=script&lang=ts&\"\nexport * from \"./vue-file-icon.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { getFilesFromDroppedItems } from './drop-handler';\n\nexport type RGBA = [number, number, number, number];\nexport interface VideoThumbnail {\n  url: string;\n  color?: RGBA;\n  width: number;\n  height: number;\n}\nexport interface ImageThumbnail {\n  image: HTMLImageElement;\n  url: string;\n  color?: RGBA;\n}\n\nenum ImageOrientation {\n  NORMAL = 1,\n  UPSIDE_DOWN = 6,\n}\n\nclass Utils {\n  public arrayMove(arr: any[], previousIndex: number, newIndex: number): any[] {\n    // https://github.com/Jexordexan/vue-slicksort/blob/master/src/utils.js\n    const array = arr.slice(0);\n    if (newIndex >= array.length) {\n      let k = newIndex - array.length;\n      while (k-- + 1) {\n        array.push(undefined);\n      }\n    }\n    array.splice(newIndex, 0, array.splice(previousIndex, 1)[0]);\n    return array;\n  }\n\n  public getAverageColor(arr: Uint8ClampedArray): RGBA | undefined {\n    const bytesPerPixel = 4;\n    const arrLength = arr.length;\n    if (arrLength < bytesPerPixel) {\n      return;\n    }\n    const step = 5;\n    const len = arrLength - (arrLength % bytesPerPixel);\n    const preparedStep = (step || 1) * bytesPerPixel;\n\n    let redTotal = 0;\n    let greenTotal = 0;\n    let blueTotal = 0;\n    let alphaTotal = 0;\n    let count = 0;\n\n    for (let i = 0; i < len; i += preparedStep) {\n      const alpha = arr[i + 3];\n      const red = arr[i] * alpha;\n      const green = arr[i + 1] * alpha;\n      const blue = arr[i + 2] * alpha;\n\n      redTotal += red;\n      greenTotal += green;\n      blueTotal += blue;\n      alphaTotal += alpha;\n      count++;\n    }\n\n    return alphaTotal\n      ? [\n          Math.round(redTotal / alphaTotal),\n          Math.round(greenTotal / alphaTotal),\n          Math.round(blueTotal / alphaTotal),\n          Math.round(alphaTotal / count),\n        ]\n      : [0, 0, 0, 0];\n  }\n\n  public createVideoThumbnail(\n    video: HTMLVideoElement,\n    canvas: HTMLCanvasElement,\n    thumbnailSize: number,\n    calculateAverageColor?: boolean,\n    withCredentials?: boolean\n  ): Promise<VideoThumbnail> {\n    if (withCredentials) {\n    }\n    video.setAttribute('crossOrigin', withCredentials ? 'use-credentials' : 'anonymous'); // fix cross origin issue\n    return new Promise((resolve, reject) => {\n      let loadedmetadata = false;\n      let loadeddata = false;\n      const tryGetThumbnail = () => {\n        if (!(loadedmetadata && loadeddata)) {\n          return;\n        }\n        const context = canvas.getContext('2d') as CanvasRenderingContext2D;\n        context.drawImage(video, 0, 0, canvas.width, canvas.height);\n        let color: RGBA | undefined;\n        if (calculateAverageColor) {\n          const imageData = context.getImageData(0, 0, canvas.width, canvas.height);\n          color = this.getAverageColor(imageData.data);\n        }\n        const url = canvas.toDataURL();\n        resolve({\n          url,\n          color,\n          width: video.videoWidth,\n          height: video.videoHeight,\n        });\n      };\n      // Load metadata of the video to get video duration and dimensions\n      video.addEventListener('loadedmetadata', () => {\n        // var video_duration = video.duration;\n        canvas.width = thumbnailSize;\n        canvas.height = (canvas.width / video.videoWidth) * video.videoHeight;\n        video.currentTime = 1; // video time\n        loadedmetadata = true;\n        tryGetThumbnail();\n      });\n\n      video.addEventListener('loadeddata', () => {\n        loadeddata = true;\n        tryGetThumbnail();\n      });\n    });\n  }\n\n  public getDataURL(file: File): Promise<string> {\n    return new Promise((resolve, reject) => {\n      const reader = new FileReader();\n      reader.onload = (event) => {\n        if (!(event.target && event.target.result)) {\n          return resolve('');\n        }\n        resolve(event.target.result as string);\n      };\n      reader.readAsDataURL(file);\n    });\n  }\n\n  public getImageOrientationFromArrayBuffer(buffer: ArrayBuffer): number {\n    // -2: not jpeg\n    // -1: not defined\n    const view = new DataView(buffer);\n    if (view.getUint16(0, false) !== 0xffd8) {\n      return -2;\n    }\n    const length = view.byteLength;\n    let offset = 2;\n    while (offset < length) {\n      if (view.getUint16(offset + 2, false) <= 8) {\n        return -1;\n      }\n      const marker = view.getUint16(offset, false);\n      offset += 2;\n      if (marker === 0xffe1) {\n        if (view.getUint32((offset += 2), false) !== 0x45786966) {\n          return -1;\n        }\n        const little = view.getUint16((offset += 6), false) === 0x4949;\n        offset += view.getUint32(offset + 4, little);\n        const tags = view.getUint16(offset, little);\n        offset += 2;\n        for (let i = 0; i < tags; i++) {\n          if (view.getUint16(offset + i * 12, little) === 0x0112) {\n            return view.getUint16(offset + i * 12 + 8, little);\n          }\n        }\n        // tslint:disable-next-line\n      } else if ((marker & 0xff00) !== 0xff00) {\n        break;\n      } else {\n        offset += view.getUint16(offset, false);\n      }\n    }\n    return -1;\n  }\n\n  public getImageOrientation(file: File): Promise<number> {\n    return new Promise((resolve, reject) => {\n      const reader = new FileReader();\n      if (!reader.readAsArrayBuffer) {\n        return resolve(-3);\n      }\n      reader.onload = (event) => {\n        if (!(event.target && event.target.result)) {\n          return resolve(-3);\n        }\n        resolve(this.getImageOrientationFromArrayBuffer(event.target.result as ArrayBuffer));\n      };\n      // https://stackoverflow.com/questions/3248946/what-is-the-maximum-size-of-jpeg-metadata\n      // https://twitter.com/jaffathecake/status/1085443592678752256\n      // reader.readAsArrayBuffer(file);\n      reader.readAsArrayBuffer(file.slice(0, 65536));\n    });\n  }\n\n  public rotateCanvas(\n    srcOrientation: number,\n    canvas: HTMLCanvasElement,\n    ctx: CanvasRenderingContext2D,\n    width: number,\n    height: number\n  ) {\n    // set proper canvas dimensions before transform & export\n    if (4 < srcOrientation && srcOrientation < 9) {\n      canvas.width = height;\n      canvas.height = width;\n    } else {\n      canvas.width = width;\n      canvas.height = height;\n    }\n\n    // transform context before drawing image\n    switch (srcOrientation) {\n      case 2:\n        ctx.transform(-1, 0, 0, 1, width, 0);\n        break;\n      case 3:\n        ctx.transform(-1, 0, 0, -1, width, height);\n        break;\n      case 4:\n        ctx.transform(1, 0, 0, -1, 0, height);\n        break;\n      case 5:\n        ctx.transform(0, 1, 1, 0, 0, 0);\n        break;\n      case 6:\n        ctx.transform(0, 1, -1, 0, height, 0);\n        break;\n      case 7:\n        ctx.transform(0, -1, -1, 0, height, width);\n        break;\n      case 8:\n        ctx.transform(0, -1, 1, 0, 0, width);\n        break;\n      default:\n        break;\n    }\n  }\n\n  public getImageResized(\n    image: HTMLImageElement,\n    widthLimit: number,\n    heightLimit?: number,\n    orientation?: number,\n    calculateAverageColor?: boolean\n  ): ImageThumbnail | null {\n    let width = image.width;\n    let height = image.height;\n    const thumbnailSize = widthLimit;\n    if (widthLimit && heightLimit) {\n      width = widthLimit;\n      height = heightLimit;\n    } else {\n      if (width > height) {\n        if (width > thumbnailSize) {\n          height *= thumbnailSize / width;\n          width = thumbnailSize;\n        }\n      } else {\n        if (height > thumbnailSize) {\n          width *= thumbnailSize / height;\n          height = thumbnailSize;\n        }\n      }\n    }\n\n    width = Math.floor(width);\n    height = Math.floor(height);\n\n    const canvas = document.createElement('canvas');\n    const context = canvas.getContext('2d');\n    if (!context) {\n      return null;\n    }\n\n    canvas.width = width;\n    canvas.height = height;\n\n    if (orientation !== undefined) {\n      this.rotateCanvas(orientation, canvas, context, width, height);\n    }\n\n    context.drawImage(image, 0, 0, width, height);\n    let avgColor = null;\n    try {\n      let rgba: RGBA | undefined;\n      if (calculateAverageColor) {\n        const imageData = context.getImageData(0, 0, width, height);\n        rgba = this.getAverageColor(imageData.data);\n      }\n      if (rgba) {\n        avgColor = rgba;\n      }\n    } catch (e) {\n      /* security error, img on diff domain */\n    }\n    return {\n      image,\n      url: canvas.toDataURL('image/png'),\n      color: avgColor,\n    } as ImageThumbnail;\n  }\n\n  public resizeImageUrl(\n    image: HTMLImageElement,\n    url: string,\n    thumbnailSize: number,\n    calculateAverageColor?: boolean\n  ): Promise<ImageThumbnail | null> {\n    return new Promise((resolve, reject) => {\n      image.onload = () => {\n        if (!calculateAverageColor) {\n          resolve({\n            image,\n            url,\n            color: undefined,\n          } as ImageThumbnail);\n          return;\n        }\n        const resized = this.getImageResized(image, thumbnailSize, undefined, undefined, calculateAverageColor);\n        if (resized) {\n          resized.url = url;\n        }\n        resolve(resized);\n      };\n      image.onerror = () => {\n        reject('Image loading failed: ' + url);\n      };\n      image.src = url;\n    });\n  }\n\n  public resizeImageFile(\n    image: HTMLImageElement,\n    file: File,\n    thumbnailSize: number,\n    calculateAverageColor?: boolean\n  ): Promise<ImageThumbnail | null> {\n    return new Promise((resolve, reject) => {\n      if (file.type.indexOf('image') === -1) {\n        reject(new Error('Not an image'));\n        return;\n      }\n      const createObjectURL = (window.URL || window.webkitURL || {}).createObjectURL;\n      const revokeObjectURL = (window.URL || window.webkitURL || {}).revokeObjectURL;\n      let shouldRevoke = false;\n      const orientationPromise = this.getImageOrientation(file);\n      image.onload = () => {\n        orientationPromise.then((orientation) => {\n          const resized = this.getImageResized(image, thumbnailSize, undefined, orientation, calculateAverageColor);\n          if (shouldRevoke) {\n            revokeObjectURL(image.src);\n          }\n          resolve(resized);\n        });\n      };\n      if (!(file instanceof File)) {\n        return reject('Invalid file object. Use url or a valid instance of File class');\n      }\n      // @ts-ignore\n      if (createObjectURL && revokeObjectURL) {\n        shouldRevoke = true;\n        image.src = createObjectURL(file);\n        return;\n      }\n      this.getDataURL(file).then((dataUrl) => {\n        image.src = dataUrl;\n      });\n    });\n  }\n\n  public resizeImage(\n    thumbnailSize: number,\n    file?: File,\n    url?: string,\n    calculateAverageColor?: boolean,\n    withCredentials?: boolean\n  ): Promise<ImageThumbnail | null> {\n    const image = new Image();\n    image.setAttribute('crossOrigin', withCredentials ? 'use-credentials' : 'anonymous');\n    return url\n      ? this.resizeImageUrl(image, url, thumbnailSize, calculateAverageColor)\n      : this.resizeImageFile(image, file as File, thumbnailSize, calculateAverageColor);\n  }\n\n  public getSizeFormatted(bytes: number) {\n    const sizes = ['B', 'KB', 'MB', 'GB', 'TB'];\n    if (bytes === 0) {\n      return '0 B';\n    }\n    let i = Math.floor(Math.log(bytes) / Math.log(1024));\n    i = parseInt('' + i, 10);\n    return Math.round(bytes / Math.pow(1024, i)) + ' ' + sizes[i];\n  }\n\n  public getSizeParsed(size: string): number {\n    size = ('' + size).toUpperCase();\n    const matches = size.match(/([\\d|.]+?)\\s*?([A-Z]+)/);\n    const sizes = ['B', 'KB', 'MB', 'GB', 'TB'];\n    if (!matches) {\n      return parseFloat(size);\n    }\n    const i = sizes.indexOf(matches[2]);\n    if (i === -1) {\n      return parseFloat(size);\n    }\n    return parseFloat(matches[1]) * Math.pow(1024, i);\n  }\n\n  public getColorForText(text: string): string {\n    const getHashCode = (value: string) => {\n      let hash = 0;\n      if (value.length === 0) {\n        return hash;\n      }\n      for (let i = 0; i < value.length; i++) {\n        // tslint:disable-next-line\n        hash = value.charCodeAt(i) + ((hash << 5) - hash);\n        // tslint:disable-next-line\n        hash = hash & hash; // Convert to 32bit integer\n      }\n      return hash;\n    };\n    const intToHSL = (value: number) => {\n      const h = value % 360;\n      const s = value % 100;\n      const l = 50;\n      return 'hsl(' + h + ',' + s + '%,' + l + '%, 0.75)';\n    };\n    return intToHSL(getHashCode(text.toLowerCase()));\n  }\n\n  public validateType(file: File, accept?: string): boolean {\n    // https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/file#accept\n    // https://gitlab.com/meno/dropzone/blob/master/src/dropzone.js#L2511\n    if (!accept) {\n      return true;\n    } // If there are no accepted mime types, it's OK\n    const acceptedFiles = accept.split(',');\n\n    const mimeType = file.type;\n    const baseMimeType = mimeType.replace(/\\/.*$/, '');\n\n    for (let validType of acceptedFiles) {\n      validType = validType.trim();\n      if (validType.charAt(0) === '.') {\n        // extension\n        if (file.name.toLowerCase().indexOf(validType.toLowerCase(), file.name.length - validType.length) !== -1) {\n          return true;\n        }\n      } else if (/\\/\\*$/.test(validType)) {\n        // This is something like a image/* mime type\n        if (baseMimeType === validType.replace(/\\/.*$/, '')) {\n          return true;\n        }\n      } else {\n        if (mimeType === validType) {\n          return true;\n        }\n      }\n    }\n\n    return false;\n  }\n\n  public validateSize(file: File, maxSize?: string): boolean {\n    if (!maxSize) {\n      return true;\n    }\n    const bytes = this.getSizeParsed(maxSize);\n    return file.size <= bytes;\n  }\n\n  public getFilesFromDroppedItems(dataTransfer: DataTransfer) {\n    return getFilesFromDroppedItems(dataTransfer);\n  }\n}\n\nexport default new Utils();\n","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{class:[\n    'file-preview-wrapper-' + _vm.fileRecord.ext(),\n    _vm.fileRecord.isImage() ? 'file-preview-wrapper-image' : 'file-preview-wrapper-other',\n    'file-category-' + _vm.fileRecord.icon().category,\n    { 'file-is-playing-av': _vm.fileRecord.isPlayingAv },\n    { 'is-deletable': _vm.deletable === true },\n    { 'is-editable': _vm.editable === true },\n    { 'is-edit-input-focused': _vm.isEditInputFocused },\n    { 'has-error': _vm.fileRecord.error },\n  ]},[(_vm.fileRecord.isPlayableAudio() || _vm.fileRecord.isPlayableVideo())?_c('div',{ref:\"wrapper\",staticClass:\"file-av-wrapper\"},[_c('div',{staticClass:\"file-av-action\",on:{\"click\":function($event){return _vm.playAv(_vm.fileRecord)}}},[_c('span',{staticClass:\"file-av-stop\"},[_c('VueFileIcon',{attrs:{\"name\":\"system-close\"}})],1),_c('span',{staticClass:\"file-av-play\"},[_c('VueFileIcon',{attrs:{\"name\":\"system-file-av-play\"}})],1)])]):_vm._e(),_c('span',{staticClass:\"file-preview\",class:{\n      'image-preview': _vm.fileRecord.isImage(),\n      'other-preview': !_vm.fileRecord.isImage(),\n      'dark-content': _vm.fileRecord.isImage() && _vm.fileRecord.isDarkColor(),\n    },style:({\n      'background-color': _vm.fileRecord.color(),\n    })},[(_vm.fileRecord.error)?_c('span',{staticClass:\"file-error-wrapper\",on:{\"click\":function($event){return _vm.dismissError()}}},[_c('span',{staticClass:\"file-error-message file-error-message-client\"},[_vm._v(\" \"+_vm._s(_vm.fileRecord.getErrorMessage(_vm.errorText))+\" \")])]):_vm._e(),_c('span',{staticClass:\"file-preview-overlay\"}),(_vm.fileRecord.isImage() || _vm.fileRecord.isPlayableVideo())?_c('span',{staticClass:\"thumbnail\",staticStyle:{\"position\":\"absolute\",\"top\":\"0\",\"right\":\"0\",\"bottom\":\"0\",\"left\":\"0\",\"overflow\":\"hidden\"}},[(_vm.hasLinkableUrl)?_c('a',{attrs:{\"href\":_vm.fileRecord.url(),\"target\":\"_blank\",\"title\":_vm.fileRecord.name()}},[_c('img',{staticClass:\"file-preview-img\",attrs:{\"src\":_vm.fileRecord.src()}})]):_c('img',{staticClass:\"file-preview-img\",attrs:{\"src\":_vm.fileRecord.src()}})]):_vm._e(),_c('span',{staticClass:\"file-ext\"},[_vm._v(_vm._s(_vm.fileRecord.ext()))]),_c('span',{staticClass:\"file-size\"},[_vm._v(_vm._s(_vm.fileRecord.size()))]),(_vm.deletable)?_c('span',{staticClass:\"file-delete\",on:{\"click\":function($event){return _vm.removeFileRecord(_vm.fileRecord)},\"touchstart\":function($event){return _vm.filenameClearPressed()},\"mousedown\":function($event){return _vm.filenameClearPressed()}}},[_c('VueFileIcon',{attrs:{\"name\":\"system-close\"}})],1):_vm._e(),_c('span',{staticClass:\"file-name\",on:{\"click\":function($event){return _vm.editFileName()}}},[(_vm.editable === true)?_c('input',{ref:\"input\",staticClass:\"file-name-input\",attrs:{\"disabled\":_vm.disabled === true,\"type\":\"text\"},domProps:{\"value\":_vm.fileRecord.name(true)},on:{\"focus\":function($event){return _vm.editInputFocused()},\"blur\":function($event){return _vm.editInputBlured()},\"change\":function($event){return _vm.filenameChanged()},\"input\":function($event){return _vm.filenameChanged()},\"keyup\":[function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.filenameChanged(true)},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"esc\",27,$event.key,[\"Esc\",\"Escape\"]))return null;return _vm.filenameChanged(false)}]}}):_vm._e(),(_vm.editable === true)?_c('span',{staticClass:\"file-name-edit-icon\"},[_c('VueFileIcon',{attrs:{\"name\":\"system-file-name-edit\"}})],1):_vm._e(),_c('span',{staticClass:\"file-name-text\"},[_vm._v(_vm._s(_vm.fileRecord.name(true)))])]),(_vm.fileRecord.dimensions.width && _vm.fileRecord.dimensions.height)?_c('span',{staticClass:\"image-dimension\"},[_c('span',{staticClass:\"image-dimension-width\"},[_vm._v(_vm._s(_vm.fileRecord.dimensions.width))]),_c('span',{staticClass:\"image-dimension-height\"},[_vm._v(_vm._s(_vm.fileRecord.dimensions.height))])]):_vm._e(),(_vm.fileRecord.hasProgress())?_c('span',{staticClass:\"file-progress\",class:{\n        'file-progress-full': _vm.fileRecord.progress() >= 99.9999,\n        'file-progress-done': _vm.fileRecord.progress() >= 100,\n        'has-file-progress': _vm.fileRecord.progress() > 0,\n      }},[_c('span',{staticClass:\"file-progress-bar\",style:({ width: _vm.fileRecord.progress() + '%' })})]):_vm._e(),_c('span',{staticClass:\"file-icon\"},[(_vm.hasLinkableUrl)?_c('a',{attrs:{\"href\":_vm.fileRecord.url(),\"target\":\"_blank\",\"title\":_vm.fileRecord.name()}},[_c('VueFileIcon',{attrs:{\"ext\":_vm.fileRecord.ext()}})],1):_c('VueFileIcon',{attrs:{\"ext\":_vm.fileRecord.ext()}})],1)])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export function getFilesFromDroppedItems(dataTransfer: DataTransfer): Promise<File[] | FileList> {\n  return new Promise((resolve) => {\n    if (!includesFolder(dataTransfer)) {\n      return resolve(dataTransfer.files);\n    }\n    const files: File[] = [];\n    const folderReadQueue = [];\n    // tslint:disable-next-line\n    for (let i = 0; i < dataTransfer.items.length; i++) {\n      const item = dataTransfer.items[i];\n      if (item.kind !== 'file') {\n        continue;\n      }\n      const fileSystemEntries = getEntries(item);\n      if (fileSystemEntries) {\n        folderReadQueue.push(fileSystemEntries);\n      } else {\n        const file = item.getAsFile();\n        if (file) {\n          files.push(file);\n        }\n      }\n    }\n    Promise.all(folderReadQueue).then((filesInFolders) => {\n      resolve(files.concat(...filesInFolders));\n    });\n  });\n}\n\nfunction getEntries(entry: any): Promise<File[]> | undefined {\n  // convert DataTransferItem to FileSystemEntry first if necessary\n  if (entry.getAsEntry) {\n    return getEntries(entry.getAsEntry());\n  }\n  if (entry.webkitGetAsEntry) {\n    return getEntries(entry.webkitGetAsEntry());\n  }\n  // return if item is from a browser that does not support webkitGetAsEntry\n  if (entry.getAsFile) {\n    return;\n  }\n  // Processing directories with more than 100 files:\n  // https://github.com/lian-yue/vue-upload-component/commit/9c9d8aafbcef005a2cc598454383ec65205d61ee\n  return new Promise((resolve) => {\n    if (entry.isFile) {\n      entry.file((file: File) => resolve([file]));\n      return;\n    }\n    if (entry.isDirectory) {\n      const files: File[] = [];\n      const entryReader = entry.createReader();\n      const readEntries = () => {\n        entryReader.readEntries((entries: any[]) => {\n          const iterateEntry = (i: number) => {\n            if (!entries[i] && i === 0) {\n              return resolve(files);\n            }\n            if (!entries[i]) {\n              return readEntries();\n            }\n            (getEntries(entries[i]) as Promise<File[]>).then((entryFiles: File[]) => {\n              files.push(...entryFiles);\n              iterateEntry(i + 1);\n            });\n          };\n          iterateEntry(0);\n        });\n      };\n      readEntries();\n    }\n    if (!entry.isFile && !entry.isDirectory) {\n      resolve([]);\n    }\n  });\n}\n\nfunction includesFolder(transfer: DataTransfer): boolean {\n  if (!transfer.files.length) {\n    return true; // if dropping only folders, no files will exist\n  }\n\n  // Loop through the dropped items and log their data\n  for (const item of transfer.items) {\n    if (item.webkitGetAsEntry != null) {\n      const entry = item.webkitGetAsEntry();\n\n      if (entry && entry.isDirectory) {\n        return true;\n      }\n    }\n  }\n\n  const files: FileList = transfer.files;\n\n  // tslint:disable-next-line\n  for (let i = 0; i < files.length; i++) {\n    // A folder has no type and has a size that is a multiple of 4096\n    if (!files[i].type && files[i].size % 4096 === 0) {\n      return true;\n    }\n  }\n  return false;\n}\n","import { getIconFromExt, SvgIcon } from './icons';\nimport utils from './utils';\nimport { RGBA, ImageThumbnail, VideoThumbnail } from './utils';\n\ninterface Dimensions {\n  height: number;\n  width: number;\n}\n\ninterface Options {\n  accept?: string;\n  maxSize?: string;\n  read: boolean;\n  thumbnailSize?: number;\n  averageColor?: boolean;\n  withCredentials?: boolean;\n}\n\ninterface ErrorText {\n  common?: string;\n  type?: string;\n  size?: string;\n  upload?: string;\n}\n\ninterface ErrorFlags {\n  common?: boolean;\n  type?: boolean;\n  size?: boolean;\n  upload?: false | string;\n}\n\ninterface RawFileRecord {\n  url: string | ((value?: string) => string | undefined | Promise<FileRecord>);\n  urlResized: string | null;\n  src: () => any;\n  name: any;\n  lastModified: number;\n  sizeText: string;\n  size: number;\n  type: string;\n  ext: string;\n  color: string;\n  file: File;\n  progress: number | ((progress?: number) => number | void);\n  error?: false | ErrorFlags;\n  dimensions: Dimensions;\n  videoThumbnail: string;\n  imageColor: RGBA;\n  customName: string;\n  upload: UploadData;\n}\n\ninterface DummyFile {\n  name: string;\n  size: number;\n  type: string;\n  lastModified: number;\n  lastModifiedDate: Date;\n}\n\ninterface UploadData {\n  data: any;\n  error: string | false;\n}\n\nexport { Dimensions, Options, RawFileRecord };\n\nclass FileRecord {\n  public static getFromRaw(\n    rawFileRecord: RawFileRecord,\n    options: Options,\n    isSync = false\n  ): FileRecord | Promise<FileRecord> {\n    const fileRecord = new FileRecord(rawFileRecord, options);\n    const promise = fileRecord.setUrl(rawFileRecord.url as string);\n    // rawFileRecord.progress = fileRecord.progress.bind(fileRecord); // convert it as a function\n    // rawFileRecord.src = fileRecord.src.bind(fileRecord);\n    // rawFileRecord.name = fileRecord.name.bind(fileRecord); // convert it as a function\n    console.log('test')\n    if (isSync) {\n      return fileRecord;\n    }\n    return promise;\n  }\n\n  public static fromRaw(rawFileRecord: RawFileRecord, options: Options): Promise<FileRecord> {\n    return FileRecord.getFromRaw(rawFileRecord, options, false) as Promise<FileRecord>;\n  }\n\n  public static fromRawSync(rawFileRecord: RawFileRecord, options: Options): FileRecord {\n    return FileRecord.getFromRaw(rawFileRecord, options, true) as FileRecord;\n  }\n\n  public static fromRawArray(rawFileRecords: RawFileRecord[], options: Options): Promise<FileRecord[]> {\n    const promises: Array<Promise<FileRecord>> = [];\n    for (const rawFileRecord of rawFileRecords) {\n      promises.push(FileRecord.fromRaw(rawFileRecord, options));\n    }\n    return Promise.all(promises);\n  }\n\n  public static toRawArray(fileRecords: FileRecord[]): RawFileRecord[] {\n    const rawFileRecords: RawFileRecord[] = [];\n    for (const fileRecord of fileRecords) {\n      rawFileRecords.push(fileRecord.toRaw());\n    }\n    return rawFileRecords;\n  }\n\n  public static readFile(fileRecord: FileRecord): Promise<FileRecord> {\n    return new Promise((resolve, reject) => {\n      if (!fileRecord.read) {\n        fileRecord.setUrl(null).then(\n          () => {\n            resolve(fileRecord);\n          },\n          (err) => {\n            // ignore error\n            resolve(fileRecord);\n          }\n        );\n        return;\n      }\n      utils.getDataURL(fileRecord.file).then((dataUrl) => {\n        fileRecord.setUrl(dataUrl).then(() => {\n          resolve(fileRecord);\n        }, reject);\n      }, reject);\n    });\n  }\n\n  public static readFiles(fileRecords: FileRecord[]): Promise<FileRecord[]> {\n    const promises: Array<Promise<FileRecord>> = [];\n    for (const fileRecord of fileRecords) {\n      promises.push(FileRecord.readFile(fileRecord));\n    }\n    return Promise.all(promises);\n  }\n\n  public urlValue: null | string = null;\n  public urlResized: null | string = null;\n  public image: HTMLImageElement | {} = {};\n  public isPlayingAv: boolean = false;\n\n  public oldFileName: string | null = null;\n  public oldCustomName: string | null = null;\n  public upload: UploadData = { data: null, error: false };\n\n  public raw: RawFileRecord;\n  public progressInternal: number;\n  public accept?: string;\n  public dimensions: Dimensions;\n  public error: false | ErrorFlags;\n  public file: File;\n  public height: undefined | number | string;\n  public width: undefined | number | string;\n  public id: string;\n  public imageColor?: RGBA;\n  public lastKnownSrc: null | string;\n  public maxSize?: string;\n  public options: Options;\n  public read: boolean;\n  public thumbnailSize: number;\n  public videoThumbnail: any;\n  public customName: any;\n  public xhr?: XMLHttpRequest;\n  public xhrQueue?: () => any;\n  public stopAv?: (() => any) | null;\n  public tusUpload?: any;\n  public calculateAverageColor: boolean;\n\n  public constructor(data: RawFileRecord, options: Options) {\n    this.urlValue = null;\n    this.urlResized = null;\n    this.lastKnownSrc = null;\n    this.image = {};\n    this.isPlayingAv = false;\n    this.oldFileName = null;\n    this.oldCustomName = null;\n\n    this.raw = data;\n    this.file = data.file instanceof File ? data.file : (this.createDummyFile(data) as any);\n    this.progressInternal = !isNaN(data.progress as number) ? (data.progress as number) : 0;\n    // this.width = FileRecord.defaultWidth;\n    // this.height = FileRecord.defaultHeight;\n    this.thumbnailSize = options.thumbnailSize || 360;\n    this.read = !!options.read;\n    this.dimensions = data.dimensions || { width: 0, height: 0 };\n    this.dimensions.width = this.dimensions.width || 0;\n    this.dimensions.height = this.dimensions.height || 0;\n    this.error = data.error || false;\n    this.options = options;\n    this.maxSize = options.maxSize;\n    this.accept = options.accept;\n    this.id = Math.random() + ':' + new Date().getTime();\n    this.videoThumbnail = data.videoThumbnail;\n    this.imageColor = data.imageColor;\n    this.customName = data.customName;\n    this.calculateAverageColor = options.averageColor !== undefined ? options.averageColor : true;\n    this.validate();\n  }\n\n  // populate(data, options = {}) {}\n\n  public createDummyFile(data: RawFileRecord): DummyFile {\n    const file: DummyFile = {} as DummyFile;\n    file.lastModified = data.lastModified;\n    const d = new Date();\n    if (file.lastModified) {\n      d.setTime(file.lastModified);\n    }\n    file.lastModifiedDate = d;\n    file.name = typeof data.name === 'function' ? data.name() : data.name;\n    file.size = data.size;\n    file.type = data.type;\n    return file;\n  }\n\n  public hasProgress(): boolean {\n    return !isNaN(this.progressInternal); // && this._progress <= 100;\n  }\n\n  public progress(value?: number): number | void {\n    if (value !== undefined) {\n      this.progressInternal = value;\n      return;\n    }\n    return this.progressInternal || 0;\n  }\n\n  public url(value?: string): string | undefined | Promise<this> {\n    if (value !== undefined) {\n      return this.setUrl(value);\n    }\n    return this.urlValue || undefined;\n  }\n\n  public src(): string {\n    if (this.isImage()) {\n      return this.urlResized || this.urlValue || (this.file as any).url;\n    }\n    if (this.isPlayableVideo()) {\n      return this.videoThumbnail || '';\n    }\n    return '';\n  }\n\n  public size(): string {\n    if (!this.file) {\n      return '';\n    }\n    return utils.getSizeFormatted(this.file.size);\n  }\n\n  public ext(): string {\n    if (this.file && this.file.name.indexOf('.') !== -1) {\n      return (this.file.name as any).split('.').pop();\n    }\n    return '?';\n    // return this.file.type.split('/').shift();\n  }\n\n  public name(withoutExt?: boolean): string {\n    const ext = this.ext();\n    if (this.customName) {\n      return this.customName + (withoutExt ? '' : ext !== '?' ? '.' + ext : '');\n    }\n    const name = this.file && this.file.name;\n    if (withoutExt) {\n      if (ext !== '?') {\n        return name.substr(0, name.length - (ext.length + 1));\n      }\n    }\n    return name;\n  }\n\n  public isDarkColor(): boolean {\n    if (this.imageColor) {\n      const rgb = this.imageColor;\n      const darkPoint = 20;\n      return rgb[0] <= darkPoint && rgb[1] <= darkPoint && rgb[2] <= darkPoint;\n    }\n    return false;\n  }\n\n  public color(): string {\n    if (this.imageColor) {\n      const rgb = this.imageColor;\n      return 'rgb(' + rgb[0] + ', ' + rgb[1] + ', ' + rgb[2] + ')';\n    }\n    if (this.isImage()) {\n      return 'transparent';\n    }\n    const ext = this.ext();\n    const svgIcon = this.icon();\n    // var svgIcon = getIconFromExt(ext);\n    if (svgIcon.color) {\n      return svgIcon.color;\n    }\n    return utils.getColorForText(ext);\n  }\n\n  public isImage(): boolean {\n    return this.file && !!this.file.type.match(/image((?!vnd).)*$/i);\n  }\n\n  public isVideo(): boolean {\n    return this.file && this.file.type.indexOf('video') !== -1;\n  }\n\n  public isPlayableVideo(): boolean {\n    return this.icon().category === 'video-playable';\n  }\n\n  public isAudio(): boolean {\n    return this.file && this.file.type.indexOf('audio') !== -1;\n  }\n\n  public isPlayableAudio(): boolean {\n    return this.icon().category === 'audio-playable';\n  }\n\n  public isText(): boolean {\n    return this.file && this.file.type.indexOf('text') !== -1;\n  }\n\n  public setUrl(url: string | null): Promise<this> {\n    this.urlValue = url;\n    return new Promise((resolve, reject) => {\n      if (this.isImage()) {\n        this.resizeImage().then(\n          () => {\n            resolve(this);\n          },\n          (err) => {\n            resolve(this);\n          }\n        );\n        return;\n      }\n      resolve(this);\n    });\n  }\n\n  public imageResized(resized: ImageThumbnail | null) {\n    if (!resized) {\n      return;\n    }\n    this.urlResized = resized.url;\n    this.image = resized.image;\n    if (resized.image && resized.image.width && resized.image.height) {\n      this.dimensions.width = resized.image.width;\n      this.dimensions.height = resized.image.height;\n    }\n    this.lastKnownSrc = this.urlResized;\n    this.imageColor = resized.color;\n  }\n\n  public resizeImage(): Promise<this> {\n    return new Promise((resolve, reject) => {\n      utils\n        .resizeImage(this.thumbnailSize, this.file, this.urlValue as string, this.calculateAverageColor)\n        .then((resized) => {\n          this.imageResized(resized);\n          resolve(this);\n        })\n        .catch(reject);\n    });\n  }\n\n  public icon(): SvgIcon {\n    const ext = this.ext();\n    const svgIcon = getIconFromExt(ext);\n    return svgIcon;\n  }\n\n  public getErrorMessage(errorText?: ErrorText): string {\n    const error = this.error;\n    if (!error) {\n      return '';\n    }\n    errorText = errorText || {};\n    errorText = {\n      common: errorText.common || 'Invalid file.',\n      type: errorText.type || 'Invalid file type.',\n      size: errorText.size || 'Files should not exceed ' + this.maxSize + ' in size',\n    };\n    if (error.type) {\n      return errorText.type as string;\n    } else if (error.size) {\n      return errorText.size as string;\n    } else if (error.upload) {\n      return this.upload.error ? this.upload.error : error.upload;\n    }\n    return errorText.common as string;\n  }\n\n  public toRaw(): RawFileRecord {\n    const raw = this.raw || ({} as RawFileRecord);\n    // raw.url = this.urlValue;\n    raw.url = this.url.bind(this);\n    raw.urlResized = this.urlResized;\n    raw.src = this.src.bind(this);\n    raw.name = this.name.bind(this);\n    raw.lastModified = this.file.lastModified;\n    raw.sizeText = this.size();\n    raw.size = this.file.size;\n    raw.type = this.file.type;\n    raw.ext = this.ext();\n    raw.color = this.color();\n    raw.file = this.file;\n    raw.progress = this.progress.bind(this); // pass it as a function\n    raw.upload = this.upload;\n    if (!('error' in raw)) {\n      Object.defineProperty(raw, 'error', {\n        get: () => {\n          return this.error;\n        },\n      });\n    }\n    raw.dimensions = this.dimensions;\n    return raw;\n  }\n\n  public validate(): void {\n    const validType = utils.validateType(this.file, this.accept);\n    const validSize = utils.validateSize(this.file, this.maxSize as string);\n    if (!validType || !validSize) {\n      this.error = {\n        type: !validType,\n        size: !validSize,\n      };\n    } else {\n      this.error = false;\n    }\n  }\n}\n\nexport default FileRecord;\n","import utils from '../lib/utils';\nimport VueFileIcon from './vue-file-icon.vue';\nimport FileRecord, { RawFileRecord, Options } from '../lib/file-record';\nimport Vue from 'vue';\n\nexport default Vue.extend({\n  props: [\n    'value',\n    'deletable',\n    'editable',\n    'linkable',\n    'errorText',\n    'disabled',\n    'thumbnailSize',\n    'averageColor',\n    'withCredentials',\n  ],\n  components: {\n    VueFileIcon,\n  },\n  data() {\n    return {\n      isEditInputFocused: false,\n      isEditCancelable: true,\n      fileRecord: {} as FileRecord,\n    };\n  },\n  computed: {\n    hasLinkableUrl(): boolean {\n      if (!this.linkable) {\n        return false;\n      }\n      return !!this.fileRecord.url() && !this.fileRecord.isPlayableVideo() && !this.fileRecord.isPlayableAudio();\n    },\n  },\n  methods: {\n    updateFileRecord() {\n      if (this.value instanceof FileRecord) {\n        this.fileRecord = this.value;\n        return;\n      }\n      FileRecord.fromRaw(this.value, {\n        thumbnailSize: this.thumbnailSize,\n        averageColor: this.averageColor,\n        withCredentials: this.withCredentials,\n      } as Options).then((fileRecord) => {\n        this.fileRecord = fileRecord;\n      });\n      this.fileRecord = FileRecord.fromRawSync(this.value, {\n        thumbnailSize: this.thumbnailSize,\n        averageColor: this.averageColor,\n        withCredentials: this.withCredentials,\n      } as Options);\n    },\n    createThumbnail(fileRecord: FileRecord, video: HTMLVideoElement) {\n      if (fileRecord.videoThumbnail) {\n        video.poster = fileRecord.src();\n        return;\n      }\n      const canvas = document.createElement('canvas');\n      utils\n        .createVideoThumbnail(\n          video,\n          canvas,\n          this.fileRecord.thumbnailSize,\n          this.averageColor !== false,\n          this.withCredentials === true\n        )\n        .then((thumbnail) => {\n          fileRecord.imageColor = thumbnail.color;\n          fileRecord.videoThumbnail = thumbnail.url;\n          fileRecord.dimensions.width = thumbnail.width;\n          fileRecord.dimensions.height = thumbnail.height;\n          video.poster = fileRecord.src();\n        });\n    },\n\n    playAv(fileRecord: FileRecord) {\n      if (fileRecord.stopAv) {\n        fileRecord.stopAv();\n        return;\n      }\n      const createObjectURL = (window.URL || window.webkitURL || {}).createObjectURL;\n      const revokeObjectURL = (window.URL || window.webkitURL || {}).revokeObjectURL;\n\n      const wrapper = this.$refs.wrapper as HTMLElement;\n      const player = document.createElement(fileRecord.isAudio() ? 'audio' : 'video');\n      if (player instanceof HTMLVideoElement && fileRecord.isPlayableVideo()) {\n        this.createThumbnail(fileRecord, player);\n      }\n      player.controls = true;\n      // player.style.width = this.prvWidth + 'px';\n      wrapper.appendChild(player);\n      const url = (fileRecord.url() as string) || createObjectURL(fileRecord.file);\n      player.src = url;\n      player.play();\n      fileRecord.isPlayingAv = true;\n      fileRecord.stopAv = () => {\n        // player.src = null;\n        player.src = '';\n        wrapper.removeChild(player);\n        revokeObjectURL(url);\n        fileRecord.isPlayingAv = false;\n        fileRecord.stopAv = null;\n      };\n    },\n\n    removeFileRecord(fileRecord: FileRecord) {\n      if (this.clearFilename()) {\n        return;\n      }\n      if (this.disabled === true) {\n        return;\n      }\n      this.$emit('remove', fileRecord);\n    },\n\n    editFileName() {\n      if (this.editable !== true) {\n        return;\n      }\n      if (!this.$refs.input) {\n        return;\n      }\n      (this.$refs.input as HTMLInputElement).focus();\n    },\n\n    editInputFocused() {\n      this.isEditInputFocused = true;\n      this.isEditCancelable = true;\n    },\n\n    editInputBlured() {\n      this.fileRecord.oldFileName = this.fileRecord.name();\n      const oldValue = this.fileRecord.name(true);\n      const value = (this.$refs.input as HTMLInputElement).value;\n      this.fileRecord.customName = value;\n      const newValue = this.fileRecord.name(true);\n      if (newValue !== oldValue) {\n        this.fileRecord.oldCustomName = oldValue;\n        this.$emit('rename', this.fileRecord);\n      }\n      const timeout = 100;\n      setTimeout(() => {\n        this.$nextTick(() => {\n          if (!this.isEditCancelable) {\n            return;\n          }\n          this.isEditInputFocused = false;\n        });\n      }, timeout);\n    },\n\n    filenameChanged(completed?: boolean) {\n      if (completed) {\n        (this.$refs.input as HTMLInputElement).blur(); // @see editInputBlured method\n      }\n      if (completed === false) {\n        this.clearFilename();\n      }\n    },\n\n    filenameClearPressed() {\n      if (!(this.editable === true && this.isEditInputFocused)) {\n        return;\n      }\n      this.isEditCancelable = false;\n    },\n\n    clearFilename() {\n      if (!(this.editable === true && this.isEditInputFocused)) {\n        return false;\n      }\n      (this.$refs.input as HTMLInputElement).value = '';\n      this.isEditCancelable = true;\n      this.editInputBlured();\n      return true;\n    },\n\n    dismissError() {\n      if (this.fileRecord.error && (this.fileRecord.error.size || this.fileRecord.error.type)) {\n        return;\n      }\n      this.fileRecord.error = false;\n    },\n  },\n  created() {\n    this.updateFileRecord();\n  },\n  watch: {\n    value() {\n      this.updateFileRecord();\n    },\n  },\n});\n","\nimport Vue from 'vue';\nimport mixin from './vue-file-preview-mixin';\n\nexport default Vue.extend({\n  mixins: [mixin],\n});\n","import mod from \"-!../../node_modules/ts-loader/index.js??clonedRuleSet-126.use[0]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./vue-file-preview.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/ts-loader/index.js??clonedRuleSet-126.use[0]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./vue-file-preview.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./vue-file-preview.vue?vue&type=template&id=7be956b0&\"\nimport script from \"./vue-file-preview.vue?vue&type=script&lang=ts&\"\nexport * from \"./vue-file-preview.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',[_vm._t(\"default\")],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Vue from 'vue';\n\nexport default Vue.extend({\n  props: ['value', 'axis', 'appendTo'],\n});\n","import mod from \"-!../../node_modules/ts-loader/index.js??clonedRuleSet-126.use[0]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./vue-file-list.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/ts-loader/index.js??clonedRuleSet-126.use[0]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./vue-file-list.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./vue-file-list.vue?vue&type=template&id=0ab83eb6&\"\nimport script from \"./vue-file-list.vue?vue&type=script&lang=ts&\"\nexport * from \"./vue-file-list.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',[_vm._t(\"default\")],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Vue from 'vue';\n\nexport default Vue.extend({\n  props: ['index'],\n});\n","import mod from \"-!../../node_modules/ts-loader/index.js??clonedRuleSet-126.use[0]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./vue-file-list-item.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/ts-loader/index.js??clonedRuleSet-126.use[0]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./vue-file-list-item.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./vue-file-list-item.vue?vue&type=template&id=aa83b36e&\"\nimport script from \"./vue-file-list-item.vue?vue&type=script&lang=ts&\"\nexport * from \"./vue-file-list-item.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{class:[\n    'is-sortable-' + (_vm.isSortable ? 'enabled' : 'disabled'),\n    {\n      'is-sortable-hold': _vm.sortable === 'hold',\n      'is-sortable-handle': _vm.sortable === 'handle',\n      'is-sortable-immediately': _vm.sortable === true,\n      'is-sorting': _vm.isSorting,\n      'is-sorting-active': _vm.isSortingActive,\n      'is-drag-over': _vm.isDragging,\n      'is-disabled': _vm.disabled === true,\n      'is-readonly': _vm.readonly === true,\n      'is-drag-valid': !(_vm.disabled === true || _vm.readonly === true || (_vm.hasMultiple && !_vm.canAddMore)),\n    },\n    'theme-' + _vm.theme,\n  ],attrs:{\"id\":'vfa-' + _vm.uniqueId},on:{\"dragover\":_vm.dragOver,\"dragenter\":_vm.dragEnter,\"dragleave\":_vm.dragLeave,\"drop\":_vm.drop}},[_vm._t(\"before-outer\"),_c('div',{staticClass:\"grid-block-wrapper vue-file-agent file-input-wrapper\",class:{\n      'is-compact': !!_vm.compact,\n      'is-single': !_vm.hasMultiple,\n      'has-multiple': _vm.hasMultiple,\n      'no-meta': _vm.meta === false,\n    }},[_vm._t(\"before-inner\"),_c('canvas',{ref:\"thumbnailCanvas\",staticStyle:{\"position\":\"fixed\",\"visibility\":\"hidden\",\"z-index\":\"-3\"}}),(_vm.overallProgress)?_c('div',{staticClass:\"overall-progress\",class:{ 'overall-progress-full': _vm.overallProgress >= 100 }},[_c('div',{staticClass:\"overall-progress-bar\",style:({ width: _vm.overallProgress + '%' })}),_c('div',{staticClass:\"overall-progress-left\",style:({ width: 100 - _vm.overallProgress + '%' })})]):_vm._e(),_c(_vm.isSortable ? 'vfa-sortable-list' : 'VueFileList',{tag:\"component\",attrs:{\"axis\":_vm.theme == 'list' ? 'y' : 'xy',\"appendTo\":'#vfa-' + _vm.uniqueId + ' .vue-file-agent',\"transitionDuration\":_vm.transitionDuration,\"pressDelay\":_vm.sortable === 'hold' ? 200 : 0,\"useDragHandle\":_vm.sortable === 'handle',\"helperClass\":'active-sorting-item'},on:{\"sort-start\":function($event){return _vm.sortStart()},\"sort-end\":function($event){return _vm.sortEnd($event)}},model:{value:(_vm.fileRecords),callback:function ($$v) {_vm.fileRecords=$$v},expression:\"fileRecords\"}},[_c('transition-group',{attrs:{\"name\":\"grid-box\",\"tag\":\"div\"}},[_vm._l((_vm.fileRecords),function(fileRecord,index){return _c(_vm.isSortable ? 'vfa-sortable-item' : 'VueFileListItem',{key:fileRecord.id,tag:\"component\",staticClass:\"file-preview-wrapper grid-box-item grid-block\",attrs:{\"index\":index}},[(_vm.sortable === 'handle')?_c('span',{directives:[{name:\"vfa-sortable-handle\",rawName:\"v-vfa-sortable-handle\"}],staticClass:\"file-sortable-handle\"},[_vm._t(\"sortable-handle\",function(){return [_c('VueFileIcon',{attrs:{\"name\":\"system-sortable-handle\"}})]})],2):_vm._e(),_vm._t(\"file-preview-before\",null,{\"fileRecord\":fileRecord,\"fileData\":fileRecord,\"index\":index}),_vm._t(\"file-preview\",function(){return [_c('VueFilePreview',{attrs:{\"averageColor\":_vm.averageColor,\"value\":fileRecord,\"deletable\":_vm.isDeletable,\"editable\":_vm.editable === true,\"linkable\":_vm.linkable === true,\"errorText\":_vm.errorText,\"disabled\":_vm.disabled,\"thumbnailSize\":_vm.thumbnailSize,\"withCredentials\":_vm.withCredentials},on:{\"remove\":function($event){return _vm.removeFileRecord($event)},\"rename\":function($event){return _vm.filenameChanged($event)}}})]},{\"fileRecord\":fileRecord,\"fileData\":fileRecord,\"index\":index}),_vm._t(\"file-preview-after\",null,{\"fileRecord\":fileRecord,\"fileData\":fileRecord,\"index\":index})],2)}),(_vm.canAddMore && _vm.readonly !== true)?[_vm._t(\"file-preview-new\",function(){return [_c('div',{key:\"new\",staticClass:\"file-preview-wrapper grid-box-item grid-block file-preview-new\"},[_c('span',{staticClass:\"file-preview\"},[_c('span',{staticStyle:{\"position\":\"absolute\",\"top\":\"0\",\"right\":\"0\",\"bottom\":\"0\",\"left\":\"0\"}},[_c('VueFileIcon',{attrs:{\"name\":\"system-file-preview-new\"}}),_c('span',{staticClass:\"help-text\"},[_vm._v(_vm._s(_vm.helpTextComputed))])],1)])])]})]:_vm._e()],2)],1),(_vm.readonly !== true)?_c('input',{ref:\"fileInput\",staticClass:\"file-input\",attrs:{\"title\":\"\",\"disabled\":_vm.disabled === true || (_vm.hasMultiple && !_vm.canAddMore),\"type\":\"file\",\"multiple\":_vm.hasMultiple,\"accept\":_vm.accept || '*',\"capture\":_vm.capture || undefined},on:{\"change\":_vm.filesChanged}}):_vm._e(),_vm._t(\"after-inner\")],2),_vm._t(\"after-outer\")],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export type ConfigureFn = (request: XMLHttpRequest) => any;\nexport interface AjaxResponse {\n  data: any;\n  status: number;\n  statusText: string;\n  headers: string;\n  request: XMLHttpRequest;\n}\nexport type AjaxRequestData = FormData | any;\nexport interface AjaxError extends Error {\n  error: true;\n  code: string;\n  request: XMLHttpRequest;\n  response?: AjaxResponse;\n}\n\n/* inspired by axios */\nclass AjaxRequest {\n  public createError(\n    message: string,\n    code: string | null,\n    request: XMLHttpRequest,\n    response?: AjaxResponse\n  ): AjaxError {\n    const error: AjaxError = new Error(message) as AjaxError;\n    error.error = true;\n    if (code) {\n      error.code = code;\n    }\n    error.request = request;\n    error.response = response;\n    return error;\n  }\n\n  public settle(resolve: any, reject: any, response: AjaxResponse) {\n    const validateStatus = (status: number) => {\n      return status >= 200 && status < 300;\n    };\n    // Note: status is not exposed by XDomainRequest\n    if (!response.status || !validateStatus || validateStatus(response.status)) {\n      resolve(response);\n    } else {\n      reject(this.createError('Request failed with status code ' + response.status, null, response.request, response));\n    }\n  }\n\n  public request(\n    method: string,\n    url: string,\n    formData: AjaxRequestData | null = null,\n    configureFn?: ConfigureFn\n  ): Promise<AjaxResponse> {\n    return new Promise((resolve, reject) => {\n      // tslint:disable-next-line\n      let request = new XMLHttpRequest();\n      const loadEvent = 'onreadystatechange';\n\n      request.open(method, url, true);\n\n      // Listen for ready state\n      request[loadEvent] = () => {\n        if (!request || request.readyState !== 4) {\n          return;\n        }\n\n        // The request errored out and we didn't get a response, this will be\n        // handled by onerror instead\n        // With one exception: request that using file: protocol, most browsers\n        // will return status as 0 even though it's a successful request\n        if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\n          return;\n        }\n\n        // Prepare the response\n        const responseHeaders = request.getAllResponseHeaders();\n        let responseData: any = request.responseText;\n        const contentType = request.getResponseHeader('Content-Type');\n        if (contentType && contentType.indexOf('application/json') !== -1) {\n          responseData = JSON.parse(responseData);\n        } else {\n          try {\n            responseData = JSON.parse(responseData);\n          } catch (e) {\n            /* ignore, possibly non json response */\n          }\n        }\n        const response: AjaxResponse = {\n          data: responseData,\n          // IE sends 1223 instead of 204 (https://github.com/axios/axios/issues/201)\n          status: request.status === 1223 ? 204 : request.status,\n          statusText: request.status === 1223 ? 'No Content' : request.statusText,\n          headers: responseHeaders,\n          request,\n        };\n\n        this.settle(resolve, reject, response);\n\n        // Clean up request\n        (request as any) = null;\n      };\n\n      // Handle browser request cancellation (as opposed to a manual cancellation)\n      request.onabort = () => {\n        if (!request) {\n          return;\n        }\n\n        reject(this.createError('Request aborted', 'ECONNABORTED', request));\n\n        // Clean up request\n        (request as any) = null;\n      };\n\n      // Handle low level network errors\n      request.onerror = () => {\n        // Real errors are hidden from us by the browser\n        // onerror should only fire if it's a network error\n        reject(this.createError('Network Error', null, request));\n\n        // Clean up request\n        (request as any) = null;\n      };\n\n      // Handle timeout\n      request.ontimeout = () => {\n        reject(this.createError('timeout exceeded', 'ECONNABORTED', request));\n\n        // Clean up request\n        (request as any) = null;\n      };\n\n      // // Handle progress if needed\n      // if (typeof config.onDownloadProgress === 'function') {\n      //   request.addEventListener('progress', config.onDownloadProgress);\n      // }\n\n      // Not all browsers support upload events\n      // if (typeof progressCallback === 'function' && request.upload) {\n      //   request.upload.addEventListener('progress', progressCallback);\n      // }\n\n      if (typeof configureFn === 'function') {\n        configureFn(request);\n      }\n\n      request.send(formData);\n    });\n  }\n\n  public post(url: string, formData: AjaxRequestData, configureFn?: ConfigureFn) {\n    return this.request('POST', url, formData, configureFn);\n  }\n\n  public delete(url: string, formData: AjaxRequestData, configureFn?: ConfigureFn) {\n    return this.request('DELETE', url, formData, configureFn);\n  }\n\n  public put(url: string, formData: AjaxRequestData, configureFn?: ConfigureFn) {\n    return this.request('PUT', url, formData, configureFn);\n  }\n}\n\nexport default new AjaxRequest();\n","import ajax from './ajax-request';\nimport { ConfigureFn, AjaxResponse, AjaxError } from './ajax-request';\nimport FileRecord from './file-record';\n\ntype ProgressFn = (event: ProgressEvent) => void;\ntype CreateFormDataFn = (fileRecord: FileRecord) => FormData;\n\nexport interface TusOptions {\n  retryDelays?: number[];\n  metadata?: any;\n}\n\nexport type TusOptionsFn = (fileRecord: FileRecord) => TusOptions;\n\nclass UploadHelper {\n  // useAxios(axios){\n  //   this.axios = axios;\n  // }\n\n  public addHeaders(xhr: XMLHttpRequest, headers: object): XMLHttpRequest {\n    xhr.setRequestHeader('Accept', 'application/json');\n    if (headers) {\n      for (const key in headers) {\n        if (headers.hasOwnProperty(key)) {\n          xhr.setRequestHeader(key, (headers as any)[key]);\n        }\n      }\n    }\n    return xhr;\n  }\n\n  public doUpload(\n    url: string,\n    headers: object,\n    formData: FormData,\n    progressCallback: ProgressFn,\n    configureFn?: ConfigureFn\n  ): Promise<AjaxResponse> {\n    return ajax.post(url, formData, (xhr) => {\n      this.addHeaders(xhr, headers);\n      xhr.upload.addEventListener('progress', progressCallback, false);\n      if (typeof configureFn === 'function') {\n        configureFn(xhr);\n      }\n    });\n  }\n\n  public doDeleteUpload(\n    url: string,\n    headers: object,\n    uploadData: any,\n    configureFn?: ConfigureFn\n  ): Promise<AjaxResponse> {\n    if (typeof uploadData !== 'string') {\n      uploadData = JSON.stringify(uploadData);\n    }\n    return ajax.delete(url, uploadData, (xhr) => {\n      xhr.setRequestHeader('Content-Type', 'application/json');\n      this.addHeaders(xhr, headers);\n      if (typeof configureFn === 'function') {\n        configureFn(xhr);\n      }\n    });\n  }\n\n  public doUpdateUpload(\n    url: string,\n    headers: object,\n    uploadData: any,\n    configureFn?: ConfigureFn\n  ): Promise<AjaxResponse> {\n    if (typeof uploadData !== 'string') {\n      uploadData = JSON.stringify(uploadData);\n    }\n    return ajax.put(url, uploadData, (xhr) => {\n      xhr.setRequestHeader('Content-Type', 'application/json');\n      this.addHeaders(xhr, headers);\n      if (typeof configureFn === 'function') {\n        configureFn(xhr);\n      }\n    });\n  }\n\n  // doUploadAxios(axios, formData, progressCallback){\n  //   return axios.post('/upload', formData, {\n  //     onUploadProgress: progressCallback,\n  //   });\n  // }\n\n  // doDeleteUploadAxios(axios, data, configureFn){\n  //   return axios.delete('/upload', data, {\n  //   });\n  // }\n\n  public prepareUploadError(fileRecord: FileRecord, err: AjaxError, timeout?: number) {\n    let errorText = err.message;\n    if (err.response && err.response.data) {\n      try {\n        const errorMsg = err.response.data.error || JSON.parse(err.response.data).error;\n        errorText = errorMsg;\n      } catch (e) {\n        // ignore\n      }\n    }\n    if (!fileRecord.error) {\n      fileRecord.error = {};\n    }\n    fileRecord.error.upload = errorText;\n    fileRecord.upload.data = undefined;\n    fileRecord.upload.error = errorText;\n    if (timeout) {\n      setTimeout(() => {\n        if (!fileRecord.error) {\n          fileRecord.error = {};\n        }\n        fileRecord.error.upload = false;\n        if (!fileRecord.error.size && !fileRecord.error.type) {\n          fileRecord.error = false;\n        }\n      }, timeout);\n    }\n  }\n\n  public upload(\n    url: string,\n    headers: object,\n    fileRecords: FileRecord[],\n    createFormData?: CreateFormDataFn,\n    progressFn?: (progress: number) => void,\n    configureFn?: ConfigureFn\n  ) {\n    let updateOverallProgress = () => {\n      /* no op */\n    };\n    if (progressFn) {\n      updateOverallProgress = () => {\n        let prgTotal = 0;\n        for (const fileRecord of fileRecords) {\n          prgTotal += fileRecord.progress() as number;\n        }\n        progressFn(prgTotal / fileRecords.length);\n      };\n    }\n    const promises: Array<Promise<AjaxResponse | AjaxError>> = [];\n    let failedUploadsCount = 0;\n    for (const fileRecord of fileRecords) {\n      let formData;\n      if (typeof createFormData === 'function') {\n        formData = createFormData(fileRecord);\n      } else {\n        formData = new FormData();\n        formData.append('file', fileRecord.file as File);\n        formData.append('filename', fileRecord.name());\n      }\n      // ((fileRecord) => {\n      const promise = this.doUpload(\n        url,\n        headers,\n        formData,\n        (progressEvent) => {\n          const percentCompleted = (progressEvent.loaded * 100) / progressEvent.total;\n          // do not complete until promise resolved\n          fileRecord.progress(percentCompleted >= 100 ? 99.9999 : percentCompleted);\n          updateOverallProgress();\n        },\n        (xhr) => {\n          fileRecord.xhr = xhr;\n          if (typeof configureFn === 'function') {\n            configureFn(xhr);\n          }\n        }\n      );\n      promises.push(\n        new Promise((resolve, reject) => {\n          promise.then(\n            (response) => {\n              delete fileRecord.xhr;\n              fileRecord.upload.data = response.data;\n              fileRecord.upload.error = false;\n              fileRecord.progress(100);\n              if (fileRecord.xhrQueue) {\n                fileRecord.xhrQueue();\n                delete fileRecord.xhrQueue;\n              }\n              resolve(response);\n            } /* */,\n            (err) => {\n              this.prepareUploadError(fileRecord, err);\n              resolve(err);\n              failedUploadsCount++;\n            } /* */\n          );\n        })\n      );\n      // promises.push(promise);\n      // })(fileRecord);\n    }\n    // return Promise.all(promises);\n    return new Promise((resolve, reject) => {\n      Promise.all(promises).then((responses) => {\n        if (failedUploadsCount === promises.length) {\n          // all uploads failed\n          reject(responses);\n          return;\n        }\n        resolve(responses);\n      }, reject);\n    });\n  }\n\n  public deleteUpload(\n    url: string,\n    headers: object,\n    fileRecord: FileRecord,\n    uploadData?: any,\n    configureFn?: ConfigureFn\n  ) {\n    return new Promise((resolve, reject) => {\n      if (fileRecord.xhr) {\n        fileRecord.xhr.abort();\n      }\n      if (uploadData === undefined) {\n        uploadData = fileRecord.upload.data;\n      }\n      if (uploadData) {\n        this.doDeleteUpload(url, headers, uploadData, (xhr) => {\n          if (typeof configureFn === 'function') {\n            configureFn(xhr);\n          }\n        }).then(\n          (result) => {\n            resolve(result);\n          },\n          (err) => {\n            this.prepareUploadError(fileRecord, err);\n            reject(err);\n          }\n        );\n      }\n    });\n  }\n\n  public updateUpload(\n    url: string,\n    headers: object,\n    fileRecord: FileRecord,\n    uploadData: any,\n    configureFn?: ConfigureFn\n  ) {\n    return new Promise((resolve, reject) => {\n      if (fileRecord.xhr) {\n        // probably updated while being uploaded.\n        fileRecord.xhrQueue = () => {\n          this.updateUpload(url, headers, fileRecord, uploadData);\n        };\n        return resolve(true);\n      }\n      if (uploadData === undefined) {\n        uploadData = fileRecord.upload.data || {};\n        uploadData.old_filename = fileRecord.oldFileName;\n        uploadData.filename = fileRecord.name();\n      }\n      if (uploadData) {\n        this.doUpdateUpload(url, headers, uploadData, (xhr) => {\n          if (typeof configureFn === 'function') {\n            configureFn(xhr);\n          }\n        }).then(\n          (response) => {\n            fileRecord.upload.data = response.data;\n            fileRecord.upload.error = false;\n            resolve(response);\n          },\n          (err) => {\n            this.prepareUploadError(fileRecord, err);\n            reject(err);\n          }\n        );\n      }\n    });\n  }\n\n  public doTusUpload(\n    tus: any,\n    url: string,\n    fileRecord: FileRecord,\n    headers: object,\n    progressCallback: ProgressFn,\n    tusOptionsFn?: TusOptionsFn,\n    uploadWithCredentials?: boolean\n  ) {\n    const tusOptions: TusOptions = tusOptionsFn ? tusOptionsFn(fileRecord) : {};\n    return new Promise((resolve, reject) => {\n      if (!tus) {\n        return reject(new Error('tus required. Please install tus-js-client'));\n      }\n      // https://github.com/tus/tus-js-client\n      // Create a new tus upload\n      const file = fileRecord.file;\n      const upload = new tus.Upload(file, {\n        endpoint: url,\n        headers,\n        retryDelays: tusOptions.retryDelays ? tusOptions.retryDelays : [0, 3000, 5000, 10000, 20000],\n        metadata: tusOptions.metadata\n          ? tusOptions.metadata\n          : {\n              filename: file.name,\n              filetype: file.type,\n            },\n        onError(error: any) {\n          reject(error);\n          // console.log(\"Failed because: \" + error)\n        },\n        onProgress(bytesUploaded: number, bytesTotal: number) {\n          const event = { loaded: bytesUploaded, total: bytesTotal } as ProgressEvent;\n          progressCallback(event);\n        },\n        onSuccess() {\n          resolve(upload);\n        },\n        onBeforeRequest: function (req: any) {\n          const xhr: XMLHttpRequest = req.getUnderlyingObject();\n          xhr.withCredentials = uploadWithCredentials === true;\n        },\n      });\n      fileRecord.tusUpload = upload;\n      // Start the upload\n      upload.start();\n    });\n  }\n\n  public tusUpload(\n    tus: any,\n    url: string,\n    headers: object,\n    fileRecords: FileRecord[],\n    progressFn?: (progress: number) => void,\n    tusOptionsFn?: TusOptionsFn,\n    uploadWithCredentials?: boolean\n  ) {\n    let updateOverallProgress = () => {\n      /* no op */\n    };\n    if (progressFn) {\n      updateOverallProgress = () => {\n        let prgTotal = 0;\n        for (const fileRecord of fileRecords) {\n          prgTotal += fileRecord.progress() as number;\n        }\n        progressFn(prgTotal / fileRecords.length);\n      };\n    }\n    const promises = [];\n    for (const fileRecord of fileRecords) {\n      const promise = this.doTusUpload(\n        tus,\n        url,\n        fileRecord,\n        headers,\n        (progressEvent: ProgressEvent) => {\n          const percentCompleted = (progressEvent.loaded * 100) / progressEvent.total;\n          // do not complete until promise resolved\n          fileRecord.progress(percentCompleted >= 100 ? 99.9999 : percentCompleted);\n          updateOverallProgress();\n        },\n        tusOptionsFn,\n        uploadWithCredentials\n      );\n      promise.then(\n        (response) => {\n          // delete fileRecord.tusUpload;\n          fileRecord.progress(100);\n        },\n        (err) => {\n          this.prepareUploadError(fileRecord, err);\n        }\n      );\n      promises.push(promise);\n    }\n    return Promise.all(promises);\n  }\n\n  public tusDeleteUpload(tus: any, url: string, headers: object, fileRecord: FileRecord) {\n    return new Promise((resolve, reject) => {\n      if (!tus) {\n        return reject('tus required');\n      }\n      if (!fileRecord.tusUpload) {\n        return resolve(true);\n      }\n      // const shouldTerminate = true;\n      const abort = (shouldTerminate: boolean) => {\n        return new Promise((res, rej) => {\n          fileRecord.tusUpload.abort(shouldTerminate, (err: any) => {\n            if (err) {\n              this.prepareUploadError(fileRecord, err);\n              rej(err);\n              return;\n            }\n            res(true);\n          });\n        });\n      };\n      abort(false).then(() => {\n        setTimeout(() => {\n          abort(true).then(resolve, reject);\n        }, 1000);\n      });\n    });\n  }\n}\n\nexport default new UploadHelper();\n","export default {\n  tus: null as any,\n};\n","import utils from '../lib/utils';\nimport VueFileIcon from './vue-file-icon.vue';\nimport VueFilePreview from './vue-file-preview.vue';\nimport VueFileList from './vue-file-list.vue';\nimport VueFileListItem from './vue-file-list-item.vue';\nimport FileRecord from '../lib/file-record';\nimport { RawFileRecord } from '../lib/file-record';\nimport uploader from '../lib/upload-helper';\nimport Vue from 'vue';\nimport plugins from '../lib/plugins';\nimport { ConfigureFn } from '../lib/ajax-request';\n\n// tslint:disable-next-line\nvar dragCounter = 0;\n\nexport default Vue.extend({\n  props: [\n    'accept',\n    'auto',\n    'averageColor',\n    'capture',\n    'compact',\n    'deletable',\n    'disabled',\n    'editable',\n    'errorText',\n    'helpText',\n    'linkable',\n    'maxFiles',\n    'maxSize',\n    'meta',\n    'multiple',\n    'progress',\n    'read',\n    'readonly',\n    'resumable',\n    'sortable',\n    'theme',\n    'thumbnailSize',\n    'uploadConfig',\n    'uploadHeaders',\n    'uploadUrl',\n    'uploadWithCredentials',\n    'value',\n  ],\n  components: {\n    VueFileIcon,\n    VueFilePreview,\n    VueFileList,\n    VueFileListItem,\n  },\n  directives: {\n    // https://github.com/Jexordexan/vue-slicksort/blob/master/src/HandleDirective.js\n    vfaSortableHandle: {\n      bind(el: HTMLElement) {\n        (el as any).sortableHandle = true;\n      },\n    },\n  },\n  data() {\n    return {\n      fileRecords: [] as FileRecord[],\n      rawFileRecords: [] as RawFileRecord[],\n      isDragging: false,\n      isSorting: false,\n      isSortingActive: false,\n      transitionDuration: 300,\n      overallProgress: 0,\n      uniqueId: '',\n      sortTimeout: 0,\n    };\n  },\n  computed: {\n    withCredentials(): boolean | undefined {\n      return this.uploadWithCredentials;\n    },\n    canAddMore(): boolean {\n      if (!this.hasMultiple) {\n        return this.fileRecords.length === 0;\n      }\n      if (!this.maxFiles) {\n        return true;\n      }\n      return this.fileRecords.length < this.maxFiles;\n    },\n    helpTextComputed(): string {\n      if (this.helpText) {\n        return this.helpText;\n      }\n      return 'Choose ' + (this.hasMultiple ? 'files' : 'file') + ' or drag & drop here';\n    },\n    isDeletable(): boolean {\n      if (typeof this.deletable === 'string') {\n        return this.deletable !== 'false';\n      }\n      return !!this.deletable;\n    },\n    isSortable(): boolean {\n      return !!this.sortable;\n    },\n    hasMultiple(): boolean {\n      if (typeof this.multiple === 'string') {\n        return this.multiple !== 'false';\n      }\n      if (this.multiple === undefined) {\n        return Array.isArray(this.value);\n      }\n      return !!this.multiple;\n    },\n    shouldRead(): boolean {\n      if (typeof this.read === 'string') {\n        return this.read === 'true';\n      }\n      return !!this.read;\n    },\n  },\n  methods: {\n    createThumbnail(fileRecord: FileRecord, video: HTMLVideoElement): Promise<void> {\n      return new Promise((resolve, reject) => {\n        const canvas = document.createElement('canvas');\n        utils\n          .createVideoThumbnail(\n            video,\n            canvas,\n            fileRecord.thumbnailSize,\n            this.averageColor !== false,\n            this.withCredentials\n          )\n          .then((thumbnail) => {\n            fileRecord.imageColor = thumbnail.color;\n            fileRecord.videoThumbnail = thumbnail.url;\n            fileRecord.dimensions.width = thumbnail.width;\n            fileRecord.dimensions.height = thumbnail.height;\n            resolve();\n          }, reject);\n      });\n    },\n    initVideo(fileRecord: FileRecord): void {\n      if (!fileRecord.isPlayableVideo()) {\n        return;\n      }\n      const createObjectURL = (window.URL || window.webkitURL || {}).createObjectURL;\n      const revokeObjectURL = (window.URL || window.webkitURL || {}).revokeObjectURL;\n      const video = document.createElement('video');\n      video.src = createObjectURL(fileRecord.file);\n      this.createThumbnail(fileRecord, video).then(() => {\n        revokeObjectURL(video.src);\n      });\n      video.load();\n    },\n    getFileRecordOrRawInstance(fileRecordOrRaw: FileRecord | RawFileRecord, raw: boolean): FileRecord | RawFileRecord {\n      let i;\n      if (fileRecordOrRaw instanceof FileRecord) {\n        i = this.fileRecords.indexOf(fileRecordOrRaw);\n      } else {\n        i = this.rawFileRecords.indexOf(fileRecordOrRaw);\n      }\n      if (i === -1) {\n        return fileRecordOrRaw;\n      }\n      return raw ? this.rawFileRecords[i] : this.fileRecords[i];\n    },\n    getFileRecordRawInstance(fileRecordOrRaw: FileRecord | RawFileRecord): RawFileRecord {\n      return this.getFileRecordOrRawInstance(fileRecordOrRaw, true) as RawFileRecord;\n    },\n    getFileRecordInstance(fileRecordOrRaw: FileRecord | RawFileRecord): FileRecord {\n      return this.getFileRecordOrRawInstance(fileRecordOrRaw, false) as FileRecord;\n    },\n    prepareConfigureFn(configureXhr?: ConfigureFn) {\n      const withCredentials = this.uploadWithCredentials;\n      if (withCredentials !== true && withCredentials !== false) {\n        return configureXhr;\n      }\n      return (request: XMLHttpRequest) => {\n        request.withCredentials = withCredentials;\n        if (typeof configureXhr === 'function') {\n          configureXhr(request);\n        }\n      };\n    },\n    upload(\n      url: string,\n      headers: object,\n      fileRecordsOrRaw: FileRecord[] | RawFileRecord[],\n      createFormData?: (fileRecord: FileRecord) => FormData,\n      configureXhr?: ConfigureFn\n    ): Promise<any> {\n      const validFileRecords: FileRecord[] = [];\n      const validFilesRawData: RawFileRecord[] = [];\n      for (const fileRecordOrRaw of fileRecordsOrRaw) {\n        const fileRecord = this.getFileRecordInstance(fileRecordOrRaw);\n        if (!fileRecord.error) {\n          validFileRecords.push(fileRecord);\n          validFilesRawData.push(this.getFileRecordRawInstance(fileRecord));\n        }\n      }\n      if (this.resumable) {\n        return uploader.tusUpload(\n          plugins.tus,\n          url,\n          headers,\n          validFileRecords,\n          (overallProgress) => {\n            this.overallProgress = overallProgress;\n          },\n          this.resumable === true ? undefined : this.resumable,\n          this.uploadWithCredentials\n        );\n      }\n      return new Promise((resolve, reject) => {\n        uploader\n          .upload(\n            url,\n            headers,\n            validFileRecords,\n            createFormData,\n            (overallProgress) => {\n              this.overallProgress = overallProgress;\n            },\n            this.prepareConfigureFn(configureXhr)\n          )\n          .then(\n            (res: any) => {\n              for (let i = 0; i < res.length; i++) {\n                res[i].fileRecord = validFilesRawData[i];\n              }\n              this.$emit('upload', res);\n              resolve(res);\n            },\n            (err: any) => {\n              for (let i = 0; i < err.length; i++) {\n                err[i].fileRecord = validFilesRawData[i];\n              }\n              this.$emit('upload:error', err);\n              reject(err);\n            }\n          );\n      });\n    },\n    deleteUpload(\n      url: string,\n      headers: object,\n      fileRecordOrRaw: FileRecord | RawFileRecord,\n      uploadData?: any,\n      configureXhr?: ConfigureFn\n    ): Promise<any> {\n      if (this.fileRecords.length < 1) {\n        this.overallProgress = 0;\n      }\n      const fileRecord = this.getFileRecordInstance(fileRecordOrRaw);\n      const rawFileRecord = this.getFileRecordRawInstance(fileRecordOrRaw);\n      if (this.resumable) {\n        return uploader.tusDeleteUpload(plugins.tus, url, headers, fileRecord);\n      }\n      return new Promise((resolve, reject) => {\n        uploader\n          .deleteUpload(url, headers, fileRecord as FileRecord, uploadData, this.prepareConfigureFn(configureXhr))\n          .then(\n            (res: any) => {\n              res.fileRecord = rawFileRecord;\n              this.$emit('upload:delete', res);\n              resolve(res);\n            },\n            (err: any) => {\n              err.fileRecord = rawFileRecord;\n              this.$emit('upload:delete:error', err);\n              reject(err);\n            }\n          );\n      });\n    },\n    updateUpload(\n      url: string,\n      headers: object,\n      fileRecord: FileRecord | RawFileRecord,\n      uploadData?: any,\n      configureXhr?: ConfigureFn\n    ): Promise<any> {\n      fileRecord = this.getFileRecordInstance(fileRecord);\n      const rawFileRecord = this.getFileRecordRawInstance(fileRecord);\n      return new Promise((resolve, reject) => {\n        uploader\n          .updateUpload(url, headers, fileRecord as FileRecord, uploadData, this.prepareConfigureFn(configureXhr))\n          .then(\n            (res: any) => {\n              res.fileRecords = rawFileRecord;\n              this.$emit('upload:update', res);\n              resolve(res);\n            },\n            (err) => {\n              err.fileRecords = rawFileRecord;\n              this.$emit('upload:update:error', err);\n              reject(err);\n            }\n          );\n      });\n    },\n    autoUpload(fileRecords: FileRecord[] | RawFileRecord[]): Promise<any> {\n      if (!this.uploadUrl || this.auto === false) {\n        return Promise.resolve(false);\n      }\n      return this.upload(this.uploadUrl, this.uploadHeaders, fileRecords, this.uploadConfig);\n    },\n    autoDeleteUpload(fileRecord: FileRecord | RawFileRecord): Promise<any> {\n      if (!this.uploadUrl || this.auto === false) {\n        return Promise.resolve(false);\n      }\n      return this.deleteUpload(this.uploadUrl, this.uploadHeaders, fileRecord, this.uploadConfig);\n    },\n    autoUpdateUpload(fileRecord: FileRecord): Promise<any> {\n      if (!this.uploadUrl || this.auto === false) {\n        return Promise.resolve(false);\n      }\n      return this.updateUpload(this.uploadUrl, this.uploadHeaders, fileRecord, this.uploadConfig);\n    },\n    equalFiles(file1: File, file2: File): boolean {\n      return (\n        true &&\n        file1.name === file2.name &&\n        file1.size === file2.size &&\n        file1.type === file2.type &&\n        // file1.lastModifiedDate.getTime() === file2.lastModifiedDate.getTime() &&\n        file1.lastModified === file2.lastModified\n      );\n    },\n    isFileAddedAlready(file: File): boolean {\n      for (const fileRecord of this.fileRecords) {\n        if (this.equalFiles(file, fileRecord.file as File)) {\n          return true;\n        }\n      }\n      return false;\n    },\n    handleFiles(files: File[] | FileList): void {\n      if (this.disabled === true || this.readonly === true) {\n        return;\n      }\n      if (this.hasMultiple && !this.canAddMore) {\n        return;\n      }\n      const fileRecords: FileRecord[] = [];\n      const filesFiltered: File[] = [];\n      // tslint:disable-next-line\n      for (let i = 0; i < files.length; i++) {\n        if (this.hasMultiple && this.isFileAddedAlready(files[i])) {\n          continue;\n        }\n        filesFiltered.push(files[i]);\n      }\n      files = filesFiltered;\n      if (this.hasMultiple && this.maxFiles && files.length > this.maxFiles - this.fileRecords.length) {\n        files = files.slice(0, this.maxFiles - this.fileRecords.length);\n      }\n      for (const file of files) {\n        fileRecords.push(\n          new FileRecord(\n            {\n              file,\n            } as RawFileRecord,\n            {\n              read: this.shouldRead,\n              maxSize: this.maxSize,\n              accept: this.accept,\n              thumbnailSize: this.thumbnailSize,\n              averageColor: this.averageColor,\n              withCredentials: this.withCredentials,\n            }\n          )\n        );\n      }\n\n      for (const fileRecord of fileRecords) {\n        if (fileRecord.file.size <= 20 * 1024 * 1024) {\n          // <= 20MB\n          this.initVideo(fileRecord);\n        }\n      }\n      if (this.hasMultiple) {\n        // splice: for list transitions to work properly\n        this.fileRecords.splice(this.fileRecords.length, 0, ...fileRecords);\n      } else {\n        this.fileRecords = fileRecords;\n      }\n\n      FileRecord.readFiles(fileRecords).then((fileRecordsNew: FileRecord[]) => {\n        const allFileRecordsRaw = FileRecord.toRawArray(this.fileRecords);\n        this.rawFileRecords = allFileRecordsRaw;\n        this.$emit('input', Array.isArray(this.value) ? allFileRecordsRaw : allFileRecordsRaw[0]);\n        this.$emit('select', FileRecord.toRawArray(fileRecordsNew));\n      });\n      this.autoUpload(fileRecords);\n    },\n    filesChanged(event: InputEvent): void {\n      let files: File[] | FileList = (event.target as HTMLInputElement).files as FileList;\n      this.$emit('change', event);\n      if (!files[0]) {\n        return;\n      }\n      if (!this.hasMultiple) {\n        files = [files[0]];\n      }\n      this.handleFiles(files);\n      if (this.$refs.fileInput) {\n        (this.$refs.fileInput as any).value = null; // do not use ''\n        // because chrome won't fire change event for same file\n      }\n    },\n    drop(event: DragEvent): void {\n      event.stopPropagation();\n      event.preventDefault();\n      dragCounter = 0;\n      this.isDragging = false;\n      if (this.disabled === true || this.readonly === true) {\n        return;\n      }\n      if (!event.dataTransfer) {\n        return;\n      }\n      utils.getFilesFromDroppedItems(event.dataTransfer).then((files) => {\n        this.$emit('drop', event);\n        if (!files || !files[0]) {\n          return;\n        }\n        if (!this.hasMultiple) {\n          files = [files[0]];\n        }\n        this.handleFiles(files);\n      });\n    },\n    dragEnter(event: DragEvent): void {\n      if (!event.dataTransfer) {\n        return;\n      }\n      this.isDragging = true;\n      event.stopPropagation();\n      event.preventDefault();\n      dragCounter++;\n      event.dataTransfer.dropEffect = 'copy'; // Explicitly show this is a copy.\n    },\n    dragOver(event: DragEvent): void {\n      if (!event.dataTransfer) {\n        return;\n      }\n      this.isDragging = true;\n      event.stopPropagation();\n      event.preventDefault();\n      event.dataTransfer.dropEffect = 'copy'; // Explicitly show this is a copy.\n    },\n    dragLeave(event: DragEvent): void {\n      if (!event.dataTransfer) {\n        return;\n      }\n      dragCounter--;\n      if (dragCounter === 0) {\n        this.isDragging = false;\n      }\n    },\n    removeFileRecord(fileRecordOrRaw: FileRecord | RawFileRecord): void {\n      const rawFileRecord = this.getFileRecordRawInstance(fileRecordOrRaw);\n      this.$emit('beforedelete', rawFileRecord);\n      if (!this.uploadUrl || this.auto === false) {\n        return;\n      }\n      this.deleteFileRecord(fileRecordOrRaw);\n    },\n    deleteFileRecord(fileRecordOrRaw: FileRecord | RawFileRecord): void {\n      let i: number;\n      if (fileRecordOrRaw instanceof FileRecord) {\n        i = this.fileRecords.indexOf(fileRecordOrRaw);\n      } else {\n        i = this.rawFileRecords.indexOf(fileRecordOrRaw);\n      }\n      let fileRecord = this.fileRecords[i];\n      let rawFileRecord = this.rawFileRecords[i];\n      this.$emit('input', this.rawFileRecords);\n      this.$emit('delete', rawFileRecord);\n      fileRecord = this.fileRecords.splice(i, 1)[0];\n      rawFileRecord = this.rawFileRecords.splice(i, 1)[0];\n      this.autoDeleteUpload(fileRecord).then(\n        (res) => {\n          /* no op */\n        },\n        (err) => {\n          this.fileRecords.splice(i, 0, fileRecord);\n          this.rawFileRecords.splice(i, 0, rawFileRecord);\n        }\n      );\n    },\n    filenameChanged(fileRecord: FileRecord): void {\n      this.$emit('rename', FileRecord.toRawArray([fileRecord])[0]);\n      this.autoUpdateUpload(fileRecord).then(\n        (res) => {\n          /* no op */\n        },\n        (err) => {\n          fileRecord.customName = fileRecord.oldCustomName;\n        }\n      );\n    },\n    checkValue(): void {\n      let rawFileRecords: RawFileRecord[] = this.value || [];\n      rawFileRecords = Array.isArray(rawFileRecords) ? rawFileRecords : [rawFileRecords];\n\n      const fdPromises: Array<Promise<FileRecord>> = [];\n      const rawFileRecordsNew: RawFileRecord[] = [];\n\n      for (let i = 0; i < rawFileRecords.length; i++) {\n        const existingIndex = this.rawFileRecords.indexOf(rawFileRecords[i]);\n        if (existingIndex !== -1) {\n          fdPromises.push(Promise.resolve(this.fileRecords[existingIndex]));\n          rawFileRecordsNew[i] = this.rawFileRecords[existingIndex];\n        } else {\n          fdPromises.push(\n            FileRecord.fromRaw(rawFileRecords[i], {\n              read: this.shouldRead,\n              maxSize: this.maxSize,\n              accept: this.accept,\n              thumbnailSize: this.thumbnailSize,\n              averageColor: this.averageColor,\n              withCredentials: this.withCredentials,\n            })\n          );\n          rawFileRecordsNew.push(rawFileRecords[i]);\n        }\n      }\n\n      this.rawFileRecords = rawFileRecordsNew;\n      Promise.all(fdPromises).then((fileRecords) => {\n        this.fileRecords = fileRecords;\n      });\n    },\n    sortStart(): void {\n      if (this.sortTimeout) {\n        clearTimeout(this.sortTimeout);\n      }\n      this.isSorting = true;\n      this.isSortingActive = true;\n    },\n    sortEnd(sortData: { event: Event; newIndex: number; oldIndex: number; collection: any }): void {\n      this.isSortingActive = false;\n      if (this.sortTimeout) {\n        clearTimeout(this.sortTimeout);\n      }\n      this.sortTimeout = setTimeout(() => {\n        this.isSorting = false;\n      }, this.transitionDuration + 100);\n      if (sortData.oldIndex !== sortData.newIndex) {\n        this.rawFileRecords = utils.arrayMove(this.rawFileRecords, sortData.oldIndex, sortData.newIndex);\n        this.$nextTick(() => {\n          this.$emit('input', this.rawFileRecords);\n          this.$emit('sort', {\n            oldIndex: sortData.oldIndex,\n            newIndex: sortData.newIndex,\n          });\n        });\n      }\n    },\n  },\n  created() {\n    this.uniqueId = new Date().getTime().toString(36) + Math.random().toString(36).slice(2);\n    this.checkValue();\n  },\n  watch: {\n    value() {\n      this.checkValue();\n    },\n  },\n});\n","\nimport Vue from 'vue';\nimport mixin from './vue-file-agent-mixin';\n\nexport default Vue.extend({\n  mixins: [mixin],\n});\n","import mod from \"-!../../node_modules/ts-loader/index.js??clonedRuleSet-126.use[0]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./vue-file-agent.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/ts-loader/index.js??clonedRuleSet-126.use[0]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./vue-file-agent.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./vue-file-agent.vue?vue&type=template&id=d0148d4a&\"\nimport script from \"./vue-file-agent.vue?vue&type=script&lang=ts&\"\nexport * from \"./vue-file-agent.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./vue-file-agent.vue?vue&type=style&index=0&id=d0148d4a&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import VueFileIcon from './components/vue-file-icon.vue';\nimport VueFilePreview from './components/vue-file-preview.vue';\nimport VueFileList from './components/vue-file-list.vue';\nimport VueFileListItem from './components/vue-file-list-item.vue';\nimport VueFileAgent from './components/vue-file-agent.vue';\nimport VueFileAgentMixin from './components/vue-file-agent-mixin';\nimport VueFilePreviewMixin from './components/vue-file-preview-mixin';\nimport utils from './lib/utils';\nimport plugins from './lib/plugins';\nimport FileRecord from './lib/file-record';\n\nimport _Vue from 'vue';\n\nexport class VueFileAgentPlugin implements Vue.PluginObject<any> {\n  public VueFileIcon = VueFileIcon;\n  public VueFilePreview = VueFilePreview;\n  public VueFileAgent = VueFileAgent;\n  public component = VueFileAgent;\n  public mixin = VueFileAgentMixin;\n  public plugins = plugins;\n\n  public VueFileAgentMixin = VueFileAgentMixin;\n  public VueFilePreviewMixin = VueFilePreviewMixin;\n\n  public install: Vue.PluginFunction<any> = (Vue: typeof _Vue, options: any) => {\n    Vue.component('VueFileIcon', VueFileIcon);\n    Vue.component('VueFilePreview', VueFilePreview);\n    Vue.component('VueFileList', VueFileList);\n    Vue.component('VueFileListItem', VueFileListItem);\n    Vue.component('VueFileAgent', VueFileAgent);\n    Vue.prototype.$vueFileAgent = {\n      mixin: VueFileAgentMixin,\n    };\n  }\n}\n\nconst vfaPlugin = new VueFileAgentPlugin();\n\n// auto install\nif (typeof window !== 'undefined' && window.Vue) {\n  vfaPlugin.install(window.Vue, {});\n  (window as any).VueFileAgent = vfaPlugin;\n}\n\nexport const mixin = VueFileAgentMixin;\n\nexport { VueFileAgentMixin, VueFilePreviewMixin };\n\nexport { utils, FileRecord, plugins };\n\nexport const FileData = FileRecord; // for backward compatibility\n\nexport default vfaPlugin;\n","import './setPublicPath'\nimport mod from '~entry'\nexport default mod\nexport * from '~entry'\n"],"names":["root","factory","exports","module","require","define","amd","self","this","__WEBPACK_EXTERNAL_MODULE__203__","getCurrentScript","descriptor","Object","getOwnPropertyDescriptor","document","currentScript","get","Error","err","pageSource","inlineScriptSourceRegExp","inlineScriptSource","ieStackRegExp","ffStackRegExp","stackDetails","exec","stack","scriptLocation","line","currentLocation","location","href","replace","hash","scripts","getElementsByTagName","documentElement","outerHTML","RegExp","trim","i","length","readyState","src","innerHTML","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","call","n","getter","__esModule","d","a","definition","key","o","defineProperty","enumerable","obj","prop","prototype","hasOwnProperty","r","Symbol","toStringTag","value","p","window","match","render","_vm","_c","_self","_setupProxy","attrs","viewBoxComputed","_l","icon","index","_e","staticRenderFns","create","__values","s","iterator","m","next","done","TypeError","__read","e","ar","push","error","__spreadArray","to","from","pack","arguments","l","Array","slice","concat","paths","color","viewBox","category","playIconPaths","icons","SvgIcon","extensionsMap","cat","extensions","ext","getIconByName","name","svgIcon","other","getIconFromExt","toLowerCase","props","computed","normalizeComponent","scriptExports","functionalTemplate","injectStyles","scopeId","moduleIdentifier","shadowMode","hook","options","_compiled","functional","_scopeId","context","$vnode","ssrContext","parent","__VUE_SSR_CONTEXT__","_registeredComponents","add","_ssrRegister","$root","$options","shadowRoot","_injectStyles","originalRender","h","existing","beforeCreate","ImageOrientation","component","class","fileRecord","isImage","isPlayingAv","deletable","editable","isEditInputFocused","isPlayableAudio","isPlayableVideo","ref","staticClass","on","$event","playAv","isDarkColor","style","dismissError","_v","_s","getErrorMessage","errorText","staticStyle","url","size","removeFileRecord","filenameClearPressed","editFileName","disabled","domProps","editInputFocused","editInputBlured","filenameChanged","type","indexOf","_k","keyCode","dimensions","width","height","hasProgress","progress","getFilesFromDroppedItems","dataTransfer","Promise","resolve","includesFolder","files","folderReadQueue","items","item","kind","fileSystemEntries","getEntries","file","getAsFile","all","then","filesInFolders","entry","getAsEntry","webkitGetAsEntry","isFile","isDirectory","createReader","readEntries","entries","iterateEntry","entryFiles","transfer","arrayMove","arr","previousIndex","newIndex","array","k","splice","getAverageColor","bytesPerPixel","arrLength","step","len","preparedStep","redTotal","greenTotal","blueTotal","alphaTotal","count","alpha","red","green","blue","Math","round","createVideoThumbnail","video","canvas","thumbnailSize","calculateAverageColor","withCredentials","setAttribute","reject","loadedmetadata","loadeddata","tryGetThumbnail","getContext","drawImage","imageData","getImageData","data","toDataURL","videoWidth","videoHeight","addEventListener","currentTime","getDataURL","reader","FileReader","onload","event","target","result","readAsDataURL","getImageOrientationFromArrayBuffer","buffer","view","DataView","getUint16","byteLength","offset","marker","getUint32","little","tags","getImageOrientation","readAsArrayBuffer","rotateCanvas","srcOrientation","ctx","transform","getImageResized","image","widthLimit","heightLimit","orientation","floor","createElement","avgColor","rgba","resizeImageUrl","resized","onerror","resizeImageFile","createObjectURL","URL","webkitURL","revokeObjectURL","shouldRevoke","orientationPromise","File","dataUrl","resizeImage","Image","getSizeFormatted","bytes","sizes","log","parseInt","pow","getSizeParsed","toUpperCase","matches","parseFloat","getColorForText","text","getHashCode","charCodeAt","intToHSL","validateType","accept","acceptedFiles","split","mimeType","baseMimeType","validType","charAt","test","validateSize","maxSize","Utils","urlValue","urlResized","oldFileName","oldCustomName","upload","lastKnownSrc","raw","createDummyFile","progressInternal","isNaN","read","id","random","Date","getTime","videoThumbnail","imageColor","customName","averageColor","validate","getFromRaw","rawFileRecord","isSync","FileRecord","promise","setUrl","console","fromRaw","fromRawSync","fromRawArray","rawFileRecords","promises","toRawArray","fileRecords","toRaw","readFile","utils","readFiles","lastModified","setTime","lastModifiedDate","pop","withoutExt","substr","rgb","darkPoint","isVideo","isAudio","isText","imageResized","catch","common","bind","sizeText","validSize","components","VueFileIcon","isEditCancelable","hasLinkableUrl","linkable","methods","updateFileRecord","createThumbnail","poster","thumbnail","stopAv","wrapper","$refs","player","HTMLVideoElement","controls","appendChild","play","removeChild","clearFilename","$emit","input","focus","oldValue","newValue","timeout","setTimeout","$nextTick","completed","blur","created","watch","mixins","_t","isSortable","sortable","isSorting","isSortingActive","isDragging","readonly","hasMultiple","canAddMore","theme","uniqueId","dragOver","dragEnter","dragLeave","drop","compact","meta","overallProgress","tag","transitionDuration","sortStart","sortEnd","model","callback","$$v","expression","directives","rawName","isDeletable","helpTextComputed","capture","filesChanged","createError","message","code","request","response","settle","validateStatus","status","method","formData","configureFn","XMLHttpRequest","loadEvent","open","responseURL","responseHeaders","getAllResponseHeaders","responseData","responseText","contentType","getResponseHeader","JSON","parse","statusText","headers","onabort","ontimeout","send","post","delete","put","AjaxRequest","addHeaders","xhr","setRequestHeader","doUpload","progressCallback","doDeleteUpload","uploadData","stringify","doUpdateUpload","prepareUploadError","errorMsg","createFormData","progressFn","updateOverallProgress","prgTotal","failedUploadsCount","FormData","append","progressEvent","percentCompleted","loaded","total","xhrQueue","responses","deleteUpload","abort","updateUpload","old_filename","filename","doTusUpload","tus","tusOptionsFn","uploadWithCredentials","tusOptions","Upload","endpoint","retryDelays","metadata","filetype","onError","onProgress","bytesUploaded","bytesTotal","onSuccess","onBeforeRequest","req","getUnderlyingObject","tusUpload","start","tusDeleteUpload","shouldTerminate","res","rej","UploadHelper","dragCounter","VueFilePreview","VueFileList","VueFileListItem","vfaSortableHandle","el","sortableHandle","sortTimeout","maxFiles","helpText","multiple","isArray","shouldRead","initVideo","load","getFileRecordOrRawInstance","fileRecordOrRaw","getFileRecordRawInstance","getFileRecordInstance","prepareConfigureFn","configureXhr","fileRecordsOrRaw","validFileRecords","validFilesRawData","resumable","plugins","autoUpload","uploadUrl","auto","uploadHeaders","uploadConfig","autoDeleteUpload","autoUpdateUpload","equalFiles","file1","file2","isFileAddedAlready","handleFiles","filesFiltered","fileRecordsNew","allFileRecordsRaw","fileInput","stopPropagation","preventDefault","dropEffect","deleteFileRecord","checkValue","fdPromises","rawFileRecordsNew","existingIndex","clearTimeout","sortData","oldIndex","toString","VueFileAgent","mixin","VueFileAgentMixin","VueFilePreviewMixin","install","Vue","$vueFileAgent","vfaPlugin","VueFileAgentPlugin","FileData"],"sourceRoot":""}